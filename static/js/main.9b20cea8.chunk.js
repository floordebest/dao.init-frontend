(this["webpackJsonpdao.init-frontend"]=this["webpackJsonpdao.init-frontend"]||[]).push([[0],{105:function(e,t,a){e.exports=a(127)},119:function(e,t){},127:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),c=a.n(o),s=a(15),l=a.n(s),i=a(24),u=a(8),m=a(16),d=a(92),p=a(192),f=a(193),b=a(188),x=a(175),g=a(194),E=a(195),h=a(196),S=a(130),v=a(19),y=a.n(v),A=a(7),j=a(166),O=a(176),k=a(177),C=a(178),T=a(179),w=a(180),I=a(181),R=a(96),F=a(197),N=a(183),P=a(184),D=a(174),G=a(185),L=a(201),U=a(171),z=a(87),M=a.n(z),B=a(172),_=a(173),J=a(198),W=a(200),K=a(168),V=a(170),q=Object(j.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),H=function(e){var t=e.tx,a=e.txRes,o=e.txStatus,c=Object(n.useState)(!0),s=Object(u.a)(c,2),l=s[0],i=s[1],m=Object(n.useState)(!1),d=Object(u.a)(m,2),p=d[0],f=d[1],b=q(),g="pending"===o?"info":"success"===o?"success":"timeout"===o?"warning":"error";return Object(n.useEffect)((function(){return i(!0)}),[o]),o?r.a.createElement("div",{className:b.root},r.a.createElement(K.a,{in:l},r.a.createElement(L.a,{severity:g,action:r.a.createElement(V.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){return i(!1)}},r.a.createElement(M.a,{fontSize:"inherit"}))},r.a.createElement(U.a,null,r.a.createElement(B.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(B.a,{item:!0},Q(o)),"validation-error"===o||"failure"===o?r.a.createElement(B.a,{item:!0},r.a.createElement(_.a,{orientation:"vertical",flexItem:!0}),r.a.createElement(D.a,{size:"small",onClick:function(){return f(!0)}},"View")):r.a.createElement(r.a.Fragment,null))),"pending"===o?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Awaiting Confirmation"),r.a.createElement("a",{href:"".concat(A.daoAPI.explorerURL,"/tx/").concat(t.hash)},"Eventual Block Explorer Link")):"success"===o?r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"".concat(A.daoAPI.explorerURL,"/tx/").concat(t.hash)},"View transaction in Block Explorer")):"failure"===o?r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"".concat(A.daoAPI.explorerURL,"/tx/").concat(t.hash)},"View transaction in Block Explorer"),r.a.createElement("div",null,r.a.createElement(W.a,{open:p,onClose:function(){return f(!1)}},r.a.createElement(x.a,{maxWidth:"lg"},r.a.createElement(ee,{json:a}))))):"timeout"===o?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"...but your tx was sent."),r.a.createElement("a",{href:"".concat(A.daoAPI.explorerURL,"/tx/").concat(t.hash)},"View transaction in Block Explorer")):"validation-error"===o?r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,null,"Transaction was not sent to Blockchain. Check your keys or metadata."),r.a.createElement("div",null,r.a.createElement(W.a,{open:p,onClose:function(){return f(!1)}},r.a.createElement(x.a,{maxWidth:"md"},r.a.createElement(R.a,null,a.toString()))))):r.a.createElement(r.a.Fragment,null)))):r.a.createElement(r.a.Fragment,null)},Q=(Object(j.a)((function(e){return{root:{display:"flex",flexWrap:"wrap","& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"25ch"}}})),function(e){return e.split("-").map((function(e){return e.replace(new RegExp("^.","gm"),(function(e){return e.toUpperCase()}))})).join(" ")}),$=function(e){return!e||"object"!==typeof e||("timep"in e||"int"in e||"decimal"in e||"time"in e)},Z=function(e){return e&&"object"===typeof e?"time"in e?e.time:"timep"in e?e.timep:"int"in e?"string"===typeof e.int?e.int:e.int.toLocaleString():"decimal"in e?"string"===typeof e.decimal?e.decimal:e.decimal.toLocaleString():JSON.stringify(e):"boolean"===typeof e?e.toString():"string"===typeof e?e:"number"===typeof e?e.toLocaleString():JSON.stringify(e)},X=Object(j.a)({table:{minWidth:650}}),Y=Object(j.a)({table:{minWidth:650},root:{"& > *":{borderBottom:"unset"}}}),ee=function e(t){var a=t.json||{},n=t.isNested||!1,o=n?Y:X,c=t.header||[],s=t.keyFormatter?t.keyFormatter:function(e){return e},l=t.valFormatter?t.valFormatter:function(e){return r.a.createElement("code",null,Z(e))},i=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,null,r.a.createElement(k.a,null,c.map((function(e){return r.a.createElement(C.a,null,e)})))),r.a.createElement(T.a,null,Object.entries(a).map((function(t){var n=Object(u.a)(t,2),o=n[0],c=n[1];return r.a.createElement(k.a,{key:o},!1===Array.isArray(a)?r.a.createElement(C.a,null,s(o)):r.a.createElement(r.a.Fragment,null),$(c)?r.a.createElement(C.a,null,l(c)):"object"===typeof c?r.a.createElement(e,{json:c,keyFormatter:s,valFormatter:l,isNested:!0}):"function"===typeof c?r.a.createElement(C.a,null,l(c.toString())):r.a.createElement(C.a,null,l(c)))}))))};return n?r.a.createElement(w.a,{className:o.table,size:"small","aria-label":"simple table"},i()):r.a.createElement(I.a,{component:R.a},r.a.createElement(w.a,{className:o.table,size:"small","aria-label":"simple table"},i()))},te=function e(t){var a=t.json||{},n=t.isNested||!1,o=n?Y:X,c=t.header||[],s=[];t.keyOrder?s=t.keyOrder:Array.isArray(t.json)&&a.length>0&&(s=Object.keys(a[0]));var l=t.keyFormatter?t.keyFormatter:function(e){return e},i=t.valFormatter?t.valFormatter:function(e){return r.a.createElement("code",null,Z(e))},u=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,null,r.a.createElement(k.a,null,c.map((function(e){return r.a.createElement(C.a,null,e)})))),r.a.createElement(T.a,null,a.map((function(t){return r.a.createElement(k.a,{key:t[s[0]]},s.map((function(a){var n=t[a];return r.a.createElement(C.a,null,$(n)?i(n):Array.isArray(n)?r.a.createElement(e,{json:n,keyFormatter:l,valFormatter:i,isNested:!0}):"object"===typeof n?r.a.createElement(ee,{json:n,keyFormatter:l,valFormatter:i,isNested:!0}):i("function"===typeof n?n.toString():n))})))}))))};return n?r.a.createElement(w.a,{className:o.table,size:"small","aria-label":"simple table"},u()):r.a.createElement(I.a,{component:R.a},r.a.createElement(w.a,{className:o.table,size:"small","aria-label":"simple table"},u()))},ae=function(e){var t=e.inputField,a=t.type,n=t.label,o=t.options,c=t.placeholder,s=t.className,l=t.onChange,i=t.value;return"select"===a?r.a.createElement(F.a,{id:"outlined-multiline-static",select:!0,required:!0,fullWidth:!0,className:s,variant:"outlined",label:n,onChange:function(e){return l(e.target.value)}},o.map((function(e){return r.a.createElement(N.a,{key:e,value:e},e)}))):"textFieldSingle"===a?r.a.createElement(F.a,{required:!0,fullWidth:!0,value:i,className:s,variant:"outlined",label:n,onChange:function(e){return l(e.target.value)}}):"textFieldMulti"===a?r.a.createElement(F.a,{required:!0,fullWidth:!0,label:n,className:s,multiline:!0,rows:4,variant:"outlined",placeholder:c,onChange:function(e){return l(e.target.value)}}):null},ne=function(e){var t=e.inputFields,a=e.onSubmit,o=e.tx,c=e.txRes,s=e.txStatus,l=e.setTxStatus,i=Object(n.useState)(!1),m=Object(u.a)(i,2),d=m[0],p=m[1];return Object(n.useEffect)((function(){return p(!1)}),[t]),Object(n.useEffect)((function(){return p(""!==s||d)}),[s]),r.a.createElement("div",null,r.a.createElement("form",{autoComplete:"off",onSubmit:function(e){return a(e)}},t.map((function(e){return r.a.createElement(ae,{inputField:e})})),r.a.createElement(P.a,null,"pending"===s?null:r.a.createElement(D.a,{variant:"outlined",color:"default",type:"submit",disabled:d},"Submit"))),"pending"===s?r.a.createElement(G.a,null):null,r.a.createElement(H,{tx:o,txRes:c,txStatus:s,setTxStatus:l}))},re=Object(S.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"}}})),oe=function(){var e=Object(i.a)(l.a.mark((function e(t,a,n,r,o,c){var s,i,u,m,d,p,f,b=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=b.length>6&&void 0!==b[6]?b[6]:{},i=b.length>7&&void 0!==b[7]?b[7]:[],e.prev=2,u={pactCode:c,caps:Array.isArray(i)&&i.length?i:y.a.lang.mkCap("Guadian Cap","Authenticates that you're a guardian","".concat(A.daoAPI.contractAddress,".GUARDIAN"),[o]),gasLimit:A.daoAPI.meta.gasLimit,chainId:A.daoAPI.meta.chainId,ttl:A.daoAPI.meta.ttl,sender:o,envData:s},console.log("toSign",u),e.next=7,y.a.wallet.sign(u);case 7:if(m=e.sent,console.log("signed",m),"object"!==typeof m||!("hash"in m)){e.next=13;break}t(m),e.next=14;break;case 13:throw new Error("Signing API Failed");case 14:return e.next=16,y.a.wallet.sendSigned(m,A.daoAPI.meta.host);case 16:d=e.sent,console.log("txReqKeys",d),a("pending"),e.prev=19,p=8,f={};case 22:if(!(p>0)){e.next=31;break}return e.next=25,new Promise((function(e){return setTimeout(e,15e3)}));case 25:return e.next=27,y.a.fetch.poll(d,A.daoAPI.meta.host);case 27:f=e.sent;try{f[m.hash].result.status?p=-1:p-=1}catch(l){p-=1}e.next=22;break;case 31:n(f),"success"===f[m.hash].result.status?(console.log("tx status set to success"),a("success"),r()):0===p?(console.log("tx status set to timeout"),a("timeout"),r()):(console.log("tx status set to failure"),a("failure")),e.next=41;break;case 36:e.prev=36,e.t0=e.catch(19),console.log("tx api failure",e.t0),n(e.t0),a("failure");case 41:e.next=47;break;case 43:e.prev=43,e.t1=e.catch(2),console.log("tx status set to validation error",e.t1),a("validation-error");case 47:case"end":return e.stop()}}),e,null,[[2,43],[19,36]])})));return function(t,a,n,r,o,c){return e.apply(this,arguments)}}(),ce=function(e){return r.a.createElement(te,{header:["Guardian","Committed KDA","Approved Hash","Approval Date","Voting Guard","Forum Moderation Guard"],keyOrder:["k","committed-kda","approved-hash","approved-date","guard","moderate-guard"],json:e.guardians})},se=function(e){var t=e.refresh,a=e.guardians,o=Object(n.useState)(""),c=Object(u.a)(o,2),s=c[0],l=c[1],i=Object(n.useState)(""),m=Object(u.a)(i,2),d=m[0],p=m[1],f=Object(n.useState)(""),b=Object(u.a)(f,2),x=b[0],g=b[1],E=e.pactTxStatus,h=E.txStatus,S=E.setTxStatus,v=E.tx,y=E.setTx,j=E.txRes,O=E.setTxRes,k=re(),C=[{type:"select",label:"Select Guardian",className:k.formControl,onChange:l,options:a.map((function(e){return e.k}))},{type:"textFieldSingle",label:"Ambassador Account Name",className:k.formControl,value:d,onChange:p},{type:"textFieldMulti",label:"Ambassador Account Guard",className:k.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:x,onChange:g}];return r.a.createElement(ne,{inputFields:C,onSubmit:function(e){e.preventDefault();try{oe(y,S,O,t,s,"(".concat(A.daoAPI.contractAddress,'.register-ambassador "').concat(s,'" "').concat(d,"\" (read-keyset 'ks))"),{ks:JSON.parse(x)})}catch(a){console.log("Ambassador Registration Submit Error",typeof a,a,s,d,x),O(a),S("validation-error")}},tx:v,txStatus:h,txRes:j,setTxStatus:S})},le=function(e){var t=e.refresh,a=Object(n.useState)(""),o=Object(u.a)(a,2),c=o[0],s=o[1],l=Object(n.useState)(""),i=Object(u.a)(l,2),m=i[0],d=i[1],p=e.pactTxStatus,f=p.txStatus,b=p.setTxStatus,x=p.tx,g=p.setTx,E=p.txRes,h=p.setTxRes,S=re(),v=[{type:"select",label:"Select Guardian",className:S.formControl,onChange:s,options:e.guardians.map((function(e){return e.k}))},{type:"select",label:"Select Ambassador",className:S.formControl,onChange:d,options:e.ambassadors.map((function(e){return e.k}))}];return r.a.createElement(ne,{inputFields:v,onSubmit:function(e){e.preventDefault();try{oe(g,b,h,t,c,"(".concat(A.daoAPI.contractAddress,'.deactivate-ambassador "').concat(c,'" "').concat(m,'")'))}catch(a){console.log("deactivate-ambassador Submit Error",typeof a,a,c),h(a),b("validation-error")}},tx:x,txStatus:f,txRes:E,setTxStatus:b})},ie=function(e){var t=e.refresh,a=Object(n.useState)(""),o=Object(u.a)(a,2),c=o[0],s=o[1],l=Object(n.useState)(""),i=Object(u.a)(l,2),m=i[0],d=i[1],p=e.pactTxStatus,f=p.txStatus,b=p.setTxStatus,x=p.tx,g=p.setTx,E=p.txRes,h=p.setTxRes,S=re(),v=[{type:"select",label:"Select Guardian",className:S.formControl,onChange:s,options:e.guardians.map((function(e){return e.k}))},{type:"select",label:"Select Ambassador",className:S.formControl,onChange:d,options:e.ambassadors.map((function(e){return e.k}))}];return r.a.createElement(ne,{inputFields:v,onSubmit:function(e){e.preventDefault();try{oe(g,b,h,t,c,"(".concat(A.daoAPI.contractAddress,'.reactivate-ambassador "').concat(c,'" "').concat(m,'")'))}catch(a){console.log("reactivate-ambassador Submit Error",typeof a,a,c),h(a),b("validation-error")}},tx:x,txStatus:f,txRes:E,setTxStatus:b})},ue=function(e){var t=e.refresh,a=e.guardians,o=Object(n.useState)(""),c=Object(u.a)(o,2),s=c[0],l=c[1],i=Object(n.useState)(""),m=Object(u.a)(i,2),d=m[0],p=m[1],f=e.pactTxStatus,b=f.txStatus,x=f.setTxStatus,g=f.tx,E=f.setTx,h=f.txRes,S=f.setTxRes,v=re(),y=[{type:"select",label:"Select Guardian",className:v.formControl,onChange:l,options:a.map((function(e){return e.k}))},{type:"textFieldMulti",label:"Guardian Voting Guard",className:v.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:d,onChange:p}];return r.a.createElement(ne,{inputFields:y,onSubmit:function(e){e.preventDefault();try{oe(E,x,S,t,s,"(".concat(A.daoAPI.contractAddress,'.rotate-guardian "').concat(s,"\" (read-keyset 'voteKs))"),{voteKs:JSON.parse(d)})}catch(a){console.log("rotate-guardian Submit Error",typeof a,a,s,d),S(a),x("validation-error")}},tx:g,txStatus:b,txRes:h,setTxStatus:x})},me=function(e){var t=e.refresh,a=e.guardians,o=Object(n.useState)(""),c=Object(u.a)(o,2),s=c[0],l=c[1],i=Object(n.useState)(""),m=Object(u.a)(i,2),d=m[0],p=m[1],f=e.pactTxStatus,b=f.txStatus,x=f.setTxStatus,g=f.tx,E=f.setTx,h=f.txRes,S=f.setTxRes,v=re(),y=[{type:"select",label:"Select Guardian",className:v.formControl,onChange:l,options:a.map((function(e){return e.k}))},{type:"textFieldSingle",label:"Proposed Upgrade Hash",className:v.formControl,value:d,onChange:p}];return r.a.createElement(ne,{inputFields:y,onSubmit:function(e){e.preventDefault();try{oe(E,x,S,t,s,"(".concat(A.daoAPI.contractAddress,'.propose-dao-upgrade "').concat(s,'" "').concat(d,'")'))}catch(a){console.log("propose-dao-upgrade Submit Error",typeof a,a,s,d),S(a),x("validation-error")}},tx:g,txStatus:b,txRes:h,setTxStatus:x})},de=function(e){var t=e.refresh,a=e.guardians,o=Object(n.useState)(""),c=Object(u.a)(o,2),s=c[0],l=c[1],i=Object(n.useState)(""),m=Object(u.a)(i,2),d=m[0],p=m[1],f=e.pactTxStatus,b=f.txStatus,x=f.setTxStatus,g=f.tx,E=f.setTx,h=f.txRes,S=f.setTxRes,v=re(),y=[{type:"select",label:"Select Guardian",className:v.formControl,onChange:l,options:a.map((function(e){return e.k}))},{type:"select",label:"Proposed Upgrade Hash",className:v.formControl,value:p,options:a.map((function(e){return e["approved-hash"]}))}];return r.a.createElement(ne,{inputFields:y,onSubmit:function(e){e.preventDefault();try{oe(E,x,S,t,s,"(".concat(A.daoAPI.contractAddress,'.guardian-approve-hash "').concat(s,'" "').concat(d,'")'))}catch(a){console.log("guardian-approve-hash Submit Error",typeof a,a,s,d),S(a),x("validation-error")}},tx:g,txStatus:b,txRes:h,setTxStatus:x})},pe=function(e){var t=e.refresh,a=Object(n.useState)(""),o=Object(u.a)(a,2),c=o[0],s=o[1],l=Object(n.useState)(""),i=Object(u.a)(l,2),m=i[0],d=i[1],p=e.pactTxStatus,f=p.txStatus,b=p.setTxStatus,x=p.tx,g=p.setTx,E=p.txRes,h=p.setTxRes,S=re(),v=[{type:"textFieldSingle",label:"Guardian Account Name",className:S.formControl,value:c,onChange:s},{type:"textFieldMulti",label:"Guardian Voting Guard",className:S.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:m,onChange:d}];return r.a.createElement(ne,{inputFields:v,onSubmit:function(e){e.preventDefault();try{oe(g,b,h,t,c,"(".concat(A.daoAPI.contractAddress,'.register-guardian "').concat(c,"\" (read-keyset 'voteKs))"),{voteKs:JSON.parse(m)},[y.a.lang.mkCap("TRANSFER Cap","Stake the needed amount","coin.TRANSFER",[c,A.daoAPI.constants.DAO_ACCT_NAME,A.daoAPI.constants.GUARDIAN_KDA_REQUIRED])])}catch(a){console.log("Guardian Registration Submit Error",typeof a,a,c,m),h(a),b("validation-error")}},tx:x,txStatus:f,txRes:E,setTxStatus:b})},fe=Object(S.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"}}})),be=function(e){return r.a.createElement(te,{header:["Ambassador","Active","Voted to Freeze","Guard"],keyOrder:["k","active","voted-to-freeze","guard"],json:e.ambassadors})},xe=function(){var e=Object(i.a)(l.a.mark((function e(t,a,n,r,o,c){var s,i,u,m,d,p,f,b=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=b.length>6&&void 0!==b[6]?b[6]:{},i=b.length>7&&void 0!==b[7]?b[7]:[],e.prev=2,u={pactCode:c,caps:Array.isArray(i)&&i.length?i:y.a.lang.mkCap("Ambassador Cap","Authenticates that you're an ambassador","".concat(A.daoAPI.contractAddress,".AMBASSADOR"),[o]),gasLimit:A.daoAPI.meta.gasLimit,chainId:A.daoAPI.meta.chainId,ttl:A.daoAPI.meta.ttl,sender:o,envData:s},console.log("toSign",u),e.next=7,y.a.wallet.sign(u);case 7:return m=e.sent,console.log("signed",m),t(m),e.next=12,y.a.wallet.sendSigned(m,A.daoAPI.meta.host);case 12:d=e.sent,console.log("txReqKeys",d),a("pending"),e.prev=15,p=8,f={};case 18:if(!(p>0)){e.next=27;break}return e.next=21,new Promise((function(e){return setTimeout(e,15e3)}));case 21:return e.next=23,y.a.fetch.poll(d,A.daoAPI.meta.host);case 23:f=e.sent;try{f[m.hash].result.status?p=-1:p-=1}catch(l){p-=1}e.next=18;break;case 27:n(f),"success"===f[m.hash].result.status?(console.log("tx status set to success"),a("success"),r()):0===p?(console.log("tx status set to timeout"),a("timeout"),r()):(console.log("tx status set to failure"),a("failure")),e.next=37;break;case 32:e.prev=32,e.t0=e.catch(15),console.log("tx api failure",e.t0),n(e.t0),a("failure");case 37:e.next=43;break;case 39:e.prev=39,e.t1=e.catch(2),console.log("tx status set to validation error",e.t1),a("validation-error");case 43:case"end":return e.stop()}}),e,null,[[2,39],[15,32]])})));return function(t,a,n,r,o,c){return e.apply(this,arguments)}}(),ge=function(e){var t=e.refresh,a=e.ambassadors,o=Object(n.useState)(""),c=Object(u.a)(o,2),s=c[0],l=c[1],i=e.pactTxStatus,m=i.txStatus,d=i.setTxStatus,p=i.tx,f=i.setTx,b=i.txRes,x=i.setTxRes,g=[{type:"select",label:"Select Ambassador",className:fe().formControl,onChange:l,options:a.map((function(e){return e.k}))}];return r.a.createElement(ne,{inputFields:g,onSubmit:function(e){e.preventDefault();try{xe(f,d,x,t,s,"(".concat(A.daoAPI.contractAddress,'.vote-to-freeze "').concat(s,'")'))}catch(a){console.log("vote to freeze Submit Error",typeof a,a,s),x(a),d("validation-error")}},tx:p,txStatus:m,txRes:b,setTxStatus:d})},Ee=function(e){var t=e.refresh,a=e.ambassadors,o=Object(n.useState)(""),c=Object(u.a)(o,2),s=c[0],l=c[1],i=e.pactTxStatus,m=i.txStatus,d=i.setTxStatus,p=i.tx,f=i.setTx,b=i.txRes,x=i.setTxRes,g=[{type:"select",label:"Select Ambassador",className:fe().formControl,onChange:l,options:a.map((function(e){return e.k}))}];return r.a.createElement(ne,{inputFields:g,onSubmit:function(e){e.preventDefault();try{xe(f,d,x,t,s,"(".concat(A.daoAPI.contractAddress,'.freeze "').concat(s,'")'))}catch(a){console.log("freeze Submit Error",typeof a,a,s),x(a),d("validation-error")}},tx:p,txStatus:m,txRes:b,setTxStatus:d})},he=function(e){var t=e.refresh,a=e.ambassadors,o=Object(n.useState)(""),c=Object(u.a)(o,2),s=c[0],l=c[1],i=Object(n.useState)(""),m=Object(u.a)(i,2),d=m[0],p=m[1],f=e.pactTxStatus,b=f.txStatus,x=f.setTxStatus,g=f.tx,E=f.setTx,h=f.txRes,S=f.setTxRes,v=fe(),y=[{type:"select",label:"Select Ambassador",className:v.formControl,onChange:l,options:a.map((function(e){return e.k}))},{type:"textFieldMulti",label:"Guardian Account Guard",className:v.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:d,onChange:p}];return r.a.createElement(ne,{inputFields:y,onSubmit:function(e){e.preventDefault();try{xe(E,x,S,t,s,"(".concat(A.daoAPI.contractAddress,'.rotate-ambassador "').concat(s,"\" (read-keyset 'ks))"),{ks:JSON.parse(d)})}catch(a){console.log("rotate-ambassador Submit Error",typeof a,a,s,d),S(a),x("validation-error")}},tx:g,txStatus:b,txRes:h,setTxStatus:x})},Se=function(){return r.a.createElement(ee,{json:A.daoAPI,keyFormatter:A.keyFormatter})},ve=function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.fetch.local({pactCode:"(".concat(A.daoAPI.contractAddress,".").concat(t,")"),meta:y.a.lang.mkMeta(A.daoAPI.meta.sender,A.daoAPI.meta.chainId,A.daoAPI.meta.gasPrice,A.daoAPI.meta.gasLimit,A.daoAPI.meta.creationTime(),A.daoAPI.meta.ttl)},A.daoAPI.meta.host);case 2:return a=e.sent,n=a.result.data,console.log("local query data",n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(e){return r.a.createElement(ee,{json:e.initState,header:["","Status"],keyFormatter:Q})},Ae=function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.fetch.local({pactCode:"(".concat(A.forumAPI.contractAddress,".").concat(t,")"),meta:y.a.lang.mkMeta(A.forumAPI.meta.sender,A.forumAPI.meta.chainId,A.forumAPI.meta.gasPrice,A.forumAPI.meta.gasLimit,A.forumAPI.meta.creationTime(),A.forumAPI.meta.ttl)},A.forumAPI.meta.host);case 2:return a=e.sent,n=a.result.data,console.log("local query data: (".concat(A.forumAPI.contractAddress,".").concat(t,")"),n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(e){return r.a.createElement(ee,{json:e.forumState,header:["","Status"],keyFormatter:Q})},Oe=function(){return r.a.createElement(ee,{json:A.forumAPI,keyFormatter:A.keyFormatter})},ke=a(68),Ce=a(72),Te=a(129),we=a(186),Ie=a(187),Re=a(182),Fe=a(189),Ne=a(190),Pe=a(202),De=a(203),Ge=a(14),Le=a(89),Ue=a.n(Le),ze=a(90),Me=a.n(ze),Be=a(91),_e=a.n(Be),Je=a(88),We=a.n(Je),Ke=Object(j.a)((function(e){return{root:{display:"flex"},drawer:Object(ke.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(ke.a)({},e.breakpoints.up("sm"),{zIndex:e.zIndex.drawer+1}),menuButton:Object(ke.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)},nested:{paddingLeft:e.spacing(4)},logo:{height:"60px"}}})),Ve=function e(t){var a=t.icon,n=t.primary,o=t.to,c=t.subList,s=c&&Array.isArray(c),l=r.a.useState(!0),i=Object(u.a)(l,2),m=i[0],d=i[1],p=Ke(),f=r.a.useMemo((function(){return r.a.forwardRef((function(e,t){return r.a.createElement(Ce.a,Object.assign({to:o,ref:t},e))}))}),[o]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(Te.a,{button:!0,component:f},a?r.a.createElement(we.a,null,a):null,r.a.createElement(Ie.a,{primary:n}),s?m?r.a.createElement(Ue.a,{onClick:function(){return d(!m)}}):r.a.createElement(Me.a,{onClick:function(){return d(!m)}}):null)),s?r.a.createElement(K.a,{in:m,timeout:"auto",unmountOnExit:!0},r.a.createElement(Re.a,{component:"div",disablePadding:!0,className:p.nested,dense:!0},c.map((function(t){return r.a.createElement(e,{icon:t.icon,primary:t.primary,to:t.to,subList:t.subList})})))):null)},qe=function(e){var t=e.window,a=e.entriesList,n=Ke(),o=Object(Ge.a)(),c=r.a.useState(!1),s=Object(u.a)(c,2),l=s[0],i=s[1],m=function(){i(!l)},d=r.a.createElement("div",null,r.a.createElement("div",{className:n.toolbar}),a.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,null),r.a.createElement(Re.a,null,e.map((function(e){return r.a.createElement(Ve,{icon:e.icon,primary:e.primary,to:e.to,subList:e.subList})}))))}))),p=void 0!==t?function(){return t().document.body}:void 0;return r.a.createElement("div",{className:n.root},r.a.createElement(b.a,null),r.a.createElement(Fe.a,{position:"fixed",className:n.appBar},r.a.createElement(Ne.a,null,r.a.createElement(V.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:m,className:n.menuButton},r.a.createElement(_e.a,null)),r.a.createElement("img",{src:We.a,alt:"logo",className:n.logo}))),r.a.createElement("nav",{className:n.drawer,"aria-label":"mailbox folders"},r.a.createElement(Pe.a,{smUp:!0,implementation:"css"},r.a.createElement(De.a,{container:p,variant:"temporary",anchor:"rtl"===o.direction?"right":"left",open:l,onClose:m,classes:{paper:n.drawerPaper},ModalProps:{keepMounted:!0}},d)),r.a.createElement(Pe.a,{xsDown:!0,implementation:"css"},r.a.createElement(De.a,{classes:{paper:n.drawerPaper},variant:"permanent",open:!0},d))),r.a.createElement("main",{className:n.content},r.a.createElement("div",{className:n.toolbar}),e.children))},He=a(93),Qe=a(35),$e=a(199),Ze=a(191),Xe=["children","value","index"],Ye=function(e){var t=e.children,a=e.value,n=e.index,o=Object(He.a)(e,Xe);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},o),a===n&&r.a.createElement(J.a,{p:3},r.a.createElement(Qe.a,null,t)))};var et=Object(j.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper,marginTop:e.spacing(4)}}})),tt=function(e){var t=e.tabEntries,a=et(),n=Object(u.a)(e.tabIdx,2),o=n[0],c=n[1];return r.a.createElement("div",{className:a.root},r.a.createElement(Fe.a,{position:"static",color:"default"},r.a.createElement($e.a,{value:o,onChange:function(e,t){c(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example"},t.map((function(e,t){return r.a.createElement(Ze.a,Object.assign({label:e.label},{id:"scrollable-auto-tab-".concat(a=t),"aria-controls":"scrollable-auto-tabpanel-".concat(a)}));var a})))),t.map((function(e,t){return r.a.createElement(Ye,{value:o,index:t},e.component)})))},at=function(){var e=r.a.useMemo((function(){return Object(d.a)({palette:{primary:{light:"#cb4584",main:"#960057",dark:"#cb4584",contrastText:"#fff"},secondary:{light:"#ffffff",main:"#e3e8ed",dark:"#b1b6bb",contrastText:"#000"}}})}),[]),t=Object(n.useState)({}),a=Object(u.a)(t,2),o=a[0],c=a[1],s=Object(n.useState)([]),S=Object(u.a)(s,2),v=S[0],y=S[1],A=Object(n.useState)([]),j=Object(u.a)(A,2),O=j[0],k=j[1],C=Object(n.useState)(0),T=Object(n.useState)(0),w=Object(n.useState)(""),I=Object(u.a)(w,2),R=I[0],F=I[1],N=Object(n.useState)({}),P=Object(u.a)(N,2),D=P[0],G=P[1],L=Object(n.useState)({}),U=Object(u.a)(L,2),z={tx:D,setTx:G,txStatus:R,setTxStatus:F,txRes:U[0],setTxRes:U[1]},M=function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve("view-state");case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve("view-ambassadors");case 2:t=e.sent,k(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve("view-guardians");case 2:t=e.sent,y(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=Object(n.useState)({}),W=Object(u.a)(J,2),K=W[0],V=W[1],q=function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae("view-forum-state");case 2:t=e.sent,V(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){_(),M(),B(),q(),console.log("useEffect []",v,O)}),[]),r.a.createElement(p.a,{theme:e},r.a.createElement(f.a,null,r.a.createElement(b.a,null),r.a.createElement(m.a,{basename:"/dao.init-frontend"},r.a.createElement(qe,{entriesList:[[{primary:"dao.init",subList:[{primary:"Config",to:"/daoConfig"},{primary:"Init State",to:"/initState"},{primary:"Ambassadors",to:"/ambassadors"},{primary:"Guardians",to:"/guardians"}]},{primary:"dao.forum",subList:[{primary:"Config",to:"/forumConfig"},{primary:"Forum State",to:"/forumState"}]}]]},r.a.createElement(x.a,null,r.a.createElement(m.e,null,r.a.createElement(m.c,{path:"/initConfig",component:function(){return r.a.createElement(g.a,null,r.a.createElement(E.a,{title:"Contract and UI Configuration"}),r.a.createElement(h.a,null,r.a.createElement(Se,null)))}}),r.a.createElement(m.c,{path:"/initState",component:function(){return r.a.createElement(g.a,null,r.a.createElement(E.a,{title:"Contract State"}),r.a.createElement(h.a,null,r.a.createElement(ye,{initState:o})))}}),r.a.createElement(m.c,{path:"/guardians",component:function(){return r.a.createElement(g.a,null,r.a.createElement(E.a,{title:"Guardians"}),r.a.createElement(h.a,null,r.a.createElement(ce,{guardians:v}),r.a.createElement(tt,{tabIdx:T,tabEntries:[{label:"Register Guardian",component:r.a.createElement(pe,{pactTxStatus:z,refresh:function(){return _()}})},{label:"Rotate Guardian",component:r.a.createElement(ue,{guardians:v,ambassadors:O,pactTxStatus:z,refresh:function(){return B()}})},{label:"Propose DAO Upgrade",component:r.a.createElement(me,{guardians:v,pactTxStatus:z,refresh:function(){return B()}})},{label:"Approve DAO Upgrade",component:r.a.createElement(de,{guardians:v,pactTxStatus:z,refresh:function(){return B()}})}]})))}}),r.a.createElement(m.c,{path:"/ambassadors",component:function(){return r.a.createElement(g.a,null,r.a.createElement(E.a,{title:"Ambassadors"}),r.a.createElement(h.a,null,r.a.createElement(be,{ambassadors:O}),r.a.createElement(tt,{tabIdx:C,tabEntries:[{label:"Register Ambassador",component:r.a.createElement(se,{guardians:v,pactTxStatus:z,refresh:function(){return B()}})},{label:"Deactivate Ambassador",component:r.a.createElement(le,{guardians:v,ambassadors:O,pactTxStatus:z,refresh:function(){return B()}})},{label:"Reactivate Ambassador",component:r.a.createElement(ie,{guardians:v,ambassadors:O,pactTxStatus:z,refresh:function(){return B()}})},{label:"Rotate Ambassador",component:r.a.createElement(he,{ambassadors:O,pactTxStatus:z,refresh:function(){return B()}})},{label:"Vote to Freeze",component:r.a.createElement(ge,{ambassadors:O,pactTxStatus:z,refresh:function(){return B()}})},{label:"Freeze",component:r.a.createElement(Ee,{ambassadors:O,pactTxStatus:z,refresh:function(){return B()}})}]})))}}),r.a.createElement(m.c,{path:"/forumConfig",component:function(){return r.a.createElement(g.a,null,r.a.createElement(E.a,{title:"Contract and UI Configuration"}),r.a.createElement(h.a,null,r.a.createElement(Oe,null)))}}),r.a.createElement(m.c,{path:"/forumState",component:function(){return r.a.createElement(g.a,null,r.a.createElement(E.a,{title:"Contract State"}),r.a.createElement(h.a,null,r.a.createElement(je,{forumState:K})))}}),r.a.createElement(m.c,{path:"/"},r.a.createElement(m.b,{to:"/initConfig"}))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(at,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t){var a="memory-wall-gas-station",n="https://".concat("api.testnet.chainweb.com","/chainweb/0.0/").concat("testnet04","/chain/").concat("0","/pact"),r=function(){return Math.round((new Date).getTime()/1e3)-15},o={contractName:"init",gasStationName:a,namespace:"dao",contractAddress:"".concat("dao",".").concat("init"),gasStationAddress:"".concat("dao",".").concat(a),explorerURL:"https://explorer.chainweb.com/".concat("testnet04".slice(0,-2)),constants:{DAO_ACCT_NAME:"dao.init",GUARDIAN_KDA_REQUIRED:5e5},meta:{networkId:"testnet04",chainId:"0",host:n,creationTime:r,gasPrice:1e-11,gasLimit:1e4,ttl:28800,sender:"mw-free-gas",nonce:"some nonce that doesnt matter"}},c={contractName:"forum",gasStationName:a,namespace:"dao",contractAddress:"".concat("dao",".").concat("forum"),gasStationAddress:"".concat("dao",".").concat(a),explorerURL:"https://explorer.chainweb.com/".concat("testnet04".slice(0,-2)),constants:{},meta:{networkId:"testnet04",chainId:"0",host:n,creationTime:r,gasPrice:1e-11,gasLimit:1e4,ttl:28800,sender:"mw-free-gas",nonce:"some nonce that doesnt matter"}};e.exports={daoAPI:o,forumAPI:c,keyFormatter:function(e){return e.replace(new RegExp("[A-Z]+","gm")," $&").replace(new RegExp("^[a-z]","gm"),(function(e){return e.toUpperCase()}))}}},88:function(e,t,a){e.exports=a.p+"static/media/kadena_r_rev_3_whi_lor.184cc2aa.png"}},[[105,1,2]]]);
//# sourceMappingURL=main.9b20cea8.chunk.js.map