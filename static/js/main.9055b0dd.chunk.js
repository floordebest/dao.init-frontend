(this["webpackJsonpdao.init-frontend"]=this["webpackJsonpdao.init-frontend"]||[]).push([[0],{173:function(e,t,a){e.exports=a.p+"static/media/kadena_r_rev_3_whi_lor.184cc2aa.png"},195:function(e,t,a){e.exports=a(395)},210:function(e,t){},378:function(e,t){},395:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(15),c=a.n(o),s=a(9),l=a.n(s),u=a(17),i=a(7),m=a(91),d=a(18),p=a(172),f=a.n(p),b=a(183),x=a(460),g=a(461),h=a(442),S=a(459),E=a(462),v=a(463),y=a(464),A=a(94),j=a(397),O=a(437),k=a(438),T=a(439),C=a(440),I=a(441),w=a(443),R=a(444),P=a(445),N=a(470),F=a(472),M=a(434),D=a(16),L=a(178),G=a.n(L),U=a(179),B=a.n(U),J=a(180),z=a.n(J),W=a(173),K=a.n(W),_=Object(M.a)((function(e){return{root:{display:"flex"},drawer:Object(A.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(A.a)({},e.breakpoints.up("sm"),{zIndex:e.zIndex.drawer+1}),menuButton:Object(A.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)},nested:{paddingLeft:e.spacing(4)},logo:{height:"60px"}}})),q=function e(t){var a=t.icon,r=t.primary,o=t.to,c=t.subList,s=c&&Array.isArray(c),l=n.a.useState(!0),u=Object(i.a)(l,2),d=u[0],p=u[1],f=_(),b=n.a.useMemo((function(){return n.a.forwardRef((function(e,t){return n.a.createElement(m.b,Object.assign({to:o,ref:t},e))}))}),[o]);return n.a.createElement(n.a.Fragment,null,n.a.createElement("li",null,n.a.createElement(j.a,{button:!0,component:b},a?n.a.createElement(O.a,null,a):null,n.a.createElement(k.a,{primary:r}),s?d?n.a.createElement(G.a,{onClick:function(){return p(!d)}}):n.a.createElement(B.a,{onClick:function(){return p(!d)}}):null)),s?n.a.createElement(T.a,{in:d,timeout:"auto",unmountOnExit:!0},n.a.createElement(C.a,{component:"div",disablePadding:!0,className:f.nested,dense:!0},c.map((function(t){return n.a.createElement(e,{icon:t.icon,primary:t.primary,to:t.to,subList:t.subList})})))):null)},V=function(e){var t=e.window,a=e.entriesList,r=_(),o=Object(D.a)(),c=n.a.useState(!1),s=Object(i.a)(c,2),l=s[0],u=s[1],m=function(){u(!l)},d=n.a.createElement("div",null,n.a.createElement("div",{className:r.toolbar}),a.map((function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(I.a,null),n.a.createElement(C.a,null,e.map((function(e){return n.a.createElement(q,{icon:e.icon,primary:e.primary,to:e.to,subList:e.subList})}))))}))),p=void 0!==t?function(){return t().document.body}:void 0;return n.a.createElement("div",{className:r.root},n.a.createElement(h.a,null),n.a.createElement(w.a,{position:"fixed",className:r.appBar},n.a.createElement(R.a,null,n.a.createElement(P.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:m,className:r.menuButton},n.a.createElement(z.a,null)),n.a.createElement("img",{src:K.a,alt:"logo",className:r.logo}))),n.a.createElement("nav",{className:r.drawer,"aria-label":"mailbox folders"},n.a.createElement(N.a,{smUp:!0,implementation:"css"},n.a.createElement(F.a,{container:p,variant:"temporary",anchor:"rtl"===o.direction?"right":"left",open:l,onClose:m,classes:{paper:r.drawerPaper},ModalProps:{keepMounted:!0}},d)),n.a.createElement(N.a,{xsDown:!0,implementation:"css"},n.a.createElement(F.a,{classes:{paper:r.drawerPaper},variant:"permanent",open:!0},d))),n.a.createElement("main",{className:r.content},n.a.createElement("div",{className:r.toolbar}),e.children))},H=a(184),Q=a(466),$=a(45),Z=a(467),X=a(446),Y=["children","value","index"],ee=function(e){var t=e.children,a=e.value,r=e.index,o=Object(H.a)(e,Y);return n.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==r,id:"scrollable-auto-tabpanel-".concat(r),"aria-labelledby":"scrollable-auto-tab-".concat(r)},o),a===r&&n.a.createElement(Q.a,{p:3},n.a.createElement($.a,null,t)))};var te=Object(M.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper,marginTop:e.spacing(4)}}})),ae=function(e){var t=e.tabEntries,a=te(),r=Object(i.a)(e.tabIdx,2),o=r[0],c=r[1];return n.a.createElement("div",{className:a.root},n.a.createElement(w.a,{position:"static",color:"default"},n.a.createElement(Z.a,{value:o,onChange:function(e,t){c(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example"},t.map((function(e,t){return n.a.createElement(X.a,Object.assign({label:e.label},{id:"scrollable-auto-tab-".concat(a=t),"aria-controls":"scrollable-auto-tabpanel-".concat(a)}));var a})))),t.map((function(e,t){return n.a.createElement(ee,{value:o,index:t},e.component)})))},re=a(469),ne=a(457),oe=a(182),ce=a.n(oe),se=a(458),le=a(187),ue=a(455),ie=a(468),me=a(6),de=a(181),pe=a.n(de),fe=a(447),be=a(448),xe=a(449),ge=a(450),he=a(451),Se=a(452),Ee=a(471),ve=a(465),ye=a(453),Ae=a(454),je=a(456),Oe=a(114),ke=a.n(Oe),Te=a(117),Ce=a.n(Te),Ie=a(118),we=a.n(Ie),Re=(a(369),function(e){var t=e.value,a=e.onChange,o=Object(r.useState)("write"),c=Object(i.a)(o,2),s=c[0],m=c[1],d=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return alert("No attachments!"),e.abrupt("return","No Attachments");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement(ke.a,{value:t,onChange:a,selectedTab:s,onTabChange:m,generateMarkdownPreview:function(e){var t=Promise.resolve(n.a.createElement(Ce.a,{remarkPlugins:[we.a],children:e}));return console.log("react-mde-preview=".concat(t),t),t},childProps:{writeButton:{tabIndex:-1}},paste:{saveImage:d}})}),Pe=(Object(M.a)((function(e){return{root:{display:"flex",flexWrap:"wrap","& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"25ch"}}})),function(e){return e.split("-").map((function(e){return e.replace(new RegExp("^.","gm"),(function(e){return e.toUpperCase()}))})).join(" ")}),Ne=function(e){return!e||"object"!==typeof e||("timep"in e||"int"in e||"decimal"in e||"time"in e)},Fe=function(e){return e&&"object"===typeof e?"time"in e?e.time:"timep"in e?e.timep:"int"in e?"string"===typeof e.int?e.int:e.int.toLocaleString():"decimal"in e?"string"===typeof e.decimal?e.decimal:e.decimal.toLocaleString():JSON.stringify(e):"boolean"===typeof e?e.toString():"string"===typeof e?e:"number"===typeof e?e.toLocaleString():JSON.stringify(e)},Me=Object(M.a)({table:{minWidth:650}}),De=Object(M.a)({table:{minWidth:650},root:{"& > *":{borderBottom:"unset"}}}),Le=function e(t){var a=t.json||{},r=t.isNested||!1,o=r?De:Me,c=t.header||[],s=t.keyFormatter?t.keyFormatter:function(e){return e},l=t.valFormatter?t.valFormatter:function(e){return n.a.createElement("code",null,Fe(e))},u=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(fe.a,null,n.a.createElement(be.a,null,c.map((function(e){return n.a.createElement(xe.a,null,e)})))),n.a.createElement(ge.a,null,Object.entries(a).map((function(t){var r=Object(i.a)(t,2),o=r[0],c=r[1];return n.a.createElement(be.a,{key:o},!1===Array.isArray(a)?n.a.createElement(xe.a,null,s(o)):n.a.createElement(n.a.Fragment,null),Ne(c)?n.a.createElement(xe.a,null,l(c)):"object"===typeof c?n.a.createElement(e,{json:c,keyFormatter:s,valFormatter:l,isNested:!0}):"function"===typeof c?n.a.createElement(xe.a,null,l(c.toString())):n.a.createElement(xe.a,null,l(c)))}))))};return r?n.a.createElement(he.a,{className:o.table,size:"small","aria-label":"simple table"},u()):n.a.createElement(Se.a,{component:le.a},n.a.createElement(he.a,{className:o.table,size:"small","aria-label":"simple table"},u()))},Ge=function e(t){var a=pe.a.isArray(t.json)?t.json:[],r=t.isNested||!1,o=r?De:Me,c=t.header||[],s=[];t.keyOrder?s=t.keyOrder:Array.isArray(t.json)&&a.length>0&&(s=Object.keys(a[0]));var l=t.keyFormatter?t.keyFormatter:function(e){return e},u=t.valFormatter?t.valFormatter:function(e){return n.a.createElement("code",null,Fe(e))},i=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(fe.a,null,n.a.createElement(be.a,null,c.map((function(e){return n.a.createElement(xe.a,{key:e},e)})))),n.a.createElement(ge.a,null,a.map((function(t){return n.a.createElement(be.a,{key:t[s[0]]},s.map((function(a){var r=t[a];return n.a.createElement(xe.a,{key:a},Ne(r)?u(r):Array.isArray(r)?n.a.createElement(e,{json:r,keyFormatter:l,valFormatter:u,isNested:!0}):"object"===typeof r?n.a.createElement(Le,{json:r,keyFormatter:l,valFormatter:u,isNested:!0}):u("function"===typeof r?r.toString():r))})))}))))};return r?n.a.createElement(he.a,{className:o.table,size:"small","aria-label":"simple table"},i()):n.a.createElement(Se.a,{component:le.a},n.a.createElement(he.a,{className:o.table,size:"small","aria-label":"simple table"},i()))},Ue=function(e){var t=e.inputField,a=t.type,r=t.label,o=t.options,c=t.placeholder,s=t.className,l=t.onChange,u=t.value;return"select"===a?n.a.createElement(ve.a,{id:"outlined-multiline-static",select:!0,required:!0,fullWidth:!0,className:s,variant:"outlined",label:r,onChange:function(e){l(e.target.value)}},o.map((function(e){return n.a.createElement(ye.a,{key:e,value:e},e)}))):"textFieldSingle"===a?n.a.createElement(ve.a,{required:!0,fullWidth:!0,value:u,className:s,variant:"outlined",label:r,onChange:function(e){return l(e.target.value)}}):"textFieldMulti"===a?n.a.createElement(ve.a,{required:!0,fullWidth:!0,label:r,className:s,multiline:!0,rows:4,variant:"outlined",placeholder:c,onChange:function(e){return l(e.target.value)}}):"checkbox"===a?n.a.createElement(Ee.a,{checked:u,onChange:function(e){return l(e.target.value)},color:"primary",label:r}):"markdown"===a?n.a.createElement(Re,{value:u,onChange:l}):null},Be=function(e){var t=e.inputFields,a=e.onSubmit,o=e.tx,c=e.txRes,s=e.txStatus,l=e.setTxStatus,u=Object(r.useState)(!1),m=Object(i.a)(u,2),d=m[0],p=m[1];return Object(r.useEffect)((function(){return p(!1)}),[t]),Object(r.useEffect)((function(){return p(""!==s||d)}),[s]),n.a.createElement("div",null,n.a.createElement("form",{autoComplete:"off",onSubmit:function(e){return a(e)}},t.map((function(e){return n.a.createElement(Ue,{inputField:e})})),n.a.createElement(Ae.a,null,"pending"===s?null:n.a.createElement(ue.a,{variant:"outlined",color:"default",type:"submit",disabled:d},"Submit"))),"pending"===s?n.a.createElement(je.a,null):null,n.a.createElement(ze,{tx:o,txRes:c,txStatus:s,setTxStatus:l}))},Je=Object(M.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),ze=function(e){var t=e.tx,a=e.txRes,o=e.txStatus,c=Object(r.useState)(!0),s=Object(i.a)(c,2),l=s[0],u=s[1],m=Object(r.useState)(!1),d=Object(i.a)(m,2),p=d[0],f=d[1],b=Je(),x="pending"===o?"info":"success"===o?"success":"timeout"===o?"warning":"error";return Object(r.useEffect)((function(){return u(!0)}),[o]),o?n.a.createElement("div",{className:b.root},n.a.createElement(T.a,{in:l},n.a.createElement(re.a,{severity:x,action:n.a.createElement(P.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){return u(!1)}},n.a.createElement(ce.a,{fontSize:"inherit"}))},n.a.createElement(ne.a,null,n.a.createElement(se.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},n.a.createElement(se.a,{item:!0},Pe(o)),"validation-error"===o||"failure"===o?n.a.createElement(se.a,{item:!0},n.a.createElement(I.a,{orientation:"vertical",flexItem:!0}),n.a.createElement(ue.a,{size:"small",onClick:function(){return f(!0)}},"View")):n.a.createElement(n.a.Fragment,null))),"pending"===o?n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,"Awaiting Confirmation"),n.a.createElement("a",{href:"".concat(me.daoAPI.explorerURL,"/tx/").concat(t.hash)},"Eventual Block Explorer Link")):"success"===o?n.a.createElement(n.a.Fragment,null,n.a.createElement("a",{href:"".concat(me.daoAPI.explorerURL,"/tx/").concat(t.hash)},"View transaction in Block Explorer")):"failure"===o?n.a.createElement(n.a.Fragment,null,n.a.createElement("a",{href:"".concat(me.daoAPI.explorerURL,"/tx/").concat(t.hash)},"View transaction in Block Explorer"),n.a.createElement("div",null,n.a.createElement(ie.a,{open:p,onClose:function(){return f(!1)}},n.a.createElement(S.a,{maxWidth:"lg"},n.a.createElement(Le,{json:a}))))):"timeout"===o?n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,"...but your tx was sent."),n.a.createElement("a",{href:"".concat(me.daoAPI.explorerURL,"/tx/").concat(t.hash)},"View transaction in Block Explorer")):"validation-error"===o?n.a.createElement(n.a.Fragment,null,n.a.createElement(Q.a,null,"Transaction was not sent to Blockchain. Check your keys or metadata."),n.a.createElement("div",null,n.a.createElement(ie.a,{open:p,onClose:function(){return f(!1)}},n.a.createElement(S.a,{maxWidth:"md"},n.a.createElement(le.a,null,a.toString()))))):n.a.createElement(n.a.Fragment,null)))):n.a.createElement(n.a.Fragment,null)},We=a(398),Ke=a(14),_e=a.n(Ke),qe=Object(We.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"}}})),Ve=function(){var e=Object(u.a)(l.a.mark((function e(t,a,r,n,o,c){var s,u,i,m,d,p,f,b=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=b.length>6&&void 0!==b[6]?b[6]:{},u=b.length>7&&void 0!==b[7]?b[7]:[],e.prev=2,i={pactCode:c,caps:Array.isArray(u)&&u.length?u:_e.a.lang.mkCap("Guadian Cap","Authenticates that you're a guardian","".concat(me.daoAPI.contractAddress,".GUARDIAN"),[o]),gasLimit:me.daoAPI.meta.gasLimit,chainId:me.daoAPI.meta.chainId,ttl:me.daoAPI.meta.ttl,sender:o,envData:s},console.log("toSign",i),e.next=7,_e.a.wallet.sign(i);case 7:if(m=e.sent,console.log("signed",m),"object"!==typeof m||!("hash"in m)){e.next=13;break}t(m),e.next=14;break;case 13:throw new Error("Signing API Failed");case 14:return e.next=16,_e.a.wallet.sendSigned(m,me.daoAPI.meta.host);case 16:d=e.sent,console.log("txReqKeys",d),a("pending"),e.prev=19,p=8,f={};case 22:if(!(p>0)){e.next=31;break}return e.next=25,new Promise((function(e){return setTimeout(e,15e3)}));case 25:return e.next=27,_e.a.fetch.poll(d,me.daoAPI.meta.host);case 27:f=e.sent;try{f[m.hash].result.status?p=-1:p-=1}catch(l){p-=1}e.next=22;break;case 31:r(f),"success"===f[m.hash].result.status?(console.log("tx status set to success"),a("success"),n()):0===p?(console.log("tx status set to timeout"),a("timeout"),n()):(console.log("tx status set to failure"),a("failure")),e.next=41;break;case 36:e.prev=36,e.t0=e.catch(19),console.log("tx api failure",e.t0),r(e.t0),a("failure");case 41:e.next=47;break;case 43:e.prev=43,e.t1=e.catch(2),console.log("tx status set to validation error",e.t1),a("validation-error");case 47:case"end":return e.stop()}}),e,null,[[2,43],[19,36]])})));return function(t,a,r,n,o,c){return e.apply(this,arguments)}}(),He=function(e){return n.a.createElement(Ge,{header:["Guardian","Committed KDA","Approved Hash","Approval Date","Voting Guard","Forum Moderation Guard"],keyOrder:["k","committed-kda","approved-hash","approved-date","guard","moderate-guard"],json:e.guardians})},Qe=function(e){var t=e.refresh,a=e.guardians,o=Object(r.useState)(""),c=Object(i.a)(o,2),s=c[0],l=c[1],u=Object(r.useState)(""),m=Object(i.a)(u,2),d=m[0],p=m[1],f=Object(r.useState)(""),b=Object(i.a)(f,2),x=b[0],g=b[1],h=e.pactTxStatus,S=h.txStatus,E=h.setTxStatus,v=h.tx,y=h.setTx,A=h.txRes,j=h.setTxRes,O=qe(),k=[{type:"select",label:"Select Guardian",className:O.formControl,onChange:l,options:a.map((function(e){return e.k}))},{type:"textFieldSingle",label:"Ambassador Account Name",className:O.formControl,value:d,onChange:p},{type:"textFieldMulti",label:"Ambassador Account Guard",className:O.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:x,onChange:g}];return n.a.createElement(Be,{inputFields:k,onSubmit:function(e){e.preventDefault();try{Ve(y,E,j,t,s,"(".concat(me.daoAPI.contractAddress,'.register-ambassador "').concat(s,'" "').concat(d,"\" (read-keyset 'ks))"),{ks:JSON.parse(x)})}catch(a){console.log("Ambassador Registration Submit Error",typeof a,a,s,d,x),j(a),E("validation-error")}},tx:v,txStatus:S,txRes:A,setTxStatus:E})},$e=function(e){var t=e.refresh,a=Object(r.useState)(""),o=Object(i.a)(a,2),c=o[0],s=o[1],l=Object(r.useState)(""),u=Object(i.a)(l,2),m=u[0],d=u[1],p=e.pactTxStatus,f=p.txStatus,b=p.setTxStatus,x=p.tx,g=p.setTx,h=p.txRes,S=p.setTxRes,E=qe(),v=[{type:"select",label:"Select Guardian",className:E.formControl,onChange:s,options:e.guardians.map((function(e){return e.k}))},{type:"select",label:"Select Ambassador",className:E.formControl,onChange:d,options:e.ambassadors.map((function(e){return e.k}))}];return n.a.createElement(Be,{inputFields:v,onSubmit:function(e){e.preventDefault();try{Ve(g,b,S,t,c,"(".concat(me.daoAPI.contractAddress,'.deactivate-ambassador "').concat(c,'" "').concat(m,'")'))}catch(a){console.log("deactivate-ambassador Submit Error",typeof a,a,c),S(a),b("validation-error")}},tx:x,txStatus:f,txRes:h,setTxStatus:b})},Ze=function(e){var t=e.refresh,a=Object(r.useState)(""),o=Object(i.a)(a,2),c=o[0],s=o[1],l=Object(r.useState)(""),u=Object(i.a)(l,2),m=u[0],d=u[1],p=e.pactTxStatus,f=p.txStatus,b=p.setTxStatus,x=p.tx,g=p.setTx,h=p.txRes,S=p.setTxRes,E=qe(),v=[{type:"select",label:"Select Guardian",className:E.formControl,onChange:s,options:e.guardians.map((function(e){return e.k}))},{type:"select",label:"Select Ambassador",className:E.formControl,onChange:d,options:e.ambassadors.map((function(e){return e.k}))}];return n.a.createElement(Be,{inputFields:v,onSubmit:function(e){e.preventDefault();try{Ve(g,b,S,t,c,"(".concat(me.daoAPI.contractAddress,'.reactivate-ambassador "').concat(c,'" "').concat(m,'")'))}catch(a){console.log("reactivate-ambassador Submit Error",typeof a,a,c),S(a),b("validation-error")}},tx:x,txStatus:f,txRes:h,setTxStatus:b})},Xe=function(e){var t=e.refresh,a=e.guardians,o=Object(r.useState)(""),c=Object(i.a)(o,2),s=c[0],l=c[1],u=Object(r.useState)(""),m=Object(i.a)(u,2),d=m[0],p=m[1],f=e.pactTxStatus,b=f.txStatus,x=f.setTxStatus,g=f.tx,h=f.setTx,S=f.txRes,E=f.setTxRes,v=qe(),y=[{type:"select",label:"Select Guardian",className:v.formControl,onChange:l,options:a.map((function(e){return e.k}))},{type:"textFieldMulti",label:"Guardian Voting Guard",className:v.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:d,onChange:p}];return n.a.createElement(Be,{inputFields:y,onSubmit:function(e){e.preventDefault();try{Ve(h,x,E,t,s,"(".concat(me.daoAPI.contractAddress,'.rotate-guardian "').concat(s,"\" (read-keyset 'voteKs))"),{voteKs:JSON.parse(d)})}catch(a){console.log("rotate-guardian Submit Error",typeof a,a,s,d),E(a),x("validation-error")}},tx:g,txStatus:b,txRes:S,setTxStatus:x})},Ye=function(e){var t=e.refresh,a=e.guardians,o=Object(r.useState)(""),c=Object(i.a)(o,2),s=c[0],l=c[1],u=Object(r.useState)(""),m=Object(i.a)(u,2),d=m[0],p=m[1],f=e.pactTxStatus,b=f.txStatus,x=f.setTxStatus,g=f.tx,h=f.setTx,S=f.txRes,E=f.setTxRes,v=qe(),y=[{type:"select",label:"Select Guardian",className:v.formControl,onChange:l,options:a.map((function(e){return e.k}))},{type:"textFieldSingle",label:"Proposed Upgrade Hash",className:v.formControl,value:d,onChange:p}];return n.a.createElement(Be,{inputFields:y,onSubmit:function(e){e.preventDefault();try{Ve(h,x,E,t,s,"(".concat(me.daoAPI.contractAddress,'.propose-dao-upgrade "').concat(s,'" "').concat(d,'")'))}catch(a){console.log("propose-dao-upgrade Submit Error",typeof a,a,s,d),E(a),x("validation-error")}},tx:g,txStatus:b,txRes:S,setTxStatus:x})},et=function(e){var t=e.refresh,a=e.guardians,o=Object(r.useState)(""),c=Object(i.a)(o,2),s=c[0],l=c[1],u=Object(r.useState)(""),m=Object(i.a)(u,2),d=m[0],p=m[1],f=e.pactTxStatus,b=f.txStatus,x=f.setTxStatus,g=f.tx,h=f.setTx,S=f.txRes,E=f.setTxRes,v=qe(),y=[{type:"select",label:"Select Guardian",className:v.formControl,onChange:l,options:a.map((function(e){return e.k}))},{type:"select",label:"Proposed Upgrade Hash",className:v.formControl,value:p,options:a.map((function(e){return e["approved-hash"]}))}];return n.a.createElement(Be,{inputFields:y,onSubmit:function(e){e.preventDefault();try{Ve(h,x,E,t,s,"(".concat(me.daoAPI.contractAddress,'.guardian-approve-hash "').concat(s,'" "').concat(d,'")'))}catch(a){console.log("guardian-approve-hash Submit Error",typeof a,a,s,d),E(a),x("validation-error")}},tx:g,txStatus:b,txRes:S,setTxStatus:x})},tt=function(e){var t=e.refresh,a=Object(r.useState)(""),o=Object(i.a)(a,2),c=o[0],s=o[1],l=Object(r.useState)(""),u=Object(i.a)(l,2),m=u[0],d=u[1],p=e.pactTxStatus,f=p.txStatus,b=p.setTxStatus,x=p.tx,g=p.setTx,h=p.txRes,S=p.setTxRes,E=qe(),v=[{type:"textFieldSingle",label:"Guardian Account Name",className:E.formControl,value:c,onChange:s},{type:"textFieldMulti",label:"Guardian Voting Guard",className:E.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:m,onChange:d}];return n.a.createElement(Be,{inputFields:v,onSubmit:function(e){e.preventDefault();try{Ve(g,b,S,t,c,"(".concat(me.daoAPI.contractAddress,'.register-guardian "').concat(c,"\" (read-keyset 'voteKs))"),{voteKs:JSON.parse(m)},[_e.a.lang.mkCap("TRANSFER Cap","Stake the needed amount","coin.TRANSFER",[c,me.daoAPI.constants.DAO_ACCT_NAME,me.daoAPI.constants.GUARDIAN_KDA_REQUIRED])])}catch(a){console.log("Guardian Registration Submit Error",typeof a,a,c,m),S(a),b("validation-error")}},tx:x,txStatus:f,txRes:h,setTxStatus:b})},at=Object(We.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"}}})),rt=function(e){return n.a.createElement(Ge,{header:["Ambassador","Active","Voted to Freeze","Guard"],keyOrder:["k","active","voted-to-freeze","guard"],json:e.ambassadors})},nt=function(){var e=Object(u.a)(l.a.mark((function e(t,a,r,n,o,c){var s,u,i,m,d,p,f,b=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=b.length>6&&void 0!==b[6]?b[6]:{},u=b.length>7&&void 0!==b[7]?b[7]:[],e.prev=2,i={pactCode:c,caps:Array.isArray(u)&&u.length?u:_e.a.lang.mkCap("Ambassador Cap","Authenticates that you're an ambassador","".concat(me.daoAPI.contractAddress,".AMBASSADOR"),[o]),gasLimit:me.daoAPI.meta.gasLimit,chainId:me.daoAPI.meta.chainId,ttl:me.daoAPI.meta.ttl,sender:o,envData:s},console.log("toSign",i),e.next=7,_e.a.wallet.sign(i);case 7:return m=e.sent,console.log("signed",m),t(m),e.next=12,_e.a.wallet.sendSigned(m,me.daoAPI.meta.host);case 12:d=e.sent,console.log("txReqKeys",d),a("pending"),e.prev=15,p=8,f={};case 18:if(!(p>0)){e.next=27;break}return e.next=21,new Promise((function(e){return setTimeout(e,15e3)}));case 21:return e.next=23,_e.a.fetch.poll(d,me.daoAPI.meta.host);case 23:f=e.sent;try{f[m.hash].result.status?p=-1:p-=1}catch(l){p-=1}e.next=18;break;case 27:r(f),"success"===f[m.hash].result.status?(console.log("tx status set to success"),a("success"),n()):0===p?(console.log("tx status set to timeout"),a("timeout"),n()):(console.log("tx status set to failure"),a("failure")),e.next=37;break;case 32:e.prev=32,e.t0=e.catch(15),console.log("tx api failure",e.t0),r(e.t0),a("failure");case 37:e.next=43;break;case 39:e.prev=39,e.t1=e.catch(2),console.log("tx status set to validation error",e.t1),a("validation-error");case 43:case"end":return e.stop()}}),e,null,[[2,39],[15,32]])})));return function(t,a,r,n,o,c){return e.apply(this,arguments)}}(),ot=function(e){var t=e.refresh,a=e.ambassadors,o=Object(r.useState)(""),c=Object(i.a)(o,2),s=c[0],l=c[1],u=e.pactTxStatus,m=u.txStatus,d=u.setTxStatus,p=u.tx,f=u.setTx,b=u.txRes,x=u.setTxRes,g=[{type:"select",label:"Select Ambassador",className:at().formControl,onChange:l,options:a.map((function(e){return e.k}))}];return n.a.createElement(Be,{inputFields:g,onSubmit:function(e){e.preventDefault();try{nt(f,d,x,t,s,"(".concat(me.daoAPI.contractAddress,'.vote-to-freeze "').concat(s,'")'))}catch(a){console.log("vote to freeze Submit Error",typeof a,a,s),x(a),d("validation-error")}},tx:p,txStatus:m,txRes:b,setTxStatus:d})},ct=function(e){var t=e.refresh,a=e.ambassadors,o=Object(r.useState)(""),c=Object(i.a)(o,2),s=c[0],l=c[1],u=e.pactTxStatus,m=u.txStatus,d=u.setTxStatus,p=u.tx,f=u.setTx,b=u.txRes,x=u.setTxRes,g=[{type:"select",label:"Select Ambassador",className:at().formControl,onChange:l,options:a.map((function(e){return e.k}))}];return n.a.createElement(Be,{inputFields:g,onSubmit:function(e){e.preventDefault();try{nt(f,d,x,t,s,"(".concat(me.daoAPI.contractAddress,'.freeze "').concat(s,'")'))}catch(a){console.log("freeze Submit Error",typeof a,a,s),x(a),d("validation-error")}},tx:p,txStatus:m,txRes:b,setTxStatus:d})},st=function(e){var t=e.refresh,a=e.ambassadors,o=Object(r.useState)(""),c=Object(i.a)(o,2),s=c[0],l=c[1],u=Object(r.useState)(""),m=Object(i.a)(u,2),d=m[0],p=m[1],f=e.pactTxStatus,b=f.txStatus,x=f.setTxStatus,g=f.tx,h=f.setTx,S=f.txRes,E=f.setTxRes,v=at(),y=[{type:"select",label:"Select Ambassador",className:v.formControl,onChange:l,options:a.map((function(e){return e.k}))},{type:"textFieldMulti",label:"Guardian Account Guard",className:v.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:d,onChange:p}];return n.a.createElement(Be,{inputFields:y,onSubmit:function(e){e.preventDefault();try{nt(h,x,E,t,s,"(".concat(me.daoAPI.contractAddress,'.rotate-ambassador "').concat(s,"\" (read-keyset 'ks))"),{ks:JSON.parse(d)})}catch(a){console.log("rotate-ambassador Submit Error",typeof a,a,s,d),E(a),x("validation-error")}},tx:g,txStatus:b,txRes:S,setTxStatus:x})},lt=function(){return n.a.createElement(Le,{json:me.daoAPI,keyFormatter:me.keyFormatter})},ut=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.a.fetch.local({pactCode:"(".concat(me.daoAPI.contractAddress,".").concat(t,")"),meta:_e.a.lang.mkMeta(me.daoAPI.meta.sender,me.daoAPI.meta.chainId,me.daoAPI.meta.gasPrice,me.daoAPI.meta.gasLimit,me.daoAPI.meta.creationTime(),me.daoAPI.meta.ttl)},me.daoAPI.meta.host);case 2:return a=e.sent,r=a.result.data,console.log("local query data",r),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),it=function(e){return n.a.createElement(Le,{json:e.initState,header:["","Status"],keyFormatter:Pe})},mt=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.a.fetch.local({pactCode:"(".concat(me.forumAPI.contractAddress,".").concat(t,")"),meta:_e.a.lang.mkMeta(me.forumAPI.meta.sender,me.forumAPI.meta.chainId,me.forumAPI.meta.gasPrice,me.forumAPI.meta.gasLimit,me.forumAPI.meta.creationTime(),me.forumAPI.meta.ttl)},me.forumAPI.meta.host);case 2:return a=e.sent,r=a.result.data,console.log("local query data: (".concat(me.forumAPI.contractAddress,".").concat(t,")"),a),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dt=function(e){return n.a.createElement(Le,{json:e.forumState,header:["","Status"],keyFormatter:Pe})},pt=function(){return n.a.createElement(Le,{json:me.forumAPI,keyFormatter:me.keyFormatter})},ft=Object(We.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"}}})),bt=function(){var e=Object(u.a)(l.a.mark((function e(t,a,r,n,o){var c,s,u,i,m,d,p,f=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=f.length>5&&void 0!==f[5]?f[5]:{},s=f.length>6&&void 0!==f[6]?f[6]:[],e.prev=2,u={pactCode:o,caps:Array.isArray(s)&&s.length?s:_e.a.lang.mkCap("Mjonlir Cap","Authenticates that you're Mjonir","".concat(me.forumAPI.contractAddress,".MJOLNIR")),gasLimit:me.forumAPI.meta.gasLimit,chainId:me.forumAPI.meta.chainId,ttl:me.forumAPI.meta.ttl,envData:c},console.log("toSign",u),e.next=7,_e.a.wallet.sign(u);case 7:if(i=e.sent,console.log("signed",i),"object"!==typeof i||!("hash"in i)){e.next=13;break}t(i),e.next=14;break;case 13:throw new Error("Signing API Failed");case 14:return e.next=16,_e.a.wallet.sendSigned(i,me.forumAPI.meta.host);case 16:m=e.sent,console.log("txReqKeys",m),a("pending"),e.prev=19,d=8,p={};case 22:if(!(d>0)){e.next=31;break}return e.next=25,new Promise((function(e){return setTimeout(e,15e3)}));case 25:return e.next=27,_e.a.fetch.poll(m,me.forumAPI.meta.host);case 27:p=e.sent;try{p[i.hash].result.status?d=-1:d-=1}catch(l){d-=1}e.next=22;break;case 31:r(p),"success"===p[i.hash].result.status?(console.log("tx status set to success"),a("success"),n()):0===d?(console.log("tx status set to timeout"),a("timeout"),n()):(console.log("tx status set to failure"),a("failure")),e.next=41;break;case 36:e.prev=36,e.t0=e.catch(19),console.log("tx api failure",e.t0),r(e.t0),a("failure");case 41:e.next=47;break;case 43:e.prev=43,e.t1=e.catch(2),console.log("tx status set to validation error",e.t1),a("validation-error");case 47:case"end":return e.stop()}}),e,null,[[2,43],[19,36]])})));return function(t,a,r,n,o){return e.apply(this,arguments)}}(),xt=function(e){var t=e.refresh,a=Object(r.useState)(""),o=Object(i.a)(a,2),c=o[0],s=o[1],l=e.pactTxStatus,u=l.txStatus,m=l.setTxStatus,d=l.tx,p=l.setTx,f=l.txRes,b=l.setTxRes,x=[{type:"textFieldMulti",label:"New Mjolnir Guard",className:ft().formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:c,onChange:s}];return n.a.createElement(Be,{inputFields:x,onSubmit:function(e){e.preventDefault(),console.log(me.forumAPI);try{bt(p,m,b,t,"(".concat(me.forumAPI.contractAddress,".rotate-mjolnir (read-keyset 'ks))"),{ks:JSON.parse(c)})}catch(a){console.log("Mjonir Registration Submit Error",typeof a,a,c),b(a),m("validation-error")}},tx:d,txStatus:u,txRes:f,setTxStatus:m})},gt=function(e){var t=e.refresh,a=e.moderators,o=Object(r.useState)(""),c=Object(i.a)(o,2),s=c[0],l=c[1],u=e.pactTxStatus,m=u.txStatus,d=u.setTxStatus,p=u.tx,f=u.setTx,b=u.txRes,x=u.setTxRes,g=[{type:"select",label:"Select Moderator",className:ft().formControl,onChange:l,options:a.map((function(e){return e.name}))}];return n.a.createElement(Be,{inputFields:g,onSubmit:function(e){e.preventDefault();try{bt(f,d,x,t,"(".concat(me.forumAPI.contractAddress,'.disable-moderator "').concat(s,'")'))}catch(a){console.log("disable-moderator Submit Error",typeof a,a,s),x(a),d("validation-error")}},tx:p,txStatus:m,txRes:b,setTxStatus:d})},ht=function(e){var t=e.refresh,a=e.moderators,o=Object(r.useState)(""),c=Object(i.a)(o,2),s=c[0],l=c[1],u=e.pactTxStatus,m=u.txStatus,d=u.setTxStatus,p=u.tx,f=u.setTx,b=u.txRes,x=u.setTxRes,g=[{type:"select",label:"Select Moderator",className:ft().formControl,onChange:l,options:a.map((function(e){return e.name}))}];return n.a.createElement(Be,{inputFields:g,onSubmit:function(e){e.preventDefault();try{bt(f,d,x,t,"(".concat(me.forumAPI.contractAddress,'.enable-moderator "').concat(s,'")'))}catch(a){console.log("disable-moderator Submit Error",typeof a,a,s),x(a),d("validation-error")}},tx:p,txStatus:m,txRes:b,setTxStatus:d})},St=function(e){var t=e.refresh,a=e.moderators,o=e.members,c=Object(r.useState)(""),s=Object(i.a)(c,2),l=s[0],u=s[1],m=Object(r.useState)({}),d=Object(i.a)(m,2),p=d[0],f=d[1],b=Object(r.useState)(!1),x=Object(i.a)(b,2),g=x[0],h=x[1],S=e.pactTxStatus,E=S.txStatus,v=S.setTxStatus,y=S.tx,A=S.setTx,j=S.txRes,O=S.setTxRes,k=ft(),T=[{type:"select",label:"Select User",className:k.formControl,onChange:u,options:a.map((function(e){return e.name})).concat(o.map((function(e){return e.name})))},{type:"textFieldMulti",label:"New Guard",className:k.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:p,onChange:f},{type:"checkbox",label:"Moderator",className:k.formControl,value:g,onChange:h}];return n.a.createElement(Be,{inputFields:T,onSubmit:function(e){e.preventDefault();try{bt(A,v,O,t,"(".concat(me.forumAPI.contractAddress,'.mjolnir-write-member "').concat(l,"\" (read-keyset 'ks) ").concat(g,")"),{ks:JSON.parse(p)})}catch(a){console.log("mjolnir-write-member Submit Error",typeof a,a,l,p,g),O(a),v("validation-error")}},tx:y,txStatus:E,txRes:j,setTxStatus:v})},Et=function(e){var t=e.members,a=e.moderators,r=e.tabIdx,o=e.pactTxStatus,c=e.refresh,s=c.getForumState,l=c.getMembers;return n.a.createElement(ae,{tabIdx:r,tabEntries:[{label:"Rotate Mjolnir Guard",component:n.a.createElement(xt,{pactTxStatus:o,refresh:function(){return s()}})},{label:"Enable Moderator",component:n.a.createElement(ht,{pactTxStatus:o,moderators:a,refresh:function(){return l()}})},{label:"Disable Moderator",component:n.a.createElement(gt,{pactTxStatus:o,moderators:a,refresh:function(){return l()}})},{label:"Mjolnir Write Member",component:n.a.createElement(St,{pactTxStatus:o,moderators:a,members:t,refresh:function(){return l()}})}]})},vt=Object(We.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"}}})),yt=function(e){return n.a.createElement(Ge,{header:["Name","Disabled","Guard"],keyOrder:["name","disabled","guard"],json:e.members})},At=function(e){return n.a.createElement(Ge,{header:["Name","Disabled","Guard"],keyOrder:["name","disabled","guard"],json:e.moderators})},jt=function(){var e=Object(u.a)(l.a.mark((function e(t,a,r,n,o,c){var s,u,i,m,d,p,f,b,x=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=x.length>6&&void 0!==x[6]?x[6]:{},u=x.length>7&&void 0!==x[7]?x[7]:"member",i=x.length>8&&void 0!==x[8]?x[8]:[],e.prev=3,m={pactCode:c,caps:Array.isArray(i)&&i.length?i:"moderator"===u?_e.a.lang.mkCap("MODERATOR Cap","Authenticates that you're a MODERATOR","".concat(me.forumAPI.contractAddress,".MODERATOR"),[o]):"member"===u?_e.a.lang.mkCap("MEMBER Cap","Authenticates that you're a MEMBER","".concat(me.forumAPI.contractAddress,".MEMBER"),[o]):Error('sendForumCmd(role=["member"|"moderator"]), got role='.concat(u)),gasLimit:me.forumAPI.meta.gasLimit,chainId:me.forumAPI.meta.chainId,ttl:me.forumAPI.meta.ttl,sender:o,envData:s},console.log("toSign",m),e.next=8,_e.a.wallet.sign(m);case 8:if(d=e.sent,console.log("signed",d),"object"!==typeof d||!("hash"in d)){e.next=14;break}t(d),e.next=15;break;case 14:throw new Error("Signing API Failed");case 15:return e.next=17,_e.a.wallet.sendSigned(d,me.forumAPI.meta.host);case 17:p=e.sent,console.log("txReqKeys",p),a("pending"),e.prev=20,f=8,b={};case 23:if(!(f>0)){e.next=32;break}return e.next=26,new Promise((function(e){return setTimeout(e,15e3)}));case 26:return e.next=28,_e.a.fetch.poll(p,me.forumAPI.meta.host);case 28:b=e.sent;try{b[d.hash].result.status?f=-1:f-=1}catch(l){f-=1}e.next=23;break;case 32:r(b),"success"===b[d.hash].result.status?(console.log("tx status set to success"),a("success"),n()):0===f?(console.log("tx status set to timeout"),a("timeout"),n()):(console.log("tx status set to failure"),a("failure")),e.next=42;break;case 37:e.prev=37,e.t0=e.catch(20),console.log("tx api failure",e.t0),r(e.t0),a("failure");case 42:e.next=48;break;case 44:e.prev=44,e.t1=e.catch(3),console.log("tx status set to validation error",e.t1),a("validation-error");case 48:case"end":return e.stop()}}),e,null,[[3,44],[20,37]])})));return function(t,a,r,n,o,c){return e.apply(this,arguments)}}(),Ot=function(e){var t=e.refresh,a=e.guardians,o=Object(r.useState)(""),c=Object(i.a)(o,2),s=c[0],l=c[1],u=Object(r.useState)({}),m=Object(i.a)(u,2),d=m[0],p=m[1],f=e.pactTxStatus,b=f.txStatus,x=f.setTxStatus,g=f.tx,h=f.setTx,S=f.txRes,E=f.setTxRes,v=vt(),y=[{type:"select",label:"Select your Guardian Account",className:v.formControl,onChange:l,options:a.map((function(e){return e.k}))},{type:"textFieldMulti",label:"Moderator Keyset",className:v.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:d,onChange:p}];return n.a.createElement(Be,{inputFields:y,onSubmit:function(e){e.preventDefault();try{jt(h,x,E,t,s,"(".concat(me.forumAPI.contractAddress,'.become-moderator "').concat(s,"\" (read-keyset 'ks))"),{ks:JSON.parse(d)},"moderator",[_e.a.lang.mkCap("GUARDIAN Cap","Authenticates that you're a GUARDIAN","".concat(me.daoAPI.contractAddress,".GUARDIAN"),[s])])}catch(a){console.log("mjolnir-write-member Submit Error",typeof a,a,s,d),E(a),x("validation-error")}},tx:g,txStatus:b,txRes:S,setTxStatus:x})},kt=function(e){var t=e.refresh,a=e.ambassadors,o=Object(r.useState)(""),c=Object(i.a)(o,2),s=c[0],l=c[1],u=Object(r.useState)({}),m=Object(i.a)(u,2),d=m[0],p=m[1],f=e.pactTxStatus,b=f.txStatus,x=f.setTxStatus,g=f.tx,h=f.setTx,S=f.txRes,E=f.setTxRes,v=vt(),y=[{type:"select",label:"Select your Ambassador Account",className:v.formControl,onChange:l,options:a.map((function(e){return e.k}))},{type:"textFieldMulti",label:"Member Keyset",className:v.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:d,onChange:p}];return n.a.createElement(Be,{inputFields:y,onSubmit:function(e){e.preventDefault();try{jt(h,x,E,t,s,"(".concat(me.forumAPI.contractAddress,'.become-member "').concat(s,"\" (read-keyset 'ks))"),{ks:JSON.parse(d)},"member",[_e.a.lang.mkCap("AMBASSADOR Cap","Authenticates that you're a AMBASSADOR","".concat(me.daoAPI.contractAddress,".AMBASSADOR"),[s])])}catch(a){console.log("mjolnir-write-member Submit Error",typeof a,a,s,d),E(a),x("validation-error")}},tx:g,txStatus:b,txRes:S,setTxStatus:x})},Tt=function(e){e.members,e.moderators;var t=e.guardians,a=e.tabIdx,r=e.pactTxStatus,o=e.refresh,c=(o.getForumState,o.getMembers);return n.a.createElement(ae,{tabIdx:a,tabEntries:[{label:"Become Moderator",component:n.a.createElement(Ot,{guardians:t,pactTxStatus:r,refresh:function(){return c()}})}]})},Ct=function(e){e.members,e.moderators,e.guardians;var t=e.ambassadors,a=e.tabIdx,r=e.pactTxStatus,o=e.refresh,c=(o.getForumState,o.getMembers);return n.a.createElement(ae,{tabIdx:a,tabEntries:[{label:"Become Member",component:n.a.createElement(kt,{ambassadors:t,pactTxStatus:r,refresh:function(){return c()}})}]})},It=function(e){return n.a.createElement(Ge,{header:["Author","Timestamp","Action"],keyOrder:["author","timestamp","action"],json:e.modLog})},wt=(a(380),Object(We.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"}}}))),Rt=function(e){return n.a.createElement(Ge,{header:["Index","Author","Headline","Timestamp","Modified","Locked"],keyOrder:["index","author","headline","timestamp","modified","locked"],json:e.topics})},Pt=function(e){var t=e.refresh,a=e.members,o=e.moderators,c=Object(r.useState)(""),s=Object(i.a)(c,2),l=s[0],u=s[1],m=Object(r.useState)(""),d=Object(i.a)(m,2),p=d[0],f=d[1],b=Object(r.useState)(""),x=Object(i.a)(b,2),g=x[0],h=x[1],S=e.pactTxStatus,E=S.txStatus,v=S.setTxStatus,y=S.tx,A=S.setTx,j=S.txRes,O=S.setTxRes,k=wt(),T=[{type:"select",label:"Author",className:k.formControl,onChange:u,options:o.map((function(e){return e.name})).concat(a.map((function(e){return e.name})))},{type:"textFieldSingle",label:"Headline",className:k.formControl,onChange:f},{type:"markdown",label:"Contents",value:g,onChange:h}];return n.a.createElement(Be,{inputFields:T,onSubmit:function(e){e.preventDefault();try{jt(A,v,O,t,l,"(".concat(me.forumAPI.contractAddress,".post-topic (read-msg 'headline) \"").concat(l,"\" (read-msg 'body))"),{headline:p,body:g})}catch(a){console.log("post-topic Submit Error",typeof a,a,l,p,g),O(a),v("validation-error")}},tx:y,txStatus:E,txRes:j,setTxStatus:v})},Nt=function(e){var t=e.members,a=e.moderators,r=(e.topics,e.tabIdx),o=e.pactTxStatus,c=e.refresh.getTopics;return n.a.createElement(ae,{tabIdx:r,tabEntries:[{label:"Post Topic",component:n.a.createElement(Pt,{members:t,moderators:a,pactTxStatus:o,refresh:function(){return c()}})}]})},Ft=function(){var e=n.a.useMemo((function(){return Object(b.a)({palette:{primary:{light:"#cb4584",main:"#960057",dark:"#cb4584",contrastText:"#fff"},secondary:{light:"#ffffff",main:"#e3e8ed",dark:"#b1b6bb",contrastText:"#000"}}})}),[]),t=Object(r.useState)({}),a=Object(i.a)(t,2),o=a[0],c=a[1],s=Object(r.useState)([]),p=Object(i.a)(s,2),A=p[0],j=p[1],O=Object(r.useState)([]),k=Object(i.a)(O,2),T=k[0],C=k[1],I=Object(r.useState)(0),w=Object(r.useState)(0),R=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut("view-state");case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut("view-ambassadors");case 2:t=e.sent,C(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut("view-guardians");case 2:t=e.sent,j(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=Object(r.useState)(""),M=Object(i.a)(F,2),D=M[0],L=M[1],G=Object(r.useState)({}),U=Object(i.a)(G,2),B=U[0],J=U[1],z=Object(r.useState)({}),W=Object(i.a)(z,2),K={tx:B,setTx:J,txStatus:D,setTxStatus:L,txRes:W[0],setTxRes:W[1]},_=Object(r.useState)({}),q=Object(i.a)(_,2),H=q[0],Q=q[1],$=Object(r.useState)([]),Z=Object(i.a)($,2),X=Z[0],Y=Z[1],ee=Object(r.useState)([]),te=Object(i.a)(ee,2),re=te[0],ne=te[1],oe=Object(r.useState)([]),ce=Object(i.a)(oe,2),se=ce[0],le=ce[1],ue=Object(r.useState)({}),ie=Object(i.a)(ue,2),me=ie[0],de=ie[1],pe=Object(r.useState)({}),fe=Object(i.a)(pe,2),be=(fe[0],fe[1]),xe=Object(r.useState)(0),ge=Object(r.useState)(0),he=Object(r.useState)(0),Se=Object(r.useState)(0),Ee=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt("view-forum-state");case 2:t=e.sent,Q(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt("view-members");case 2:t=e.sent,Y(t.filter((function(e){return!1===e.moderator}))),ne(t.filter((function(e){return!0===e.moderator})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt("view-modlogs");case 2:t=e.sent,le(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt("view-topics");case 2:t=e.sent,de(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt("view-comments");case 2:t=e.sent,be(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe={getForumState:Ee,getMembers:ve,getTopics:Ae,getComments:je};return Object(r.useEffect)((function(){N(),R(),P(),Ee(),ve(),ye(),Ae(),je(),console.log("useEffect App.js Fired")}),[]),n.a.createElement(x.a,{theme:e},n.a.createElement(g.a,null,n.a.createElement(h.a,null),n.a.createElement(m.a,{basename:"/dao.init-frontend"},n.a.createElement(V,{entriesList:[[{primary:"dao.init",subList:[{primary:"Config",to:"/?app=init&ui=config"},{primary:"Init State",to:"/?app=init&ui=state"},{primary:"Ambassadors",to:"/?app=init&ui=ambassadors"},{primary:"Guardians",to:"/?app=init&ui=guardians"}]},{primary:"dao.forum",subList:[{primary:"Config",to:"/?app=forum&ui=config"},{primary:"Forum State",to:"/?app=forum&ui=state"},{primary:"Mod Log",to:"/?app=forum&ui=modlog"},{primary:"Mjolnir",to:"/?app=forum&ui=mjolnir"},{primary:"Moderators",to:"/?app=forum&ui=moderators"},{primary:"Members",to:"/?app=forum&ui=members"},{primary:"Topics",to:"/?app=forum&ui=topics"}]}]]},n.a.createElement(S.a,null,n.a.createElement(d.c,null,n.a.createElement(d.a,{exact:!0,path:"/",component:function(e){e.match;var t=e.location,a=f.a.parse(t.search,{ignoreQueryPrefix:!0});return"init"===a.app?"config"===a.ui?n.a.createElement(E.a,null,n.a.createElement(v.a,{title:"Contract and UI Configuration"}),n.a.createElement(y.a,null,n.a.createElement(lt,null))):"state"===a.ui?n.a.createElement(E.a,null,n.a.createElement(v.a,{title:"Contract State"}),n.a.createElement(y.a,null,n.a.createElement(it,{initState:o}))):"guardians"===a.ui?n.a.createElement(E.a,null,n.a.createElement(v.a,{title:"Guardians"}),n.a.createElement(y.a,null,n.a.createElement(He,{guardians:A}),n.a.createElement(ae,{tabIdx:w,tabEntries:[{label:"Register Guardian",component:n.a.createElement(tt,{pactTxStatus:K,refresh:function(){return N()}})},{label:"Rotate Guardian",component:n.a.createElement(Xe,{guardians:A,ambassadors:T,pactTxStatus:K,refresh:function(){return P()}})},{label:"Propose DAO Upgrade",component:n.a.createElement(Ye,{guardians:A,pactTxStatus:K,refresh:function(){return P()}})},{label:"Approve DAO Upgrade",component:n.a.createElement(et,{guardians:A,pactTxStatus:K,refresh:function(){return P()}})}]}))):"ambassadors"===a.ui?n.a.createElement(E.a,null,n.a.createElement(v.a,{title:"Ambassadors"}),n.a.createElement(y.a,null,n.a.createElement(rt,{ambassadors:T}),n.a.createElement(ae,{tabIdx:I,tabEntries:[{label:"Register Ambassador",component:n.a.createElement(Qe,{guardians:A,pactTxStatus:K,refresh:function(){return P()}})},{label:"Deactivate Ambassador",component:n.a.createElement($e,{guardians:A,ambassadors:T,pactTxStatus:K,refresh:function(){return P()}})},{label:"Reactivate Ambassador",component:n.a.createElement(Ze,{guardians:A,ambassadors:T,pactTxStatus:K,refresh:function(){return P()}})},{label:"Rotate Ambassador",component:n.a.createElement(st,{ambassadors:T,pactTxStatus:K,refresh:function(){return P()}})},{label:"Vote to Freeze",component:n.a.createElement(ot,{ambassadors:T,pactTxStatus:K,refresh:function(){return P()}})},{label:"Freeze",component:n.a.createElement(ct,{ambassadors:T,pactTxStatus:K,refresh:function(){return P()}})}]}))):n.a.createElement(E.a,null,n.a.createElement(v.a,null,"404 UI not found")):"forum"===a.app?"config"===a.ui?n.a.createElement(E.a,null,n.a.createElement(v.a,{title:"Contract and UI Configuration"}),n.a.createElement(y.a,null,n.a.createElement(pt,null))):"state"===a.ui?n.a.createElement(E.a,null,n.a.createElement(v.a,{title:"Contract State"}),n.a.createElement(y.a,null,n.a.createElement(dt,{forumState:H}))):"mjolnir"===a.ui?n.a.createElement(E.a,null,n.a.createElement(v.a,{title:"Mjolnir Powers"}),n.a.createElement(y.a,null,n.a.createElement(Et,{members:X,moderators:re,tabIdx:xe,pactTxStatus:K,refresh:Oe}))):"moderators"===a.ui?n.a.createElement(E.a,null,n.a.createElement(v.a,{title:"Moderators"}),n.a.createElement(y.a,null,n.a.createElement(At,{moderators:re}),n.a.createElement(Tt,{members:X,moderators:re,guardians:A,ambassadors:T,tabIdx:he,pactTxStatus:K,refresh:Oe}))):"members"===a.ui?n.a.createElement(E.a,null,n.a.createElement(v.a,{title:"Members"}),n.a.createElement(y.a,null,n.a.createElement(yt,{members:X}),n.a.createElement(Ct,{members:X,moderators:re,guardians:A,ambassadors:T,tabIdx:ge,pactTxStatus:K,refresh:Oe}))):"modlog"===a.ui?n.a.createElement(E.a,null,n.a.createElement(v.a,{title:"Moderation Log"}),n.a.createElement(y.a,null,n.a.createElement(It,{modLog:se}))):"topics"===a.ui?n.a.createElement(E.a,null,n.a.createElement(v.a,{title:"Topics"}),n.a.createElement(y.a,null,n.a.createElement(Rt,{topics:me}),n.a.createElement(Nt,{members:X,moderators:re,topics:me,tabIdx:Se,pactTxStatus:K,refresh:Oe}))):n.a.createElement(E.a,null,n.a.createElement(v.a,null,"404 UI not found")):n.a.createElement(E.a,null,n.a.createElement(v.a,null,"404 UI not found"))}})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(Ft,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e,t){var a="memory-wall-gas-station",r="https://".concat("api.testnet.chainweb.com","/chainweb/0.0/").concat("testnet04","/chain/").concat("0","/pact"),n=function(){return Math.round((new Date).getTime()/1e3)-15},o={contractName:"init",gasStationName:a,namespace:"dao",contractAddress:"".concat("dao",".").concat("init"),gasStationAddress:"".concat("dao",".").concat(a),explorerURL:"https://explorer.chainweb.com/".concat("testnet04".slice(0,-2)),constants:{DAO_ACCT_NAME:"dao.init",GUARDIAN_KDA_REQUIRED:5e5},meta:{networkId:"testnet04",chainId:"0",host:r,creationTime:n,gasPrice:1e-11,gasLimit:1e4,ttl:28800,sender:"mw-free-gas",nonce:"some nonce that doesnt matter"}},c={contractName:"forum",gasStationName:a,namespace:"dao",contractAddress:"".concat("dao",".").concat("forum"),gasStationAddress:"".concat("dao",".").concat(a),explorerURL:"https://explorer.chainweb.com/".concat("testnet04".slice(0,-2)),constants:{},meta:{networkId:"testnet04",chainId:"0",host:r,creationTime:n,gasPrice:1e-11,gasLimit:1e4,ttl:28800,sender:"mw-free-gas",nonce:"some nonce that doesnt matter"}};e.exports={daoAPI:o,forumAPI:c,keyFormatter:function(e){return e.replace(new RegExp("[A-Z]+","gm")," $&").replace(new RegExp("^[a-z]","gm"),(function(e){return e.toUpperCase()}))}}}},[[195,1,2]]]);
//# sourceMappingURL=main.9055b0dd.chunk.js.map