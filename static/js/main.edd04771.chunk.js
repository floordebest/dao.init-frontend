(this["webpackJsonpdao.init-frontend"]=this["webpackJsonpdao.init-frontend"]||[]).push([[0],{179:function(e,t,a){e.exports=a.p+"static/media/kadena_r_rev_3_whi_lor.184cc2aa.png"},213:function(e,t,a){e.exports=a(401)},246:function(e,t){},401:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),c=a.n(o),s=a(85),l=a(20),i=a(9),u=a(196),m=a(470),d=a(471),p=a(472),f=a(13),b=a.n(f),x=a(19),h=a(4),g=a(37),S=a(11),E=a.n(S),v=a(451),y=a(463),O=a(464),j=a(465),T=a(75),A=a(402),C=a(443),k=a(444),I=a(445),R=a(446),w=a(447),N=a(448),P=a(449),F=a(450),M=a(476),D=a(481),L=a(440),G=a(18),K=a(73),W=a.n(K),z=a(74),U=a.n(z),J=a(184),B=a.n(J),V=a(179),_=a.n(V),q=Object(L.a)((function(e){return{root:{display:"flex"},drawer:Object(T.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(T.a)({},e.breakpoints.up("sm"),{zIndex:e.zIndex.drawer+1}),menuButton:Object(T.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)},nested:{paddingLeft:e.spacing(4)},logo:{height:"60px"}}})),H=function e(t){var a=t.icon,n=t.primary,o=t.to,c=t.subList,s=c&&Array.isArray(c),l=r.a.useState(!0),u=Object(h.a)(l,2),m=u[0],d=u[1],p=q(),f=Object(i.e)({app:Object(i.f)(i.c,"init"),ui:Object(i.f)(i.c,"guardians")}),b=Object(h.a)(f,2)[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(A.a,{button:!0,onClick:function(){return o?b(o):d(!m)}},a?r.a.createElement(C.a,null,a):null,r.a.createElement(k.a,{primary:n}),s?m?r.a.createElement(W.a,{onClick:function(){return d(!m)}}):r.a.createElement(U.a,{onClick:function(){return d(!m)}}):null)),s?r.a.createElement(I.a,{in:m,timeout:"auto",unmountOnExit:!0},r.a.createElement(R.a,{component:"div",disablePadding:!0,className:p.nested,dense:!0},c.map((function(t){return r.a.createElement(e,{icon:t.icon,primary:t.primary,to:t.to,subList:t.subList})})))):null)},Q=function(e){var t=e.window,a=e.entriesList,n=q(),o=Object(G.a)(),c=r.a.useState(!1),s=Object(h.a)(c,2),l=s[0],i=s[1],u=function(){i(!l)},m=r.a.createElement("div",null,r.a.createElement("div",{className:n.toolbar}),a.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null),r.a.createElement(R.a,null,e.map((function(e){return r.a.createElement(H,{icon:e.icon,primary:e.primary,to:e.to,subList:e.subList})}))))}))),d=void 0!==t?function(){return t().document.body}:void 0;return r.a.createElement("div",{className:n.root},r.a.createElement(N.a,{position:"fixed",className:n.appBar},r.a.createElement(P.a,null,r.a.createElement(F.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:u,className:n.menuButton},r.a.createElement(B.a,null)),r.a.createElement("img",{src:_.a,alt:"logo",className:n.logo}))),r.a.createElement("nav",{className:n.drawer,"aria-label":"mailbox folders"},r.a.createElement(M.a,{smUp:!0,implementation:"css"},r.a.createElement(D.a,{container:d,variant:"temporary",anchor:"rtl"===o.direction?"right":"left",open:l,onClose:u,classes:{paper:n.drawerPaper},ModalProps:{keepMounted:!0}},m)),r.a.createElement(M.a,{xsDown:!0,implementation:"css"},r.a.createElement(D.a,{classes:{paper:n.drawerPaper},variant:"permanent",open:!0},m))),r.a.createElement("main",{className:n.content},r.a.createElement("div",{className:n.toolbar}),e.children))},Z=(a(197),a(68)),$=a(473),Y=a(459),X=a(405),ee=a(460),te=a(407),ae=a(466),ne=a(479),re=a(16),oe=a.n(re),ce=a(480),se=a(461),le=a(185),ie=a.n(le),ue=a(462),me=a(474),de=a(201),pe=a(477),fe=a(7),be=a(452),xe=a(453),he=a(454),ge=a(455),Se=a(456),Ee=a(457),ve=a(478),ye=a(458),Oe=a(121),je=a.n(Oe),Te=a(123),Ae=a.n(Te),Ce=a(124),ke=a.n(Ce),Ie=(a(398),function(e){var t=e.value,a=e.onChange,o=Object(n.useState)("write"),c=Object(h.a)(o,2),s=c[0],l=c[1],i=function(){var e=Object(x.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return alert("No attachments!"),e.abrupt("return","No Attachments");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(je.a,{value:t,onChange:a,selectedTab:s,onTabChange:l,generateMarkdownPreview:function(e){var t=Promise.resolve(r.a.createElement(Ae.a,{remarkPlugins:[ke.a],children:e}));return console.log("react-mde-preview=".concat(t),t),t},childProps:{writeButton:{tabIndex:-1}},paste:{saveImage:i}})}),Re=function(e){return r.a.createElement(v.a,null,r.a.createElement(Ae.a,{remarkPlugins:[ke.a],children:e.mdText}))},we=(Object(L.a)((function(e){return{root:{display:"flex",flexWrap:"wrap","& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"25ch"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),function(e){return e.split("-").map((function(e){return e.replace(new RegExp("^.","gm"),(function(e){return e.toUpperCase()}))})).join(" ")}),Ne=function(e){return!e||"object"!==typeof e||("timep"in e||"int"in e||"decimal"in e||"time"in e)},Pe=function(e){return e&&"object"===typeof e?"time"in e?e.time:"timep"in e?e.timep:"int"in e?"string"===typeof e.int?e.int:e.int.toLocaleString():"decimal"in e?"string"===typeof e.decimal?e.decimal:e.decimal.toLocaleString():JSON.stringify(e):"boolean"===typeof e?e.toString():"string"===typeof e?e:"number"===typeof e?e.toLocaleString():JSON.stringify(e)},Fe=function(e){var t=Object.assign({},e);return r.a.createElement(de.a,Object.assign({elevation:0},t))},Me=Object(L.a)({table:{minWidth:650}}),De=Object(L.a)({table:{minWidth:650},root:{"& > *":{borderBottom:"unset"}}}),Le=function e(t){var a=t.json||{},n=t.isNested||!1,o=n?De:Me,c=t.header||[],s=t.keyFormatter?t.keyFormatter:function(e){return e},l=t.valFormatter?t.valFormatter:function(e){return r.a.createElement("code",null,Pe(e))},i=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(be.a,null,r.a.createElement(xe.a,null,c.map((function(e){return r.a.createElement(he.a,null,e)})))),r.a.createElement(ge.a,null,Object.entries(a).map((function(t){var n=Object(h.a)(t,2),o=n[0],c=n[1];return r.a.createElement(xe.a,{key:o},!1===Array.isArray(a)?r.a.createElement(he.a,null,s(o)):r.a.createElement(r.a.Fragment,null),Ne(c)?r.a.createElement(he.a,null,l(c)):"object"===typeof c?r.a.createElement(e,{json:c,keyFormatter:s,valFormatter:l,isNested:!0}):"function"===typeof c?r.a.createElement(he.a,null,l(c.toString())):r.a.createElement(he.a,null,l(c)))}))))};return n?r.a.createElement(Se.a,{className:o.table,size:"small","aria-label":"simple table"},i()):r.a.createElement(Ee.a,{component:Fe},r.a.createElement(Se.a,{className:o.table,size:"small","aria-label":"simple table"},i()))},Ge=function e(t){var a=E.a.isArray(t.json)?t.json:[],n=t.isNested||!1,o=n?De:Me,c=t.header||[],s=[];t.keyOrder?s=t.keyOrder:Array.isArray(t.json)&&a.length>0&&(s=Object.keys(a[0]));var l=t.keyFormatter?t.keyFormatter:function(e){return e},i=t.valFormatter?t.valFormatter:function(e){return r.a.createElement("code",null,Pe(e))},u=t.kvFunc||{},m=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(be.a,null,r.a.createElement(xe.a,null,c.map((function(e){return r.a.createElement(he.a,{key:e},e)})))),r.a.createElement(ge.a,null,a.map((function(t){return r.a.createElement(xe.a,{key:t[s[0]]},s.map((function(a){var n=t[a];return r.a.createElement(he.a,{key:a},E.a.has(u,a)?u[a](t):Ne(n)?i(n):Array.isArray(n)?r.a.createElement(e,{json:n,keyFormatter:l,valFormatter:i,isNested:!0}):"object"===typeof n?r.a.createElement(Le,{json:n,keyFormatter:l,valFormatter:i,isNested:!0}):i("function"===typeof n?n.toString():n))})))}))))};return n?r.a.createElement(Se.a,{className:o.table,size:"small","aria-label":"simple table"},m()):r.a.createElement(Ee.a,{component:Fe},r.a.createElement(Se.a,{className:o.table,size:"small","aria-label":"simple table"},m()))},Ke=function(e){var t=e.inputField,a=t.type,n=t.label,o=t.options,c=t.placeholder,s=t.className,l=t.onChange,i=t.value;return"select"===a?r.a.createElement($.a,{id:"outlined-multiline-static",select:!0,required:!0,fullWidth:!0,className:s,variant:"outlined",label:n,value:i,onChange:function(e){l(e.target.value)}},o.map((function(e){return r.a.createElement(ye.a,{key:e,value:e},e)}))):"textFieldSingle"===a?r.a.createElement($.a,{required:!0,fullWidth:!0,value:i,className:s,placeholder:c,variant:"outlined",label:n,onChange:function(e){return l(e.target.value)}}):"textFieldMulti"===a?r.a.createElement($.a,{required:!0,fullWidth:!0,label:n,className:s,multiline:!0,rows:4,variant:"outlined",placeholder:c,onChange:function(e){return l(e.target.value)}}):"checkbox"===a?r.a.createElement(ve.a,{checked:i,onChange:function(e){return l(e.target.value)},color:"primary",label:n}):"markdown"===a?r.a.createElement(Ie,{value:i,onChange:l}):null},We=function(e){var t=e.inputFields,a=e.onSubmit,o=e.tx,c=e.txRes,s=e.txStatus,l=e.setTxStatus,i=Object(n.useState)(!1),u=Object(h.a)(i,2),m=u[0],d=u[1];return Object(n.useEffect)((function(){return d(!1)}),[t]),Object(n.useEffect)((function(){return d(""!==s||m)}),[s]),r.a.createElement("div",null,r.a.createElement("form",{autoComplete:"off",onSubmit:function(e){return a(e)}},t.map((function(e){return r.a.createElement(Ke,{inputField:e})})),r.a.createElement(Y.a,null,"pending"===s?null:r.a.createElement(X.a,{variant:"outlined",color:"default",type:"submit",disabled:m},"Submit"))),"pending"===s?r.a.createElement(ee.a,null):null,r.a.createElement(Ue,{tx:o,txRes:c,txStatus:s,setTxStatus:l}))},ze=Object(L.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),Ue=function(e){var t=e.tx,a=e.txRes,o=e.txStatus,c=Object(n.useState)(!0),s=Object(h.a)(c,2),l=s[0],i=s[1],u=Object(n.useState)(!1),m=Object(h.a)(u,2),d=m[0],p=m[1],f=ze(),b="pending"===o?"info":"success"===o?"success":"timeout"===o?"warning":"error";return Object(n.useEffect)((function(){return i(!0)}),[o]),o?r.a.createElement("div",{className:f.root},r.a.createElement(I.a,{in:l},r.a.createElement(ce.a,{severity:b,action:r.a.createElement(F.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){return i(!1)}},r.a.createElement(ie.a,{fontSize:"inherit"}))},r.a.createElement(se.a,null,r.a.createElement(ue.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(ue.a,{item:!0},we(o)),"validation-error"===o||"failure"===o?r.a.createElement(ue.a,{item:!0},r.a.createElement(w.a,{orientation:"vertical",flexItem:!0}),r.a.createElement(X.a,{size:"small",onClick:function(){return p(!0)}},"View Error")):r.a.createElement(r.a.Fragment,null))),"pending"===o?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Awaiting Confirmation"),r.a.createElement("a",{href:"".concat(fe.daoAPI.explorerURL,"/tx/").concat(t.hash)},"Eventual Block Explorer Link")):"success"===o?r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"".concat(fe.daoAPI.explorerURL,"/tx/").concat(t.hash)},"View transaction in Block Explorer")):"failure"===o?r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"".concat(fe.daoAPI.explorerURL,"/tx/").concat(t.hash)},"View transaction in Block Explorer"),r.a.createElement("div",null,r.a.createElement(pe.a,{open:d,onClose:function(){return p(!1)}},r.a.createElement(v.a,{maxWidth:"lg"},r.a.createElement(Le,{json:a}))))):"timeout"===o?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"...but your tx was sent."),r.a.createElement("a",{href:"".concat(fe.daoAPI.explorerURL,"/tx/").concat(t.hash)},"View transaction in Block Explorer")):"validation-error"===o?r.a.createElement(r.a.Fragment,null,r.a.createElement(me.a,null,"Transaction was not sent to Blockchain. Check your keys or metadata."),r.a.createElement("div",null,r.a.createElement(pe.a,{open:d,onClose:function(){return p(!1)}},r.a.createElement(v.a,{maxWidth:"md"},r.a.createElement(de.a,null,JSON.stringify(a)))))):r.a.createElement(r.a.Fragment,null)))):r.a.createElement(r.a.Fragment,null)},Je=Object(te.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"},inline:{display:"inline"}}})),Be={wallet:"Chainweaver",signingKey:"",gasPrice:"0.00000000001",networkId:"testnet04"},Ve=Object(n.createContext)({walletProvider:Be,setWalletProvider:function(){},allKeys:[],setAllKeys:function(){},otherWallets:[],setOtherWallets:function(){},pastPactTxs:[],setPastPactTxs:function(){}}),_e=function(e){var t=e.children,a=Object(g.a)("wallet")(Be),o=Object(h.a)(a,2),c=o[0],s=o[1],l=Object(n.useState)(c),i=Object(h.a)(l,2),u=i[0],m=i[1];Object(n.useEffect)((function(){return s(u)}),[c,u,s]);var d=Object(g.a)("allKeys")([]),p=Object(h.a)(d,2),f=p[0],b=p[1],x=Object(n.useState)(f),S=Object(h.a)(x,2),E=S[0],v=S[1];Object(n.useEffect)((function(){return b(E)}),[f,E,b]);var y=Object(g.a)("pactTxs")([]),O=Object(h.a)(y,2),j=O[0],T=O[1],A=Object(n.useState)(j),C=Object(h.a)(A,2),k=C[0],I=C[1];return Object(n.useEffect)((function(){return T(k)}),[j,k,T]),r.a.createElement(Ve.Provider,{value:{walletProvider:u,setWalletProvider:m,allKeys:E,setAllKeys:v,pastPactTxs:k,setPastPactTxs:I}},t)},qe={primary:"Wallet",subList:[{primary:"Config",to:{app:"wallet",ui:"config"}}]},He=function(e){var t=e.appRoute,a=e.setAppRoute;return"config"===t.ui?r.a.createElement(y.a,null,r.a.createElement(O.a,{title:"Wallet Configuration"}),r.a.createElement(j.a,null,r.a.createElement(Ye,null))):r.a.createElement(r.a.Fragment,null,a({app:"wallet",ui:"config"}))},Qe=function(){var e=Object(x.a)(b.a.mark((function e(t,a,n,r,o,c,s,l){var i,u,m,d,p;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={pactCode:"(+ 1 1)",caps:[oe.a.lang.mkCap("Gas Cap","Gas Cap","coin.GAS",[])],gasLimit:1e3,gasPrice:s,chainId:"0",signingPubKey:o,networkId:c,ttl:28800,sender:r,envData:{foo:"bar"}},console.log("toSign",i),e.next=5,oe.a.wallet.sign(i);case 5:if(u=e.sent,console.log("signed",u),"object"!==typeof u||!("hash"in u)){e.next=11;break}t(u),e.next=12;break;case 11:throw new Error("Signing API Failed");case 12:return e.next=14,oe.a.wallet.sendSigned(u,l);case 14:m=e.sent,console.log("txReqKeys",m),a("pending"),e.prev=17,d=8,p={};case 20:if(!(d>0)){e.next=29;break}return e.next=23,new Promise((function(e){return setTimeout(e,15e3)}));case 23:return e.next=25,oe.a.fetch.poll(m,l);case 25:p=e.sent;try{p[u.hash].result.status?d=-1:d-=1}catch(f){d-=1}e.next=20;break;case 29:n(p),"success"===p[u.hash].result.status?(console.log("tx status set to success"),a("success")):0===d?(console.log("tx status set to timeout"),a("timeout")):(console.log("tx status set to failure"),a("failure")),e.next=39;break;case 34:e.prev=34,e.t0=e.catch(17),console.log("tx api failure",e.t0),n(e.t0),a("failure");case 39:e.next=46;break;case 41:e.prev=41,e.t1=e.catch(0),n(e.t1.toString()),console.log("tx status set to validation error",e.t1),a("validation-error");case 46:case"end":return e.stop()}}),e,null,[[0,41],[17,34]])})));return function(t,a,n,r,o,c,s,l){return e.apply(this,arguments)}}(),Ze=Object(ae.a)(),$e=function(e){var t=e.signingKey,a=e.setSigningKey,n=e.allKeys,o=Je(),c=n?E.a.clone(n):[""];return r.a.createElement(ne.a,{className:o.formControl,value:t,onChange:function(e,t){"string"===typeof t?a(t):t&&t.inputValue?a(t.inputValue):a(t)},filterOptions:function(e,t){var a=Ze(e,t);return""!==t.inputValue&&a.push({inputValue:t.inputValue,title:'Add "'.concat(t.inputValue,'"')}),a},selectOnFocus:!0,fullWidth:!0,clearOnBlur:!0,handleHomeEndKeys:!0,defaultValue:t||null,options:c,getOptionLabel:function(e){return e.inputValue?e.inputValue:e},renderOption:function(e){return e.title?e.title:e},freeSolo:!0,renderInput:function(e){return r.a.createElement($.a,Object.assign({},e,{label:"Select Signing Key",variant:"outlined",fullWidth:!0}))}})},Ye=function(){var e=function(e){var t=Object(n.useContext)(Ve),a=t.walletProvider,r=t.setWalletProvider;Object(n.useEffect)((function(){return r(Object(Z.a)(Object(Z.a)({},a),e))}),[]);var o=Object(n.useCallback)((function(e){return r(Object(Z.a)(Object(Z.a)({},a),e))}),[a,r]);return[a,o]}(),t=Object(h.a)(e,2),a=t[0],o=t[1],c=function(){var e=Object(n.useContext)(Ve),t=e.walletProvider,a=e.setWalletProvider,r=t.signingKeys,o=Object(n.useCallback)((function(e){return a(Object(Z.a)(Object(Z.a)({},t),{},{signingKeys:E.a.filter(E.a.uniq(E.a.concat(r,e)),(function(e){return!!e}))}))}),[a,r,t]);return[r,o]}(),s=Object(h.a)(c,2),l=s[0],i=s[1],u=Object(n.useState)(!1),m=Object(h.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)("Chainweaver"),b=Object(h.a)(f,2),x=b[0],g=b[1],S=Object(n.useState)(""),v=Object(h.a)(S,2),y=v[0],O=v[1],j=Object(n.useState)("testnet04"),T=Object(h.a)(j,2),A=T[0],C=T[1],k=Object(n.useState)(""),I=Object(h.a)(k,2),R=I[0],w=I[1],N=Je(),P=Object(n.useState)(""),F=Object(h.a)(P,2),M=F[0],D=F[1],L=Object(n.useState)({}),G=Object(h.a)(L,2),K=G[0],W=G[1],z=Object(n.useState)({}),U=Object(h.a)(z,2),J=U[0],B=U[1];Object(n.useEffect)((function(){console.log("WalletConfig useEffect on load fired with",a),E.a.size(a)&&(a.wallet&&g(a.wallet),a.signingKey&&O(a.signingKey),a.gasPrice&&w(a.gasPrice),a.networkId&&C(a.networkId))}),[]),Object(n.useEffect)((function(){return p(!1)}),[x,y,R,A]);var V=[{type:"select",label:"Wallet",className:N.formControl,onChange:g,value:x,options:["Chainweaver","Zelcore"]},{type:"select",label:"Network",className:N.formControl,onChange:C,value:A,options:["testnet04","mainnet01"]},{type:"textFieldSingle",label:"Gas Price",className:N.formControl,value:R,onChange:w}];return r.a.createElement("div",null,r.a.createElement("form",{autoComplete:"off",onSubmit:function(e){return function(e){if(e.preventDefault(),d){var t="testnet04"===A?"https://api.testnet.chainweb.com/chainweb/0.0/".concat(A,"/chain/0/pact"):"https://api.chainweb.com/chainweb/0.0/".concat(A,"/chain/0/pact");Qe(W,D,B,y,y,A,Number.parseFloat(R),t)}else{var a={wallet:x,signingKey:y,gasPrice:R,networkId:A};o(a),i(y),p(!0),console.log("WalletConfig set to",a)}}(e)}},V.map((function(e){return r.a.createElement(Ke,{inputField:e})})),r.a.createElement($e,{signingKey:y,setSigningKey:O,allKeys:l}),r.a.createElement(Y.a,null,r.a.createElement(X.a,{variant:"outlined",color:"default",type:"submit"},d?"Test Current Settings":"Save New Settings"))),"pending"===M?r.a.createElement(ee.a,null):null,r.a.createElement(Ue,{tx:K,txRes:J,txStatus:M,setTxStatus:D}))},Xe=a(198),et=a(56),tt=a(475),at=a(467),nt=["children","value","index"],rt=function(e){var t=e.children,a=e.value,n=e.index,o=Object(Xe.a)(e,nt);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},o),a===n&&r.a.createElement(me.a,{p:3},r.a.createElement(et.a,null,t)))};var ot=Object(L.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper,marginTop:e.spacing(4)}}})),ct=function(e){var t=e.tabEntries,a=e.tabIdx,n=ot(),o=Object(i.d)(a,Object(i.f)(i.a,0)),c=Object(h.a)(o,2),s=c[0],l=c[1];s>=E.a.size(t)&&l(0);return r.a.createElement("div",{className:n.root},r.a.createElement(N.a,{position:"static",color:"default"},r.a.createElement(tt.a,{value:s,onChange:function(e,t){l(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example"},t.map((function(e,t){return r.a.createElement(at.a,Object.assign({label:e.label},{id:"scrollable-auto-tab-".concat(a=t),"aria-controls":"scrollable-auto-tabpanel-".concat(a)}));var a})))),t.map((function(e,t){return r.a.createElement(rt,{value:s,index:t},e.component)})))},st=Object(te.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"}}})),lt=function(){var e=Object(x.a)(b.a.mark((function e(t,a,n,r,o,c){var s,l,i,u,m,d,p,f=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=f.length>6&&void 0!==f[6]?f[6]:{},l=f.length>7&&void 0!==f[7]?f[7]:[],e.prev=2,i={pactCode:c,caps:Array.isArray(l)&&l.length?l:oe.a.lang.mkCap("Guadian Cap","Authenticates that you're a guardian","".concat(fe.daoAPI.contractAddress,".GUARDIAN"),[o]),gasLimit:fe.daoAPI.meta.gasLimit,chainId:fe.daoAPI.meta.chainId,ttl:fe.daoAPI.meta.ttl,sender:o,envData:s},console.log("toSign",i),e.next=7,oe.a.wallet.sign(i);case 7:if(u=e.sent,console.log("signed",u),"object"!==typeof u||!("hash"in u)){e.next=13;break}t(u),e.next=14;break;case 13:throw new Error("Signing API Failed");case 14:return e.next=16,oe.a.wallet.sendSigned(u,fe.daoAPI.meta.host);case 16:m=e.sent,console.log("txReqKeys",m),a("pending"),e.prev=19,d=8,p={};case 22:if(!(d>0)){e.next=31;break}return e.next=25,new Promise((function(e){return setTimeout(e,15e3)}));case 25:return e.next=27,oe.a.fetch.poll(m,fe.daoAPI.meta.host);case 27:p=e.sent;try{p[u.hash].result.status?d=-1:d-=1}catch(b){d-=1}e.next=22;break;case 31:n(p),"success"===p[u.hash].result.status?(console.log("tx status set to success"),a("success"),r()):0===d?(console.log("tx status set to timeout"),a("timeout"),r()):(console.log("tx status set to failure"),a("failure")),e.next=41;break;case 36:e.prev=36,e.t0=e.catch(19),console.log("tx api failure",e.t0),n(e.t0),a("failure");case 41:e.next=48;break;case 43:e.prev=43,e.t1=e.catch(2),n(e.t1),console.log("tx status set to validation error",e.t1),a("validation-error");case 48:case"end":return e.stop()}}),e,null,[[2,43],[19,36]])})));return function(t,a,n,r,o,c){return e.apply(this,arguments)}}(),it=function(e){return r.a.createElement(Ge,{header:["Guardian","Committed KDA","Approved Hash","Approval Date","Voting Guard","Forum Moderation Guard"],keyOrder:["k","committed-kda","approved-hash","approved-date","guard","moderate-guard"],json:e.guardians})},ut=function(e){var t=e.refresh,a=e.guardians,o=Object(n.useState)(""),c=Object(h.a)(o,2),s=c[0],l=c[1],i=Object(n.useState)(""),u=Object(h.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)(""),f=Object(h.a)(p,2),b=f[0],x=f[1],g=e.pactTxStatus,S=g.txStatus,E=g.setTxStatus,v=g.tx,y=g.setTx,O=g.txRes,j=g.setTxRes,T=st(),A=[{type:"select",label:"Select Guardian",className:T.formControl,onChange:l,options:a.map((function(e){return e.k}))},{type:"textFieldSingle",label:"Ambassador Account Name",className:T.formControl,value:m,onChange:d},{type:"textFieldMulti",label:"Ambassador Account Guard",className:T.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:b,onChange:x}];return r.a.createElement(We,{inputFields:A,onSubmit:function(e){e.preventDefault();try{lt(y,E,j,t,s,"(".concat(fe.daoAPI.contractAddress,'.register-ambassador "').concat(s,'" "').concat(m,"\" (read-keyset 'ks))"),{ks:JSON.parse(b)})}catch(a){console.log("Ambassador Registration Submit Error",typeof a,a,s,m,b),j(a),E("validation-error")}},tx:v,txStatus:S,txRes:O,setTxStatus:E})},mt=function(e){var t=e.refresh,a=Object(n.useState)(""),o=Object(h.a)(a,2),c=o[0],s=o[1],l=Object(n.useState)(""),i=Object(h.a)(l,2),u=i[0],m=i[1],d=e.pactTxStatus,p=d.txStatus,f=d.setTxStatus,b=d.tx,x=d.setTx,g=d.txRes,S=d.setTxRes,E=st(),v=[{type:"select",label:"Select Guardian",className:E.formControl,onChange:s,options:e.guardians.map((function(e){return e.k}))},{type:"select",label:"Select Ambassador",className:E.formControl,onChange:m,options:e.ambassadors.map((function(e){return e.k}))}];return r.a.createElement(We,{inputFields:v,onSubmit:function(e){e.preventDefault();try{lt(x,f,S,t,c,"(".concat(fe.daoAPI.contractAddress,'.deactivate-ambassador "').concat(c,'" "').concat(u,'")'))}catch(a){console.log("deactivate-ambassador Submit Error",typeof a,a,c),S(a),f("validation-error")}},tx:b,txStatus:p,txRes:g,setTxStatus:f})},dt=function(e){var t=e.refresh,a=Object(n.useState)(""),o=Object(h.a)(a,2),c=o[0],s=o[1],l=Object(n.useState)(""),i=Object(h.a)(l,2),u=i[0],m=i[1],d=e.pactTxStatus,p=d.txStatus,f=d.setTxStatus,b=d.tx,x=d.setTx,g=d.txRes,S=d.setTxRes,E=st(),v=[{type:"select",label:"Select Guardian",className:E.formControl,onChange:s,options:e.guardians.map((function(e){return e.k}))},{type:"select",label:"Select Ambassador",className:E.formControl,onChange:m,options:e.ambassadors.map((function(e){return e.k}))}];return r.a.createElement(We,{inputFields:v,onSubmit:function(e){e.preventDefault();try{lt(x,f,S,t,c,"(".concat(fe.daoAPI.contractAddress,'.reactivate-ambassador "').concat(c,'" "').concat(u,'")'))}catch(a){console.log("reactivate-ambassador Submit Error",typeof a,a,c),S(a),f("validation-error")}},tx:b,txStatus:p,txRes:g,setTxStatus:f})},pt=function(e){var t=e.refresh,a=e.guardians,o=Object(n.useState)(""),c=Object(h.a)(o,2),s=c[0],l=c[1],i=Object(n.useState)(""),u=Object(h.a)(i,2),m=u[0],d=u[1],p=e.pactTxStatus,f=p.txStatus,b=p.setTxStatus,x=p.tx,g=p.setTx,S=p.txRes,E=p.setTxRes,v=st(),y=[{type:"select",label:"Select Guardian",className:v.formControl,onChange:l,options:a.map((function(e){return e.k}))},{type:"textFieldMulti",label:"Guardian Voting Guard",className:v.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:m,onChange:d}];return r.a.createElement(We,{inputFields:y,onSubmit:function(e){e.preventDefault();try{lt(g,b,E,t,s,"(".concat(fe.daoAPI.contractAddress,'.rotate-guardian "').concat(s,"\" (read-keyset 'voteKs))"),{voteKs:JSON.parse(m)})}catch(a){console.log("rotate-guardian Submit Error",typeof a,a,s,m),E(a),b("validation-error")}},tx:x,txStatus:f,txRes:S,setTxStatus:b})},ft=function(e){var t=e.refresh,a=e.guardians,o=Object(n.useState)(""),c=Object(h.a)(o,2),s=c[0],l=c[1],i=Object(n.useState)(""),u=Object(h.a)(i,2),m=u[0],d=u[1],p=e.pactTxStatus,f=p.txStatus,b=p.setTxStatus,x=p.tx,g=p.setTx,S=p.txRes,E=p.setTxRes,v=st(),y=[{type:"select",label:"Select Guardian",className:v.formControl,onChange:l,options:a.map((function(e){return e.k}))},{type:"textFieldSingle",label:"Proposed Upgrade Hash",className:v.formControl,value:m,onChange:d}];return r.a.createElement(We,{inputFields:y,onSubmit:function(e){e.preventDefault();try{lt(g,b,E,t,s,"(".concat(fe.daoAPI.contractAddress,'.propose-dao-upgrade "').concat(s,'" "').concat(m,'")'))}catch(a){console.log("propose-dao-upgrade Submit Error",typeof a,a,s,m),E(a),b("validation-error")}},tx:x,txStatus:f,txRes:S,setTxStatus:b})},bt=function(e){var t=e.refresh,a=e.guardians,o=Object(n.useState)(""),c=Object(h.a)(o,2),s=c[0],l=c[1],i=Object(n.useState)(""),u=Object(h.a)(i,2),m=u[0],d=u[1],p=e.pactTxStatus,f=p.txStatus,b=p.setTxStatus,x=p.tx,g=p.setTx,S=p.txRes,E=p.setTxRes,v=st(),y=[{type:"select",label:"Select Guardian",className:v.formControl,onChange:l,options:a.map((function(e){return e.k}))},{type:"select",label:"Proposed Upgrade Hash",className:v.formControl,value:d,options:a.map((function(e){return e["approved-hash"]}))}];return r.a.createElement(We,{inputFields:y,onSubmit:function(e){e.preventDefault();try{lt(g,b,E,t,s,"(".concat(fe.daoAPI.contractAddress,'.guardian-approve-hash "').concat(s,'" "').concat(m,'")'))}catch(a){console.log("guardian-approve-hash Submit Error",typeof a,a,s,m),E(a),b("validation-error")}},tx:x,txStatus:f,txRes:S,setTxStatus:b})},xt=function(e){var t=e.refresh,a=Object(n.useState)(""),o=Object(h.a)(a,2),c=o[0],s=o[1],l=Object(n.useState)(""),i=Object(h.a)(l,2),u=i[0],m=i[1],d=e.pactTxStatus,p=d.txStatus,f=d.setTxStatus,b=d.tx,x=d.setTx,g=d.txRes,S=d.setTxRes,E=st(),v=[{type:"textFieldSingle",label:"Guardian Account Name",className:E.formControl,value:c,onChange:s},{type:"textFieldMulti",label:"Guardian Voting Guard",className:E.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:u,onChange:m}];return r.a.createElement(We,{inputFields:v,onSubmit:function(e){e.preventDefault();try{lt(x,f,S,t,c,"(".concat(fe.daoAPI.contractAddress,'.register-guardian "').concat(c,"\" (read-keyset 'voteKs))"),{voteKs:JSON.parse(u)},[oe.a.lang.mkCap("TRANSFER Cap","Stake the needed amount","coin.TRANSFER",[c,fe.daoAPI.constants.DAO_ACCT_NAME,fe.daoAPI.constants.GUARDIAN_KDA_REQUIRED])])}catch(a){console.log("Guardian Registration Submit Error",typeof a,a,c,u),S(a),f("validation-error")}},tx:b,txStatus:p,txRes:g,setTxStatus:f})},ht=Object(te.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"}}})),gt=function(e){return r.a.createElement(Ge,{header:["Ambassador","Active","Voted to Freeze","Guard"],keyOrder:["k","active","voted-to-freeze","guard"],json:e.ambassadors})},St=function(){var e=Object(x.a)(b.a.mark((function e(t,a,n,r,o,c){var s,l,i,u,m,d,p,f=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=f.length>6&&void 0!==f[6]?f[6]:{},l=f.length>7&&void 0!==f[7]?f[7]:[],e.prev=2,i={pactCode:c,caps:Array.isArray(l)&&l.length?l:oe.a.lang.mkCap("Ambassador Cap","Authenticates that you're an ambassador","".concat(fe.daoAPI.contractAddress,".AMBASSADOR"),[o]),gasLimit:fe.daoAPI.meta.gasLimit,chainId:fe.daoAPI.meta.chainId,ttl:fe.daoAPI.meta.ttl,sender:o,envData:s},console.log("toSign",i),e.next=7,oe.a.wallet.sign(i);case 7:return u=e.sent,console.log("signed",u),t(u),e.next=12,oe.a.wallet.sendSigned(u,fe.daoAPI.meta.host);case 12:m=e.sent,console.log("txReqKeys",m),a("pending"),e.prev=15,d=8,p={};case 18:if(!(d>0)){e.next=27;break}return e.next=21,new Promise((function(e){return setTimeout(e,15e3)}));case 21:return e.next=23,oe.a.fetch.poll(m,fe.daoAPI.meta.host);case 23:p=e.sent;try{p[u.hash].result.status?d=-1:d-=1}catch(b){d-=1}e.next=18;break;case 27:n(p),"success"===p[u.hash].result.status?(console.log("tx status set to success"),a("success"),r()):0===d?(console.log("tx status set to timeout"),a("timeout"),r()):(console.log("tx status set to failure"),a("failure")),e.next=37;break;case 32:e.prev=32,e.t0=e.catch(15),console.log("tx api failure",e.t0),n(e.t0),a("failure");case 37:e.next=43;break;case 39:e.prev=39,e.t1=e.catch(2),console.log("tx status set to validation error",e.t1),a("validation-error");case 43:case"end":return e.stop()}}),e,null,[[2,39],[15,32]])})));return function(t,a,n,r,o,c){return e.apply(this,arguments)}}(),Et=function(e){var t=e.refresh,a=e.ambassadors,o=Object(n.useState)(""),c=Object(h.a)(o,2),s=c[0],l=c[1],i=e.pactTxStatus,u=i.txStatus,m=i.setTxStatus,d=i.tx,p=i.setTx,f=i.txRes,b=i.setTxRes,x=[{type:"select",label:"Select Ambassador",className:ht().formControl,onChange:l,options:a.map((function(e){return e.k}))}];return r.a.createElement(We,{inputFields:x,onSubmit:function(e){e.preventDefault();try{St(p,m,b,t,s,"(".concat(fe.daoAPI.contractAddress,'.vote-to-freeze "').concat(s,'")'))}catch(a){console.log("vote to freeze Submit Error",typeof a,a,s),b(a),m("validation-error")}},tx:d,txStatus:u,txRes:f,setTxStatus:m})},vt=function(e){var t=e.refresh,a=e.ambassadors,o=Object(n.useState)(""),c=Object(h.a)(o,2),s=c[0],l=c[1],i=e.pactTxStatus,u=i.txStatus,m=i.setTxStatus,d=i.tx,p=i.setTx,f=i.txRes,b=i.setTxRes,x=[{type:"select",label:"Select Ambassador",className:ht().formControl,onChange:l,options:a.map((function(e){return e.k}))}];return r.a.createElement(We,{inputFields:x,onSubmit:function(e){e.preventDefault();try{St(p,m,b,t,s,"(".concat(fe.daoAPI.contractAddress,'.freeze "').concat(s,'")'))}catch(a){console.log("freeze Submit Error",typeof a,a,s),b(a),m("validation-error")}},tx:d,txStatus:u,txRes:f,setTxStatus:m})},yt=function(e){var t=e.refresh,a=e.ambassadors,o=Object(n.useState)(""),c=Object(h.a)(o,2),s=c[0],l=c[1],i=Object(n.useState)(""),u=Object(h.a)(i,2),m=u[0],d=u[1],p=e.pactTxStatus,f=p.txStatus,b=p.setTxStatus,x=p.tx,g=p.setTx,S=p.txRes,E=p.setTxRes,v=ht(),y=[{type:"select",label:"Select Ambassador",className:v.formControl,onChange:l,options:a.map((function(e){return e.k}))},{type:"textFieldMulti",label:"Guardian Account Guard",className:v.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:m,onChange:d}];return r.a.createElement(We,{inputFields:y,onSubmit:function(e){e.preventDefault();try{St(g,b,E,t,s,"(".concat(fe.daoAPI.contractAddress,'.rotate-ambassador "').concat(s,"\" (read-keyset 'ks))"),{ks:JSON.parse(m)})}catch(a){console.log("rotate-ambassador Submit Error",typeof a,a,s,m),E(a),b("validation-error")}},tx:x,txStatus:f,txRes:S,setTxStatus:b})},Ot=function(){return r.a.createElement(Le,{json:fe.daoAPI,keyFormatter:fe.keyFormatter})},jt=function(){var e=Object(x.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.a.fetch.local({pactCode:"(".concat(fe.daoAPI.contractAddress,".").concat(t,")"),meta:oe.a.lang.mkMeta(fe.daoAPI.meta.sender,fe.daoAPI.meta.chainId,fe.daoAPI.meta.gasPrice,fe.daoAPI.meta.gasLimit,fe.daoAPI.meta.creationTime(),fe.daoAPI.meta.ttl)},fe.daoAPI.meta.host);case 2:return a=e.sent,n=a.result.data,console.log("local query data",n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Tt=function(e){return r.a.createElement(Le,{json:e.initState,header:["","Status"],keyFormatter:we})},At={primary:"dao.init",subList:[{primary:"Config & State",subList:[{primary:"Config",to:{app:"init",ui:"config"}},{primary:"Init State",to:{app:"init",ui:"state"}}]},{primary:"Ambassadors",to:{app:"init",ui:"ambassadors"}},{primary:"Guardians",to:{app:"init",ui:"guardians"}}]},Ct=function(e){var t=e.appRoute,a=e.setAppRoute,n=e.initState,o=e.guardians,c=e.ambassadors,s=e.pactTxStatus,l=e.refresh,i=l.getAmbassadors,u=l.getGuardians;return"config"===t.ui?r.a.createElement(y.a,null,r.a.createElement(O.a,{title:"Contract and UI Configuration"}),r.a.createElement(j.a,null,r.a.createElement(Ot,null))):"state"===t.ui?r.a.createElement(y.a,null,r.a.createElement(O.a,{title:"Contract State"}),r.a.createElement(j.a,null,r.a.createElement(Tt,{initState:n}))):"guardians"===t.ui?r.a.createElement(y.a,null,r.a.createElement(O.a,{title:"Guardians"}),r.a.createElement(j.a,null,r.a.createElement(it,{guardians:o}),r.a.createElement(ct,{tabIdx:"grdTab",tabEntries:[{label:"Register Guardian",component:r.a.createElement(xt,{pactTxStatus:s,refresh:function(){return u()}})},{label:"Rotate Guardian",component:r.a.createElement(pt,{guardians:o,ambassadors:c,pactTxStatus:s,refresh:function(){return i()}})},{label:"Propose DAO Upgrade",component:r.a.createElement(ft,{guardians:o,pactTxStatus:s,refresh:function(){return i()}})},{label:"Approve DAO Upgrade",component:r.a.createElement(bt,{guardians:o,pactTxStatus:s,refresh:function(){return i()}})}]}))):"ambassadors"===t.ui?r.a.createElement(y.a,null,r.a.createElement(O.a,{title:"Ambassadors"}),r.a.createElement(j.a,null,r.a.createElement(gt,{ambassadors:c}),r.a.createElement(ct,{tabIdx:"ambTab",tabEntries:[{label:"Register Ambassador",component:r.a.createElement(ut,{guardians:o,pactTxStatus:s,refresh:function(){return i()}})},{label:"Deactivate Ambassador",component:r.a.createElement(mt,{guardians:o,ambassadors:c,pactTxStatus:s,refresh:function(){return i()}})},{label:"Reactivate Ambassador",component:r.a.createElement(dt,{guardians:o,ambassadors:c,pactTxStatus:s,refresh:function(){return i()}})},{label:"Rotate Ambassador",component:r.a.createElement(yt,{ambassadors:c,pactTxStatus:s,refresh:function(){return i()}})},{label:"Vote to Freeze",component:r.a.createElement(Et,{ambassadors:c,pactTxStatus:s,refresh:function(){return i()}})},{label:"Freeze",component:r.a.createElement(vt,{ambassadors:c,pactTxStatus:s,refresh:function(){return i()}})}]}))):r.a.createElement(r.a.Fragment,null,a({app:"forum",ui:"topics"}))},kt=function(){var e=Object(x.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.a.fetch.local({pactCode:"(".concat(fe.forumAPI.contractAddress,".").concat(t,")"),meta:oe.a.lang.mkMeta(fe.forumAPI.meta.sender,fe.forumAPI.meta.chainId,fe.forumAPI.meta.gasPrice,fe.forumAPI.meta.gasLimit,fe.forumAPI.meta.creationTime(),fe.forumAPI.meta.ttl)},fe.forumAPI.meta.host);case 2:return a=e.sent,n=a.result.data,console.log("local query data: (".concat(fe.forumAPI.contractAddress,".").concat(t,")"),a),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),It=function(e){return r.a.createElement(Le,{json:e.forumState,header:["","Status"],keyFormatter:we})},Rt=function(){return r.a.createElement(Le,{json:fe.forumAPI,keyFormatter:fe.keyFormatter})},wt=Object(te.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"}}})),Nt=function(){var e=Object(x.a)(b.a.mark((function e(t,a,n,r,o){var c,s,l,i,u,m,d,p=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=p.length>5&&void 0!==p[5]?p[5]:{},s=p.length>6&&void 0!==p[6]?p[6]:[],e.prev=2,l={pactCode:o,caps:Array.isArray(s)&&s.length?s:oe.a.lang.mkCap("Mjonlir Cap","Authenticates that you're Mjonir","".concat(fe.forumAPI.contractAddress,".MJOLNIR")),gasLimit:fe.forumAPI.meta.gasLimit,chainId:fe.forumAPI.meta.chainId,ttl:fe.forumAPI.meta.ttl,envData:c},console.log("toSign",l),e.next=7,oe.a.wallet.sign(l);case 7:if(i=e.sent,console.log("signed",i),"object"!==typeof i||!("hash"in i)){e.next=13;break}t(i),e.next=14;break;case 13:throw new Error("Signing API Failed");case 14:return e.next=16,oe.a.wallet.sendSigned(i,fe.forumAPI.meta.host);case 16:u=e.sent,console.log("txReqKeys",u),a("pending"),e.prev=19,m=8,d={};case 22:if(!(m>0)){e.next=31;break}return e.next=25,new Promise((function(e){return setTimeout(e,15e3)}));case 25:return e.next=27,oe.a.fetch.poll(u,fe.forumAPI.meta.host);case 27:d=e.sent;try{d[i.hash].result.status?m=-1:m-=1}catch(f){m-=1}e.next=22;break;case 31:n(d),"success"===d[i.hash].result.status?(console.log("tx status set to success"),a("success"),r()):0===m?(console.log("tx status set to timeout"),a("timeout"),r()):(console.log("tx status set to failure"),a("failure")),e.next=41;break;case 36:e.prev=36,e.t0=e.catch(19),console.log("tx api failure",e.t0),n(e.t0),a("failure");case 41:e.next=47;break;case 43:e.prev=43,e.t1=e.catch(2),console.log("tx status set to validation error",e.t1),a("validation-error");case 47:case"end":return e.stop()}}),e,null,[[2,43],[19,36]])})));return function(t,a,n,r,o){return e.apply(this,arguments)}}(),Pt=function(e){var t=e.refresh,a=Object(n.useState)(""),o=Object(h.a)(a,2),c=o[0],s=o[1],l=e.pactTxStatus,i=l.txStatus,u=l.setTxStatus,m=l.tx,d=l.setTx,p=l.txRes,f=l.setTxRes,b=[{type:"textFieldMulti",label:"New Mjolnir Guard",className:wt().formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:c,onChange:s}];return r.a.createElement(We,{inputFields:b,onSubmit:function(e){e.preventDefault(),console.log(fe.forumAPI);try{Nt(d,u,f,t,"(".concat(fe.forumAPI.contractAddress,".rotate-mjolnir (read-keyset 'ks))"),{ks:JSON.parse(c)})}catch(a){console.log("Mjonir Registration Submit Error",typeof a,a,c),f(a),u("validation-error")}},tx:m,txStatus:i,txRes:p,setTxStatus:u})},Ft=function(e){var t=e.refresh,a=e.moderators,o=Object(n.useState)(""),c=Object(h.a)(o,2),s=c[0],l=c[1],i=e.pactTxStatus,u=i.txStatus,m=i.setTxStatus,d=i.tx,p=i.setTx,f=i.txRes,b=i.setTxRes,x=[{type:"select",label:"Select Moderator",className:wt().formControl,onChange:l,options:a.map((function(e){return e.name}))}];return r.a.createElement(We,{inputFields:x,onSubmit:function(e){e.preventDefault();try{Nt(p,m,b,t,"(".concat(fe.forumAPI.contractAddress,'.disable-moderator "').concat(s,'")'))}catch(a){console.log("disable-moderator Submit Error",typeof a,a,s),b(a),m("validation-error")}},tx:d,txStatus:u,txRes:f,setTxStatus:m})},Mt=function(e){var t=e.refresh,a=e.moderators,o=Object(n.useState)(""),c=Object(h.a)(o,2),s=c[0],l=c[1],i=e.pactTxStatus,u=i.txStatus,m=i.setTxStatus,d=i.tx,p=i.setTx,f=i.txRes,b=i.setTxRes,x=[{type:"select",label:"Select Moderator",className:wt().formControl,onChange:l,options:a.map((function(e){return e.name}))}];return r.a.createElement(We,{inputFields:x,onSubmit:function(e){e.preventDefault();try{Nt(p,m,b,t,"(".concat(fe.forumAPI.contractAddress,'.enable-moderator "').concat(s,'")'))}catch(a){console.log("disable-moderator Submit Error",typeof a,a,s),b(a),m("validation-error")}},tx:d,txStatus:u,txRes:f,setTxStatus:m})},Dt=function(e){var t=e.refresh,a=e.moderators,o=e.members,c=Object(n.useState)(""),s=Object(h.a)(c,2),l=s[0],i=s[1],u=Object(n.useState)({}),m=Object(h.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(!1),b=Object(h.a)(f,2),x=b[0],g=b[1],S=e.pactTxStatus,E=S.txStatus,v=S.setTxStatus,y=S.tx,O=S.setTx,j=S.txRes,T=S.setTxRes,A=wt(),C=[{type:"select",label:"Select User",className:A.formControl,onChange:i,options:a.map((function(e){return e.name})).concat(o.map((function(e){return e.name})))},{type:"textFieldMulti",label:"New Guard",className:A.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:d,onChange:p},{type:"checkbox",label:"Moderator",className:A.formControl,value:x,onChange:g}];return r.a.createElement(We,{inputFields:C,onSubmit:function(e){e.preventDefault();try{Nt(O,v,T,t,"(".concat(fe.forumAPI.contractAddress,'.mjolnir-write-member "').concat(l,"\" (read-keyset 'ks) ").concat(x,")"),{ks:JSON.parse(d)})}catch(a){console.log("mjolnir-write-member Submit Error",typeof a,a,l,d,x),T(a),v("validation-error")}},tx:y,txStatus:E,txRes:j,setTxStatus:v})},Lt=function(e){var t=e.members,a=e.moderators,n=e.tabIdx,o=e.pactTxStatus,c=e.refresh,s=c.getForumState,l=c.getMembers;return r.a.createElement(ct,{tabIdx:n,tabEntries:[{label:"Rotate Mjolnir Guard",component:r.a.createElement(Pt,{pactTxStatus:o,refresh:function(){return s()}})},{label:"Enable Moderator",component:r.a.createElement(Mt,{pactTxStatus:o,moderators:a,refresh:function(){return l()}})},{label:"Disable Moderator",component:r.a.createElement(Ft,{pactTxStatus:o,moderators:a,refresh:function(){return l()}})},{label:"Mjolnir Write Member",component:r.a.createElement(Dt,{pactTxStatus:o,moderators:a,members:t,refresh:function(){return l()}})}]})},Gt=Object(te.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"}}})),Kt=function(e){return r.a.createElement(Ge,{header:["Name","Disabled","Guard"],keyOrder:["name","disabled","guard"],json:e.members})},Wt=function(e){return r.a.createElement(Ge,{header:["Name","Disabled","Guard"],keyOrder:["name","disabled","guard"],json:e.moderators})},zt=function(){var e=Object(x.a)(b.a.mark((function e(t,a,n,r,o,c){var s,l,i,u,m,d,p,f,x=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=x.length>6&&void 0!==x[6]?x[6]:{},l=x.length>7&&void 0!==x[7]?x[7]:"member",i=x.length>8&&void 0!==x[8]?x[8]:[],e.prev=3,u={pactCode:c,caps:Array.isArray(i)&&i.length?i:"moderator"===l?oe.a.lang.mkCap("MODERATOR Cap","Authenticates that you're a MODERATOR","".concat(fe.forumAPI.contractAddress,".MODERATOR"),[o]):"member"===l?oe.a.lang.mkCap("MEMBER Cap","Authenticates that you're a MEMBER","".concat(fe.forumAPI.contractAddress,".MEMBER"),[o]):Error('sendForumCmd(role=["member"|"moderator"]), got role='.concat(l)),gasLimit:fe.forumAPI.meta.gasLimit,chainId:fe.forumAPI.meta.chainId,ttl:fe.forumAPI.meta.ttl,sender:o,envData:s},console.log("toSign",u),e.next=8,oe.a.wallet.sign(u);case 8:if(m=e.sent,console.log("signed",m),"object"!==typeof m||!("hash"in m)){e.next=14;break}t(m),e.next=15;break;case 14:throw new Error("Signing API Failed");case 15:return e.next=17,oe.a.wallet.sendSigned(m,fe.forumAPI.meta.host);case 17:d=e.sent,console.log("txReqKeys",d),a("pending"),e.prev=20,p=8,f={};case 23:if(!(p>0)){e.next=32;break}return e.next=26,new Promise((function(e){return setTimeout(e,15e3)}));case 26:return e.next=28,oe.a.fetch.poll(d,fe.forumAPI.meta.host);case 28:f=e.sent;try{f[m.hash].result.status?p=-1:p-=1}catch(b){p-=1}e.next=23;break;case 32:n(f),"success"===f[m.hash].result.status?(console.log("tx status set to success"),a("success"),r()):0===p?(console.log("tx status set to timeout"),a("timeout"),r()):(console.log("tx status set to failure"),a("failure")),e.next=42;break;case 37:e.prev=37,e.t0=e.catch(20),console.log("tx api failure",e.t0),n(e.t0),a("failure");case 42:e.next=48;break;case 44:e.prev=44,e.t1=e.catch(3),console.log("tx status set to validation error",e.t1),a("validation-error");case 48:case"end":return e.stop()}}),e,null,[[3,44],[20,37]])})));return function(t,a,n,r,o,c){return e.apply(this,arguments)}}(),Ut=function(e){var t=e.refresh,a=e.guardians,o=Object(n.useState)(""),c=Object(h.a)(o,2),s=c[0],l=c[1],i=Object(n.useState)({}),u=Object(h.a)(i,2),m=u[0],d=u[1],p=e.pactTxStatus,f=p.txStatus,b=p.setTxStatus,x=p.tx,g=p.setTx,S=p.txRes,E=p.setTxRes,v=Gt(),y=[{type:"select",label:"Select your Guardian Account",className:v.formControl,onChange:l,options:a.map((function(e){return e.k}))},{type:"textFieldMulti",label:"Moderator Keyset",className:v.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:m,onChange:d}];return r.a.createElement(We,{inputFields:y,onSubmit:function(e){e.preventDefault();try{zt(g,b,E,t,s,"(".concat(fe.forumAPI.contractAddress,'.become-moderator "').concat(s,"\" (read-keyset 'ks))"),{ks:JSON.parse(m)},"moderator",[oe.a.lang.mkCap("GUARDIAN Cap","Authenticates that you're a GUARDIAN","".concat(fe.daoAPI.contractAddress,".GUARDIAN"),[s])])}catch(a){console.log("mjolnir-write-member Submit Error",typeof a,a,s,m),E(a),b("validation-error")}},tx:x,txStatus:f,txRes:S,setTxStatus:b})},Jt=function(e){var t=e.refresh,a=e.ambassadors,o=Object(n.useState)(""),c=Object(h.a)(o,2),s=c[0],l=c[1],i=Object(n.useState)({}),u=Object(h.a)(i,2),m=u[0],d=u[1],p=e.pactTxStatus,f=p.txStatus,b=p.setTxStatus,x=p.tx,g=p.setTx,S=p.txRes,E=p.setTxRes,v=Gt(),y=[{type:"select",label:"Select your Ambassador Account",className:v.formControl,onChange:l,options:a.map((function(e){return e.k}))},{type:"textFieldMulti",label:"Member Keyset",className:v.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:m,onChange:d}];return r.a.createElement(We,{inputFields:y,onSubmit:function(e){e.preventDefault();try{zt(g,b,E,t,s,"(".concat(fe.forumAPI.contractAddress,'.become-member "').concat(s,"\" (read-keyset 'ks))"),{ks:JSON.parse(m)},"member",[oe.a.lang.mkCap("AMBASSADOR Cap","Authenticates that you're a AMBASSADOR","".concat(fe.daoAPI.contractAddress,".AMBASSADOR"),[s])])}catch(a){console.log("mjolnir-write-member Submit Error",typeof a,a,s,m),E(a),b("validation-error")}},tx:x,txStatus:f,txRes:S,setTxStatus:b})},Bt=function(e){var t=e.refresh,a=e.moderators,o=e.members,c=Object(n.useState)(""),s=Object(h.a)(c,2),l=s[0],i=s[1],u=Object(n.useState)(""),m=Object(h.a)(u,2),d=m[0],p=m[1],f=e.pactTxStatus,b=f.txStatus,x=f.setTxStatus,g=f.tx,S=f.setTx,E=f.txRes,v=f.setTxRes,y=Gt(),O=[{type:"select",label:"Select your Moderator Account",className:y.formControl,onChange:i,options:a.map((function(e){return e.name}))},{type:"select",label:"Select Member Account",className:y.formControl,onChange:p,options:o.map((function(e){return e.name}))}];return r.a.createElement(We,{inputFields:O,onSubmit:function(e){e.preventDefault();try{zt(S,x,v,t,l,"(".concat(fe.forumAPI.contractAddress,'.disable-member "').concat(l,'" "').concat(d,'")'),{},"moderator")}catch(a){console.log("disable-member Submit Error",typeof a,a,l,d),v(a),x("validation-error")}},tx:g,txStatus:b,txRes:E,setTxStatus:x})},Vt=function(e){var t=e.refresh,a=e.moderators,o=e.members,c=Object(n.useState)(""),s=Object(h.a)(c,2),l=s[0],i=s[1],u=Object(n.useState)(""),m=Object(h.a)(u,2),d=m[0],p=m[1],f=e.pactTxStatus,b=f.txStatus,x=f.setTxStatus,g=f.tx,S=f.setTx,E=f.txRes,v=f.setTxRes,y=Gt(),O=[{type:"select",label:"Select your Moderator Account",className:y.formControl,onChange:i,options:a.map((function(e){return e.name}))},{type:"select",label:"Select Member Account",className:y.formControl,onChange:p,options:o.map((function(e){return e.name}))}];return r.a.createElement(We,{inputFields:O,onSubmit:function(e){e.preventDefault();try{zt(S,x,v,t,l,"(".concat(fe.forumAPI.contractAddress,'.enable-member "').concat(l,'" "').concat(d,'")'),{},"moderator")}catch(a){console.log("enable-member Submit Error",typeof a,a,l,d),v(a),x("validation-error")}},tx:g,txStatus:b,txRes:E,setTxStatus:x})},_t=function(e){var t=e.refresh,a=e.moderators,o=Object(n.useState)(""),c=Object(h.a)(o,2),s=c[0],l=c[1],i=Object(n.useState)({}),u=Object(h.a)(i,2),m=u[0],d=u[1],p=e.pactTxStatus,f=p.txStatus,b=p.setTxStatus,x=p.tx,g=p.setTx,S=p.txRes,E=p.setTxRes,v=Gt(),y=[{type:"select",label:"Select your Moderator Account",className:v.formControl,onChange:l,options:a.map((function(e){return e.name}))},{type:"textFieldMulti",label:"New Keyset",className:v.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:m,onChange:d}];return r.a.createElement(We,{inputFields:y,onSubmit:function(e){e.preventDefault();try{zt(g,b,E,t,s,"(".concat(fe.forumAPI.contractAddress,'.rotate-moderator "').concat(s,"\" (read-keyset 'ks))"),{ks:JSON.parse(m)},"moderator")}catch(a){console.log("rotate-moderator Submit Error",typeof a,a,s,m),E(a),b("validation-error")}},tx:x,txStatus:f,txRes:S,setTxStatus:b})},qt=function(e){var t=e.refresh,a=e.members,o=Object(n.useState)(""),c=Object(h.a)(o,2),s=c[0],l=c[1],i=Object(n.useState)({}),u=Object(h.a)(i,2),m=u[0],d=u[1],p=e.pactTxStatus,f=p.txStatus,b=p.setTxStatus,x=p.tx,g=p.setTx,S=p.txRes,E=p.setTxRes,v=Gt(),y=[{type:"select",label:"Select your Member Account",className:v.formControl,onChange:l,options:a.map((function(e){return e.name}))},{type:"textFieldMulti",label:"New Keyset",className:v.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:m,onChange:d}];return r.a.createElement(We,{inputFields:y,onSubmit:function(e){e.preventDefault();try{zt(g,b,E,t,s,"(".concat(fe.forumAPI.contractAddress,'.rotate-member "').concat(s,"\" (read-keyset 'ks))"),{ks:JSON.parse(m)},"member")}catch(a){console.log("rotate-member Submit Error",typeof a,a,s,m),E(a),b("validation-error")}},tx:x,txStatus:f,txRes:S,setTxStatus:b})},Ht=function(e){var t=e.refresh,a=e.moderators,o=e.topics,c=Object(n.useState)(""),s=Object(h.a)(c,2),l=s[0],u=s[1],m=Object(n.useState)(""),d=Object(h.a)(m,2),p=d[0],f=d[1],b=e.pactTxStatus,x=b.txStatus,g=b.setTxStatus,S=b.tx,v=b.setTx,y=b.txRes,O=b.setTxRes,j=Gt(),T=Object(i.e)({topicId:i.c}),A=Object(h.a)(T,1)[0],C=Object(n.useState)(!1),k=Object(h.a)(C,2),I=k[0],R=k[1];Object(n.useEffect)((function(){try{if(!I&&E.a.has(A,["topicId"])){var e=E.a.find(o,(function(e){return e.index===A.topicId}));f(e.index),R(!0)}}catch(t){}}),[o,A,p,I]);var w=[{type:"select",label:"Select your Moderator Account",className:j.formControl,onChange:u,value:l,options:a.map((function(e){return e.name}))},{type:"select",label:"Select Topic Index",className:j.formControl,onChange:f,value:p,options:o.map((function(e){return e.index}))}];return r.a.createElement(We,{inputFields:w,onSubmit:function(e){e.preventDefault();try{zt(v,g,O,t,l,"(".concat(fe.forumAPI.contractAddress,'.delete-topic "').concat(l,'" "').concat(p,'")'),{},"moderator")}catch(a){console.log("delete-topic Submit Error",typeof a,a,l,p),O(a),g("validation-error")}},tx:S,txStatus:x,txRes:y,setTxStatus:g})},Qt=function(e){var t=e.refresh,a=e.moderators,o=e.topics,c=Object(n.useState)(""),s=Object(h.a)(c,2),l=s[0],u=s[1],m=Object(n.useState)(""),d=Object(h.a)(m,2),p=d[0],f=d[1],b=e.pactTxStatus,x=b.txStatus,g=b.setTxStatus,S=b.tx,v=b.setTx,y=b.txRes,O=b.setTxRes,j=Gt(),T=Object(i.e)({topicId:i.c}),A=Object(h.a)(T,1)[0],C=Object(n.useState)(!1),k=Object(h.a)(C,2),I=k[0],R=k[1];Object(n.useEffect)((function(){try{if(!I&&E.a.has(A,["topicId"])){var e=E.a.find(o,(function(e){return e.index===A.topicId}));f(e.index),R(!0)}}catch(t){}}),[o,A,p,I]);var w=[{type:"select",label:"Select your Moderator Account",className:j.formControl,onChange:u,value:l,options:a.map((function(e){return e.name}))},{type:"select",label:"Select Topic Index",className:j.formControl,onChange:f,value:p,options:o.map((function(e){return e.index}))}];return r.a.createElement(We,{inputFields:w,onSubmit:function(e){e.preventDefault();try{zt(v,g,O,t,l,"(".concat(fe.forumAPI.contractAddress,'.undelete-topic "').concat(l,'" "').concat(p,'")'),{},"moderator")}catch(a){console.log("undelete-topic Submit Error",typeof a,a,l,p),O(a),g("validation-error")}},tx:S,txStatus:x,txRes:y,setTxStatus:g})},Zt=function(e){var t=e.refresh,a=e.moderators,o=e.topics,c=Object(n.useState)(""),s=Object(h.a)(c,2),l=s[0],u=s[1],m=Object(n.useState)(""),d=Object(h.a)(m,2),p=d[0],f=d[1],b=e.pactTxStatus,x=b.txStatus,g=b.setTxStatus,S=b.tx,v=b.setTx,y=b.txRes,O=b.setTxRes,j=Gt(),T=Object(i.e)({topicId:i.c}),A=Object(h.a)(T,1)[0],C=Object(n.useState)(!1),k=Object(h.a)(C,2),I=k[0],R=k[1];Object(n.useEffect)((function(){try{if(!I&&E.a.has(A,["topicId"])){var e=E.a.find(o,(function(e){return e.index===A.topicId}));f(e.index),R(!0)}}catch(t){}}),[o,A,p,I]);var w=[{type:"select",label:"Select your Moderator Account",className:j.formControl,onChange:u,value:l,options:a.map((function(e){return e.name}))},{type:"select",label:"Select Topic Index",className:j.formControl,onChange:f,value:p,options:o.map((function(e){return e.index}))}];return r.a.createElement(We,{inputFields:w,onSubmit:function(e){e.preventDefault();try{zt(v,g,O,t,l,"(".concat(fe.forumAPI.contractAddress,'.lock-topic "').concat(l,'" "').concat(p,'")'),{},"moderator")}catch(a){console.log("lock-topic Submit Error",typeof a,a,l,p),O(a),g("validation-error")}},tx:S,txStatus:x,txRes:y,setTxStatus:g})},$t=function(e){var t=e.moderators,a=e.comments,o=e.refresh,c=e.pactTxStatus,s=c.txStatus,l=c.setTxStatus,u=c.tx,m=c.setTx,d=c.txRes,p=c.setTxRes,f=Object(n.useState)(""),b=Object(h.a)(f,2),x=b[0],g=b[1],S=Object(n.useState)(""),v=Object(h.a)(S,2),y=v[0],O=v[1],j=Gt(),T=Object(i.e)({commentId:i.c}),A=Object(h.a)(T,1)[0],C=Object(n.useState)(!1),k=Object(h.a)(C,2),I=k[0],R=k[1];Object(n.useEffect)((function(){try{if(!I&&E.a.has(A,["commentId"])){var e=E.a.find(a,(function(e){return e.index===A.commentId}));O(e.index),R(!0)}}catch(t){}}),[a,A,y,I]);var w=[{type:"select",label:"Select your Moderator Account",className:j.formControl,onChange:g,value:x,options:t.map((function(e){return e.name}))},{type:"select",label:"Select Comment Index",className:j.formControl,onChange:O,value:y,options:a.map((function(e){return e.index}))}];return r.a.createElement(We,{inputFields:w,onSubmit:function(e){e.preventDefault();try{zt(m,l,p,o,x,"(".concat(fe.forumAPI.contractAddress,'.delete-topic-comment "').concat(x,'" "').concat(y,'")'),{},"moderator")}catch(t){console.log("delete-topic-comment Submit Error",typeof t,t,x,y),p(t),l("validation-error")}},tx:u,txStatus:s,txRes:d,setTxStatus:l})},Yt=function(e){var t=e.members,a=e.moderators,o=e.topics,c=e.refresh,s=e.pactTxStatus,l=s.txStatus,u=s.setTxStatus,m=s.tx,d=s.setTx,p=s.txRes,f=s.setTxRes,b=Object(n.useState)(""),x=Object(h.a)(b,2),g=x[0],S=x[1],v=Object(n.useState)(""),y=Object(h.a)(v,2),O=y[0],j=y[1],T=Object(n.useState)(""),A=Object(h.a)(T,2),C=A[0],k=A[1],I=Gt(),R=Object(i.e)({topicId:i.c,vote:i.c}),w=Object(h.a)(R,1)[0],N=Object(n.useState)(!1),P=Object(h.a)(N,2),F=P[0],M=P[1];Object(n.useEffect)((function(){try{if(!F&&E.a.has(w,["topicId","vote"])){var e=E.a.find(o,(function(e){return e.index===w.topicId}));k(e.index),j(w.vote),M(!0)}}catch(t){}}),[o,w,C,F,O]);var D=[{type:"select",label:"Member Account",className:I.formControl,onChange:S,value:g,options:a.map((function(e){return e.name})).concat(t.map((function(e){return e.name})))},{type:"select",label:"Select Topic Index",className:I.formControl,onChange:k,value:C,options:o.map((function(e){return e.index}))},{type:"select",label:"Select Vote",className:I.formControl,onChange:j,value:O,options:["upvote","remove","downvote"]}];return r.a.createElement(We,{inputFields:D,onSubmit:function(e){e.preventDefault();try{zt(d,u,f,c,g,"(".concat(fe.forumAPI.contractAddress,'.vote-on-topic "').concat(g,'" "').concat(C,'" "').concat(O,'")'),{})}catch(t){console.log("vote-on-topic Submit Error",typeof t,t,g,C,O),f(t),u("validation-error")}},tx:m,txStatus:l,txRes:p,setTxStatus:u})},Xt=function(e){var t=e.moderators,a=e.members,o=e.comments,c=e.refresh,s=e.pactTxStatus,l=s.txStatus,u=s.setTxStatus,m=s.tx,d=s.setTx,p=s.txRes,f=s.setTxRes,b=Object(n.useState)(""),x=Object(h.a)(b,2),g=x[0],S=x[1],v=Object(n.useState)(""),y=Object(h.a)(v,2),O=y[0],j=y[1],T=Object(n.useState)(""),A=Object(h.a)(T,2),C=A[0],k=A[1],I=Gt(),R=Object(i.e)({commentId:i.c,vote:i.c}),w=Object(h.a)(R,1)[0],N=Object(n.useState)(!1),P=Object(h.a)(N,2),F=P[0],M=P[1];Object(n.useEffect)((function(){try{if(!F&&E.a.has(w,["commentId"])){var e=E.a.find(o,(function(e){return e.index===w.commentId}));k(e.index),j(w.vote),M(!0)}}catch(t){}}),[o,w,C,O,F]);var D=[{type:"select",label:"Member Account",className:I.formControl,onChange:S,value:g,options:t.map((function(e){return e.name})).concat(a.map((function(e){return e.name})))},{type:"select",label:"Select Comment Index",className:I.formControl,onChange:k,value:C,options:o.map((function(e){return e.index}))},{type:"select",label:"Select Vote",className:I.formControl,onChange:j,value:O,options:["upvote","remove","downvote"]}];return r.a.createElement(We,{inputFields:D,onSubmit:function(e){e.preventDefault();try{zt(d,u,f,c,g,"(".concat(fe.forumAPI.contractAddress,'.vote-on-comment "').concat(g,'" "').concat(C,'" "').concat(O,'")'),{})}catch(t){console.log("vote-on-comment Submit Error",typeof t,t,g,C,O),f(t),u("validation-error")}},tx:m,txStatus:l,txRes:p,setTxStatus:u})},ea=function(e){var t=e.moderators,a=e.comments,o=e.refresh,c=e.pactTxStatus,s=c.txStatus,l=c.setTxStatus,u=c.tx,m=c.setTx,d=c.txRes,p=c.setTxRes,f=Object(n.useState)(""),b=Object(h.a)(f,2),x=b[0],g=b[1],S=Object(n.useState)(""),v=Object(h.a)(S,2),y=v[0],O=v[1],j=Gt(),T=Object(i.e)({commentId:i.c}),A=Object(h.a)(T,1)[0],C=Object(n.useState)(!1),k=Object(h.a)(C,2),I=k[0],R=k[1];Object(n.useEffect)((function(){try{if(!I&&E.a.has(A,["commentId"])){var e=E.a.find(a,(function(e){return e.index===A.commentId}));O(e.index),R(!0)}}catch(t){}}),[a,A,y,I]);var w=[{type:"select",label:"Select your Moderator Account",className:j.formControl,onChange:g,value:x,options:t.map((function(e){return e.name}))},{type:"select",label:"Select Comment Index",className:j.formControl,onChange:O,value:y,options:a.map((function(e){return e.index}))}];return r.a.createElement(We,{inputFields:w,onSubmit:function(e){e.preventDefault();try{zt(m,l,p,o,x,"(".concat(fe.forumAPI.contractAddress,'.delete-comment-comment "').concat(x,'" "').concat(y,'")'),{},"moderator")}catch(t){console.log("delete-comment-comment Submit Error",typeof t,t,x,y),p(t),l("validation-error")}},tx:u,txStatus:s,txRes:d,setTxStatus:l})},ta=function(e){var t=e.members,a=e.moderators,n=e.guardians,o=e.topics,c=e.comments,s=e.tabIdx,l=e.pactTxStatus,i=e.refresh,u=(i.getForumState,i.getMembers),m=i.getTopics,d=i.getComments;return r.a.createElement(ct,{tabIdx:s,tabEntries:[{label:"Become Moderator",component:r.a.createElement(Ut,{guardians:n,pactTxStatus:l,refresh:function(){return u()}})},{label:"Rotate Moderator",component:r.a.createElement(_t,{moderators:a,pactTxStatus:l,refresh:function(){return u()}})},{label:"Enable Member",component:r.a.createElement(Vt,{members:t,moderators:a,pactTxStatus:l,refresh:function(){return u()}})},{label:"Disable Member",component:r.a.createElement(Bt,{members:t,moderators:a,pactTxStatus:l,refresh:function(){return u()}})},{label:"Delete Topic",component:r.a.createElement(Ht,{moderators:a,topics:o,pactTxStatus:l,refresh:function(){return m()}})},{label:"UnDelete Topic",component:r.a.createElement(Qt,{moderators:a,topics:o,pactTxStatus:l,refresh:function(){return m()}})},{label:"Lock Topic",component:r.a.createElement(Zt,{moderators:a,topics:o,pactTxStatus:l,refresh:function(){return m()}})},{label:"Unlock Topic",component:r.a.createElement(Zt,{moderators:a,topics:o,pactTxStatus:l,refresh:function(){return m()}})},{label:"Delete Topic Comment",component:r.a.createElement($t,{moderators:a,comments:c,pactTxStatus:l,refresh:function(){return d()}})},{label:"Delete Comment Reply",component:r.a.createElement(ea,{moderators:a,comments:c,pactTxStatus:l,refresh:function(){return d()}})}]})},aa=function(e){var t=e.moderators,a=e.topics,n=e.tabIdx,o=e.pactTxStatus,c=e.refresh,s=c.getTopics;c.getComments;return r.a.createElement(ct,{tabIdx:n,tabEntries:[{label:"Delete Topic",component:r.a.createElement(Ht,{moderators:t,topics:a,pactTxStatus:o,refresh:function(){return s()}})},{label:"UnDelete Topic",component:r.a.createElement(Qt,{moderators:t,topics:a,pactTxStatus:o,refresh:function(){return s()}})},{label:"Lock Topic",component:r.a.createElement(Zt,{moderators:t,topics:a,pactTxStatus:o,refresh:function(){return s()}})},{label:"Unlock Topic",component:r.a.createElement(Zt,{moderators:t,topics:a,pactTxStatus:o,refresh:function(){return s()}})}]})},na=function(e){var t=e.members,a=e.moderators,n=(e.guardians,e.ambassadors),o=(e.topics,e.comments),c=e.tabIdx,s=e.pactTxStatus,l=e.refresh,i=(l.getForumState,l.getMembers),u=(l.getTopics,l.getComments);return r.a.createElement(ct,{tabIdx:c,tabEntries:[{label:"Become Member",component:r.a.createElement(Jt,{ambassadors:n,pactTxStatus:s,refresh:function(){return i()}})},{label:"Rotate Member",component:r.a.createElement(qt,{members:t,pactTxStatus:s,refresh:function(){return i()}})},{label:"Vote on Comment",component:r.a.createElement(Xt,{members:t,moderators:a,comments:o,pactTxStatus:s,refresh:function(){return u()}})}]})},ra=function(e){return r.a.createElement(Ge,{header:["Author","Timestamp","Action"],keyOrder:["author","timestamp","action"],json:e.modLog})},oa=a(122),ca=a.n(oa),sa=Object(te.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"}}})),la=function(e){var t=e.comments;return r.a.createElement(Ge,{header:["","Body","Author","Timestamp","Modified","Locked"],keyOrder:["index","body","author","timestamp","modified","locked"],json:t})},ia=function(e){var t=e.members,a=e.moderators,o=e.topics,c=e.refresh,s=e.pactTxStatus,l=s.txStatus,u=s.setTxStatus,m=s.tx,d=s.setTx,p=s.txRes,f=s.setTxRes,b=Object(n.useState)(""),x=Object(h.a)(b,2),g=x[0],S=x[1],v=Object(n.useState)(""),y=Object(h.a)(v,2),O=y[0],j=y[1],T=Object(n.useState)(""),A=Object(h.a)(T,2),C=A[0],k=A[1],I=sa(),R=Object(i.e)({topicId:i.c}),w=Object(h.a)(R,1)[0],N=Object(n.useState)(!1),P=Object(h.a)(N,2),F=P[0],M=P[1];Object(n.useEffect)((function(){try{if(!F&&E.a.has(w,["topicId"])){var e=E.a.find(o,(function(e){return e.index===w.topicId}));j(e.index),M(!0)}}catch(t){}}),[o,w,O,F]);var D=[{type:"select",label:"Author",className:I.formControl,onChange:S,value:g,options:a.map((function(e){return e.name})).concat(t.map((function(e){return e.name})))},{type:"select",label:"Topic Index",className:I.formControl,onChange:j,value:O,options:o.map((function(e){return e.index}))},{type:"markdown",label:"Comment Contents",value:C,onChange:k}];return r.a.createElement(We,{inputFields:D,onSubmit:function(e){e.preventDefault();try{zt(d,u,f,c,g,"(".concat(fe.forumAPI.contractAddress,'.post-topic-comment "').concat(g,'" (read-msg \'body) "').concat(O,'")'),{body:C})}catch(t){console.log("post-topic-comment Submit Error",typeof t,t,g,C,O),f(t),u("validation-error")}},tx:m,txStatus:l,txRes:p,setTxStatus:u})},ua=function(e){e.members,e.moderators;var t=e.comments,a=e.refresh,o=e.pactTxStatus,c=o.txStatus,s=o.setTxStatus,l=o.tx,u=o.setTx,m=o.txRes,d=o.setTxRes,p=Object(n.useState)(""),f=Object(h.a)(p,2),b=f[0],x=f[1],g=Object(n.useState)(""),S=Object(h.a)(g,2),v=S[0],y=S[1],O=Object(n.useState)(""),j=Object(h.a)(O,2),T=j[0],A=j[1],C=sa(),k=Object(i.e)({commentId:i.c}),I=Object(h.a)(k,1)[0],R=Object(n.useState)(!1),w=Object(h.a)(R,2),N=w[0],P=w[1];Object(n.useEffect)((function(){try{if(!N&&E.a.has(I,["commentId"])){var e=E.a.find(t,(function(e){return e.index===I.commentId}));y(e.index),x(e.author),A(e.body),P(!0)}}catch(a){}}),[t,I,v,N]);var F=[{type:"select",label:"Comment Index",className:C.formControl,onChange:y,value:v,options:t.map((function(e){return e.index}))},{type:"markdown",label:"Comment Contents",value:T,onChange:A}];return r.a.createElement(We,{inputFields:F,onSubmit:function(e){e.preventDefault();try{zt(u,s,d,a,b,"(".concat(fe.forumAPI.contractAddress,'.modify-comment "').concat(v,"\" (read-msg 'body) )"),{body:T})}catch(t){console.log("modiy-comment Submit Error",typeof t,t,b,T,v),d(t),s("validation-error")}},tx:l,txStatus:c,txRes:m,setTxStatus:s})},ma=function(e){var t=e.members,a=e.moderators,o=e.comments,c=e.refresh,s=e.pactTxStatus,l=s.txStatus,u=s.setTxStatus,m=s.tx,d=s.setTx,p=s.txRes,f=s.setTxRes,b=Object(n.useState)(""),x=Object(h.a)(b,2),g=x[0],S=x[1],v=Object(n.useState)(""),y=Object(h.a)(v,2),O=y[0],j=y[1],T=Object(n.useState)(""),A=Object(h.a)(T,2),C=A[0],k=A[1],I=sa(),R=Object(i.e)({commentId:i.c}),w=Object(h.a)(R,1)[0],N=Object(n.useState)(!1),P=Object(h.a)(N,2),F=P[0],M=P[1];Object(n.useEffect)((function(){try{if(!F&&E.a.has(w,["commentId"])){var e=E.a.find(o,(function(e){return e.index===w.commentId}));j(e.index),M(!0)}}catch(t){}}),[o,w,O,F]);var D=[{type:"select",label:"Author",className:I.formControl,onChange:S,value:g,options:a.map((function(e){return e.name})).concat(t.map((function(e){return e.name})))},{type:"select",label:"Comment Index",className:I.formControl,onChange:function(e){return j(e)},value:O,options:o.map((function(e){return e.index}))},{type:"markdown",label:"Comment Contents",value:C,onChange:k}];return r.a.createElement(We,{inputFields:D,onSubmit:function(e){e.preventDefault();try{zt(d,u,f,c,g,"(".concat(fe.forumAPI.contractAddress,'.post-comment-comment "').concat(g,'" (read-msg \'body) "').concat(O,'")'),{body:C})}catch(t){console.log("post-comment-comment Submit Error",typeof t,t,g,C,O),f(t),u("validation-error")}},tx:m,txStatus:l,txRes:p,setTxStatus:u})},da=function(e){var t=e.members,a=e.moderators,n=(e.topics,e.comments),o=e.tabIdx,c=e.pactTxStatus,s=e.refresh,l=(s.getTopics,s.getComments);return r.a.createElement(ct,{tabIdx:o,tabEntries:[{label:"Reply to Comment",component:r.a.createElement(ma,{members:t,moderators:a,comments:n,pactTxStatus:c,refresh:function(){return l()}})},{label:"Modify Comment",component:r.a.createElement(ua,{members:t,moderators:a,comments:n,pactTxStatus:c,refresh:function(){return l()}})}]})},pa=Object(te.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"},inline:{display:"inline"}}})),fa=function(e){var t=e.topics,a=e.moderators,n=e.pactTxStatus,o=e.refresh,c=Object(i.e)({ui:i.c,topicsTab:i.c,topicId:i.c}),s=Object(h.a)(c,2)[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{component:"div",disablePadding:!0},t.map((function(e){return r.a.createElement(ba,{moderators:a,topic:e,topics:t,pactTxStatus:n,refresh:o,setAppRoute:s})}))))},ba=function(e){var t=e.moderators,a=e.topic,o=e.topics,c=e.pactTxStatus,s=e.refresh,l=e.setAppRoute,i=Object(n.useState)(!1),u=Object(h.a)(i,2),m=u[0],d=u[1],p=(pa(),"Comment by ".concat(a.author," on ").concat(Pe(a.timestamp)).concat(a.modified?" [edited]":""));return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{button:!0,disableRipple:!0},r.a.createElement(k.a,{onClick:function(){return l({app:"forum",ui:"topic",topicId:a.index})},primary:r.a.createElement(me.a,{textOverflow:"ellipsis",overflow:"hidden"},a.headline),secondary:r.a.createElement(me.a,{textOverflow:"ellipsis",overflow:"hidden"},p)}),r.a.createElement(ca.a,{onClick:function(){l({topicId:a.index}),d(!m)}})),r.a.createElement(I.a,{in:m,timeout:"auto",unmountOnExit:!0},r.a.createElement(aa,{tabIdx:"topicsTab",moderators:t,topics:o,pactTxStatus:c,refresh:s})),r.a.createElement(w.a,{component:"li"}))},xa=function(e){var t=e.refresh,a=e.members,o=e.moderators,c=Object(n.useState)(""),s=Object(h.a)(c,2),l=s[0],i=s[1],u=Object(n.useState)(""),m=Object(h.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(""),b=Object(h.a)(f,2),x=b[0],g=b[1],S=e.pactTxStatus,E=S.txStatus,v=S.setTxStatus,y=S.tx,O=S.setTx,j=S.txRes,T=S.setTxRes,A=pa(),C=[{type:"select",label:"Author",className:A.formControl,onChange:i,value:l,options:o.map((function(e){return e.name})).concat(a.map((function(e){return e.name})))},{type:"textFieldSingle",label:"Headline",className:A.formControl,value:d,onChange:p},{type:"markdown",label:"Contents",value:x,onChange:g}];return r.a.createElement(We,{inputFields:C,onSubmit:function(e){e.preventDefault();try{zt(O,v,T,t,l,"(".concat(fe.forumAPI.contractAddress,".post-topic (read-msg 'headline) \"").concat(l,"\" (read-msg 'body))"),{headline:d,body:x})}catch(a){console.log("post-topic Submit Error",typeof a,a,l,d,x),T(a),v("validation-error")}},tx:y,txStatus:E,txRes:j,setTxStatus:v})},ha=function(e){var t=e.refresh,a=e.topics,o=Object(n.useState)(""),c=Object(h.a)(o,2),s=c[0],l=c[1],u=Object(n.useState)(""),m=Object(h.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(""),b=Object(h.a)(f,2),x=b[0],g=b[1],S=Object(n.useState)(""),v=Object(h.a)(S,2),y=v[0],O=v[1],j=e.pactTxStatus,T=j.txStatus,A=j.setTxStatus,C=j.tx,k=j.setTx,I=j.txRes,R=j.setTxRes,w=pa(),N=Object(i.e)({topicId:i.c}),P=Object(h.a)(N,1)[0],F=Object(n.useState)(!1),M=Object(h.a)(F,2),D=M[0],L=M[1];Object(n.useEffect)((function(){try{if(!D&&E.a.has(P,["topicId"])){var e=E.a.find(a,(function(e){return e.index===P.topicId}));p(e.index),l(e.author),O(e.body),g(e.headline),L(!0)}}catch(t){}}),[a,P,d,D]);var G=[{type:"textFieldSingle",label:"Headline",className:w.formControl,value:x,onChange:g},{type:"markdown",label:"Contents",value:y,onChange:O}];return r.a.createElement(We,{inputFields:G,onSubmit:function(e){e.preventDefault();try{zt(k,A,R,t,s,"(".concat(fe.forumAPI.contractAddress,'.modify-topic "').concat(d,"\" (read-msg 'headline) (read-msg 'body))"),{headline:x,body:y})}catch(a){console.log("modify-topic Submit Error",typeof a,a,s,x,y),R(a),A("validation-error")}},tx:C,txStatus:T,txRes:I,setTxStatus:A})},ga=function(e){var t=e.members,a=e.moderators,n=e.topics,o=(e.comments,e.tabIdx),c=e.pactTxStatus,s=e.refresh,l=s.getTopics,i=s.getComments;return r.a.createElement(ct,{tabIdx:o,tabEntries:[{label:"Post Topic",component:r.a.createElement(xa,{members:t,moderators:a,pactTxStatus:c,refresh:function(){return l()}})},{label:"Edit Topic",component:r.a.createElement(ha,{topics:n,pactTxStatus:c,refresh:function(){return l()}})},{label:"Vote on Topic",component:r.a.createElement(Yt,{members:t,moderators:a,topics:n,pactTxStatus:c,refresh:function(){return l()}})},{label:"Comment on Topic",component:r.a.createElement(ia,{members:t,moderators:a,topics:n,pactTxStatus:c,refresh:function(){return l(),i(),null}})}]})},Sa=a(468),Ea=a(469),va=a(188),ya=a.n(va),Oa=a(187),ja=a.n(Oa),Ta=a(189),Aa=a.n(Ta),Ca=a(191),ka=a.n(Ca),Ia=a(190),Ra=a.n(Ia),wa=a(193),Na=a.n(wa),Pa=a(192),Fa=a.n(Pa),Ma=a(194),Da=a.n(Ma),La=a(195),Ga=a.n(La),Ka=(Object(te.a)((function(e){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"},nested:{paddingLeft:e.spacing(8)}}})),function(e){var t=e.topics,a=e.comments,n=e.members,o=e.moderators,c=e.pactTxStatus,s=e.refresh,l=Object(i.e)({ui:i.c,forumTab:i.c,modTab:i.c,memTab:i.c,topicsTab:i.c,author:i.c,topicId:i.c,commentId:i.c}),u=Object(h.a)(l,2),m=u[0],d=u[1],p=E.a.find(t,(function(e){return e.index===m.topicId}));return E.a.has(p,"body")?r.a.createElement(y.a,null,r.a.createElement(O.a,{title:r.a.createElement(me.a,{textOverflow:"ellipsis",overflow:"hidden"},p.headline)}),r.a.createElement(j.a,null,r.a.createElement(R.a,null,r.a.createElement(A.a,null,r.a.createElement(me.a,{textOverflow:"ellipsis",overflow:"hidden"},r.a.createElement(Re,{mdText:p.body}))),r.a.createElement(A.a,null,r.a.createElement(Ua,{topic:p})),r.a.createElement(A.a,null,r.a.createElement(Le,{keyFormatter:we,json:[E.a.pick(p,["author","deleted","locked","modified","timestamp"])]}))),r.a.createElement(w.a,null),r.a.createElement(Wa,{topicId:p.index,topics:t,comments:a,members:n,moderators:o,pactTxStatus:c,refresh:s,setAppRoute:d}))):r.a.createElement(r.a.Fragment,null)}),Wa=function(e){var t=e.topicId,a=e.topics,n=e.comments,o=e.members,c=e.moderators,s=e.pactTxStatus,l=e.refresh,i=e.setAppRoute,u=E.a.find(a,{index:t})["comment-indexs"];return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{component:"div",disablePadding:!0},u.map((function(e){return r.a.createElement(za,{topicId:t,commentId:e,comments:n,isNested:0,members:o,moderators:c,topics:a,pactTxStatus:s,refresh:l,setAppRoute:i})}))))},za=function e(t){var a=t.topicId,o=t.commentId,c=t.comments,s=t.isNested,l=t.members,i=t.moderators,u=t.topics,m=t.pactTxStatus,d=t.refresh,p=t.setAppRoute,f=E.a.find(c,{index:o}),b=Object(n.useState)(!1),x=Object(h.a)(b,2),g=x[0],S=x[1],v={paddingLeft:"".concat(.25*s,"em")},y=s?"Reply by ".concat(f.author," on ").concat(Pe(f.timestamp)).concat(f.modified?" [edited]":""):"Comment by ".concat(f.author," on ").concat(Pe(f.timestamp)).concat(f.modified?" [edited]":""),O=function(){p({commentId:f.index}),S(!g)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{key:f.index,style:s?v:null},r.a.createElement(Re,{mdText:"*".concat(y,"* \n\n")+f.body}),g?r.a.createElement(W.a,{onClick:O}):r.a.createElement(U.a,{onClick:O})),r.a.createElement(I.a,{in:g,timeout:"auto",unmountOnExit:!0,style:s?{marginLeft:"".concat(.25*s,"em")}:null},r.a.createElement(da,{tabIdx:"inTopicTab",members:l,moderators:i,topics:u,comments:c,pactTxStatus:m,refresh:d})),r.a.createElement("div",{style:s?v:null},r.a.createElement(w.a,{component:"li"}),r.a.createElement(R.a,{component:"div",disablePadding:!0},f["child-indexs"].map((function(t){return r.a.createElement(e,{topicId:a,commentId:t,comments:c,isNested:s+1,members:l,moderators:i,topics:u,pactTxStatus:m,refresh:d,setAppRoute:p})})))))},Ua=function(e){var t=e.topic,a=Object(i.e)({ui:i.c,forumTab:i.c,modTab:i.c,memTab:i.c,topicsTab:i.c,author:i.c,topicId:i.c}),n=Object(h.a)(a,2)[1];return r.a.createElement(Sa.a,{disableElevation:!0,orientation:"horizontal",color:"primary",variant:"contained",lable:"Member Actions"},r.a.createElement(Ea.a,{title:"Vote For Topic"},r.a.createElement(F.a,{size:"small",onClick:function(){return n({ui:"topics",forumTab:"0"})}},r.a.createElement(ja.a,null))),r.a.createElement(Ea.a,{title:"Remove Your Vote"},r.a.createElement(F.a,{size:"small",onClick:function(){return n({ui:"topics",forumTab:"1"})}},r.a.createElement(ya.a,null))),r.a.createElement(Ea.a,{title:"Vote Against Topic"},r.a.createElement(F.a,{size:"small",onClick:function(){return n({ui:"topics",forumTab:"2"})}},r.a.createElement(Aa.a,null))),t.locked?r.a.createElement(Ea.a,{title:"Unlock Topic"},r.a.createElement(F.a,{size:"small",onClick:function(){return n({ui:"moderators",modTab:"7"})}},r.a.createElement(Ra.a,null))):r.a.createElement(Ea.a,{title:"Lock Topic"},r.a.createElement(F.a,{size:"small",onClick:function(){return n({ui:"moderators",modTab:"6"})}},r.a.createElement(ka.a,null))),r.a.createElement(Ea.a,{title:t.deleted?"Restore Deleted Topic":"Delete Topic"},r.a.createElement(F.a,{size:"small",onClick:function(){return n({ui:"moderators",modTab:t.delete?"5":"4"})}},t.delete?r.a.createElement(Fa.a,null):r.a.createElement(Na.a,null))),r.a.createElement(Ea.a,{title:"Edit Topic"},r.a.createElement(F.a,{size:"small",onClick:function(){return n({ui:"topics",topicsTab:"1"})}},r.a.createElement(Da.a,null))),r.a.createElement(Ea.a,{title:"Comment on Topic"},r.a.createElement(F.a,{size:"small",onClick:function(){return n({ui:"topics",commentsTab:"3"})}},r.a.createElement(Ga.a,null))))},Ja=function(){var e=Object(i.e)({app:Object(i.f)(i.c,"forum"),ui:Object(i.f)(i.c,"topics")}),t=Object(h.a)(e,2),a=t[0],o=t[1],c=Object(g.a)("initState")({}),s=Object(h.a)(c,2),u=s[0],m=s[1],d=Object(g.a)("guardians")([]),p=Object(h.a)(d,2),f=p[0],S=p[1],E=Object(g.a)("ambassadors")([]),T=Object(h.a)(E,2),A=T[0],C=T[1],k=function(){var e=Object(x.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt("view-state");case 2:t=e.sent,m(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(x.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt("view-ambassadors");case 2:t=e.sent,C(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(x.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt("view-guardians");case 2:t=e.sent,S(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=Object(n.useState)(""),N=Object(h.a)(w,2),P=N[0],F=N[1],M=Object(n.useState)({}),D=Object(h.a)(M,2),L=D[0],G=D[1],K=Object(n.useState)({}),W=Object(h.a)(K,2),z={tx:L,setTx:G,txStatus:P,setTxStatus:F,txRes:W[0],setTxRes:W[1]},U=Object(g.a)("forumState")({}),J=Object(h.a)(U,2),B=J[0],V=J[1],_=Object(g.a)("members")([]),q=Object(h.a)(_,2),H=q[0],Z=q[1],$=Object(g.a)("moderators")([]),Y=Object(h.a)($,2),X=Y[0],ee=Y[1],te=Object(g.a)("modLog")([]),ae=Object(h.a)(te,2),ne=ae[0],re=ae[1],oe=Object(g.a)("topics")([]),ce=Object(h.a)(oe,2),se=ce[0],le=ce[1],ie=Object(g.a)("comments")([]),ue=Object(h.a)(ie,2),me=ue[0],de=ue[1],pe=function(){var e=Object(x.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt("view-state");case 2:t=e.sent,V(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=Object(x.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt("view-members");case 2:t=e.sent,Z(t.filter((function(e){return!1===e.moderator}))),ee(t.filter((function(e){return!0===e.moderator})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(x.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt("view-modlogs");case 2:t=e.sent,re(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=Object(x.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt("view-topics");case 2:t=e.sent,le(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(x.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt("view-comments");case 2:t=e.sent,de(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge={getInitState:k,getGuardians:R,getAmbassadors:I,getForumState:pe,getMembers:fe,getTopics:xe,getComments:he,getModLog:be};return Object(n.useEffect)((function(){R(),k(),I(),pe(),fe(),be(),xe(),he(),console.log("useEffect App.js Fired")}),[]),r.a.createElement(_e,null,r.a.createElement(Q,{entriesList:[[qe,At,{primary:"dao.forum",subList:[{primary:"Admin",subList:[{primary:"Config",to:{app:"forum",ui:"config"}},{primary:"Forum State",to:{app:"forum",ui:"state"}},{primary:"Mod Log",to:{app:"forum",ui:"modlog"}},{primary:"Mjolnir",to:{app:"forum",ui:"mjolnir"}},{primary:"Moderators",to:{app:"forum",ui:"moderators"}}]},{primary:"Members",to:{app:"forum",ui:"members"}},{primary:"Topics",to:{app:"forum",ui:"topics"}},{primary:"Comments",to:{app:"forum",ui:"comments"}}]}]]},r.a.createElement(v.a,null,r.a.createElement(l.c,null,"wallet"===a.app?r.a.createElement(He,{appRoute:a,setAppRoute:o}):"init"===a.app?r.a.createElement(Ct,{appRoute:a,setAppRoute:o,initState:u,guardians:f,ambassadors:A,pactTxStatus:z,refresh:ge}):"forum"===a.app?"config"===a.ui?r.a.createElement(y.a,null,r.a.createElement(O.a,{title:"Contract and UI Configuration"}),r.a.createElement(j.a,null,r.a.createElement(Rt,null))):"state"===a.ui?r.a.createElement(y.a,null,r.a.createElement(O.a,{title:"Contract State"}),r.a.createElement(j.a,null,r.a.createElement(It,{forumState:B}))):"mjolnir"===a.ui?r.a.createElement(y.a,null,r.a.createElement(O.a,{title:"Mjolnir Powers"}),r.a.createElement(j.a,null,r.a.createElement(Lt,{tabIdx:"mjolnirTab",members:H,moderators:X,pactTxStatus:z,refresh:ge}))):"moderators"===a.ui?r.a.createElement(y.a,null,r.a.createElement(O.a,{title:"Moderators"}),r.a.createElement(j.a,null,r.a.createElement(Wt,{moderators:X}),r.a.createElement(ta,{tabIdx:"modTab",members:H,moderators:X,topics:se,comments:me,guardians:f,ambassadors:A,pactTxStatus:z,refresh:ge}))):"members"===a.ui?r.a.createElement(y.a,null,r.a.createElement(O.a,{title:"Members"}),r.a.createElement(j.a,null,r.a.createElement(Kt,{members:H}),r.a.createElement(na,{tabIdx:"memTab",members:H,moderators:X,topics:se,comments:me,guardians:f,ambassadors:A,pactTxStatus:z,refresh:ge}))):"modlog"===a.ui?r.a.createElement(y.a,null,r.a.createElement(O.a,{title:"Moderation Log"}),r.a.createElement(j.a,null,r.a.createElement(ra,{modLog:ne}))):"topics"===a.ui?r.a.createElement(y.a,null,r.a.createElement(O.a,{title:"Topics"}),r.a.createElement(j.a,null,r.a.createElement(fa,{topics:se,moderators:X,pactTxStatus:z,refresh:ge}),r.a.createElement(ga,{tabIdx:"topicsTab",members:H,moderators:X,topics:se,pactTxStatus:z,refresh:ge}))):"comments"===a.ui?r.a.createElement(y.a,null,r.a.createElement(O.a,{title:"Comments"}),r.a.createElement(j.a,null,r.a.createElement(la,{comments:me}),r.a.createElement(da,{topics:se,comments:me,tabIdx:"commentsTab",members:H,moderators:X,pactTxStatus:z,refresh:ge}))):"topic"===a.ui?r.a.createElement(Ka,{topics:se,comments:me,members:H,moderators:X,pactTxStatus:z,refresh:ge}):r.a.createElement(r.a.Fragment,null,(function(){console.log("Redirecting, this didn't match:",a),o({app:"forum",ui:"topics"})})):r.a.createElement(r.a.Fragment,null,(function(){console.log("Redirecting, this didn't match:",a),o({app:"forum",ui:"topics"})}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ba=function(){var e=r.a.useMemo((function(){return Object(u.a)({palette:{primary:{light:"#cb4584",main:"#960057",dark:"#cb4584",contrastText:"#fff"},secondary:{light:"#ffffff",main:"#e3e8ed",dark:"#b1b6bb",contrastText:"#000"}}})}),[]);return r.a.createElement(r.a.StrictMode,null,r.a.createElement(m.a,{theme:e},r.a.createElement(d.a,null,r.a.createElement(p.a,null),r.a.createElement(s.a,{basename:"/dao.init-frontend"},r.a.createElement(i.b,{ReactRouterRoute:l.a},r.a.createElement(Ja,null))))))};c.a.render(r.a.createElement(Ba,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t){var a="memory-wall-gas-station",n="https://".concat("api.testnet.chainweb.com","/chainweb/0.0/").concat("testnet04","/chain/").concat("0","/pact"),r=function(){return Math.round((new Date).getTime()/1e3)-15},o={contractName:"init",gasStationName:a,namespace:"dao",contractAddress:"".concat("dao",".").concat("init"),gasStationAddress:"".concat("dao",".").concat(a),explorerURL:"https://explorer.chainweb.com/".concat("testnet04".slice(0,-2)),constants:{DAO_ACCT_NAME:"dao.init",GUARDIAN_KDA_REQUIRED:5e5},meta:{networkId:"testnet04",chainId:"0",host:n,creationTime:r,gasPrice:1e-11,gasLimit:1e4,ttl:28800,sender:"mw-free-gas",nonce:"some nonce that doesnt matter"}},c={contractName:"forum",gasStationName:a,namespace:"dao",contractAddress:"".concat("dao",".").concat("forum"),gasStationAddress:"".concat("dao",".").concat(a),explorerURL:"https://explorer.chainweb.com/".concat("testnet04".slice(0,-2)),constants:{},meta:{networkId:"testnet04",chainId:"0",host:n,creationTime:r,gasPrice:1e-11,gasLimit:1e4,ttl:28800,sender:"mw-free-gas",nonce:"some nonce that doesnt matter"}};e.exports={daoAPI:o,forumAPI:c,keyFormatter:function(e){return e.replace(new RegExp("[A-Z]+","gm")," $&").replace(new RegExp("^[a-z]","gm"),(function(e){return e.toUpperCase()}))}}}},[[213,1,2]]]);
//# sourceMappingURL=main.edd04771.chunk.js.map