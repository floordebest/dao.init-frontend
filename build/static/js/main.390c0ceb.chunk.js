(this["webpackJsonpdao.init-frontend"]=this["webpackJsonpdao.init-frontend"]||[]).push([[0],{177:function(e,t,a){e.exports=a.p+"static/media/kadena_r_rev_3_whi_lor.184cc2aa.png"},212:function(e,t,a){e.exports=a(400)},241:function(e,t){},400:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),c=a.n(o),s=a(85),l=a(20),i=a(10),u=a(195),m=a(469),d=a(470),p=a(471),f=a(11),b=a.n(f),g=a(17),x=a(3),h=a(38),S=a(8),y=a.n(S),E=a(442),v=a(458),O=a(459),j=a(460),T=a(75),k=a(403),C=a(462),A=a(463),I=a(454),w=a(449),N=a(450),P=a(457),R=a(464),F=a(465),D=a(451),M=a(404),L=a(196),K=a(477),W=a(479),G=a(439),z=a(6),U=a(19),V=a(185),J=a.n(V),q=a(73),B=a.n(q),H=a(74),_=a.n(H),Q=a(184),$=a.n(Q),Y=a(177),Z=a.n(Y),X=a(29),ee=a(472),te=a(57),ae=a(452),ne=a(453),re=a(406),oe=a(461),ce=a(480),se=a(13),le=a.n(se),ie=a(478),ue=a(455),me=a(182),de=a.n(me),pe=a(456),fe=a(473),be=a(200),ge=a(475),xe=a(5),he=a(443),Se=a(444),ye=a(445),Ee=a(446),ve=a(447),Oe=a(448),je=a(476),Te=a(87),ke=a.n(Te),Ce=a(121),Ae=a.n(Ce),Ie=a(122),we=a.n(Ie),Ne=(a(395),a(481)),Pe=Object(G.a)((function(e){return{root:{"& p img":{width:"100%"}}}})),Re={name:"add tag",icon:function(){return r.a.createElement(Ne.a,{size:"small",variant:"outline",color:"default",label:"Tag",style:{marginTop:"-5px"}})},execute:function(e){e.textApi.replaceSelection("[](tag)")}},Fe=function(e){var t=e.value,a=e.onChange,o=Object(n.useState)("write"),c=Object(x.a)(o,2),s=c[0],l=c[1],i=Pe(),u=function(){var e=Object(g.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return alert("No attachments!"),e.abrupt("return","No Attachments");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=Object(Te.getDefaultCommandMap)();m.cmdTag=Re;var d=Object(Te.getDefaultToolbarCommands)();return d.push(["cmdTag"]),r.a.createElement(ke.a,{value:t,onChange:a,commands:m,toolbarCommands:d,selectedTab:s,onTabChange:l,generateMarkdownPreview:function(e){console.log(Ge(e));var t=r.a.createElement(Ke,{tags:Le(e)}),a=y.a.clone(e).replaceAll(Me,""),n=Promise.resolve(r.a.createElement("div",null,t,r.a.createElement(Ae.a,{remarkPlugins:[we.a],children:a,className:i.root})));return console.debug("react-mde-preview=".concat(n),n),n},childProps:{writeButton:{tabIndex:-1}},paste:{saveImage:u}})},De=function(e){var t=e.mdText,a=Pe(),n=r.a.createElement(Ke,{tags:Le(t)}),o=y.a.clone(t).replaceAll(Me,"");return r.a.createElement(E.a,null,n,r.a.createElement(Ae.a,{remarkPlugins:[we.a],children:o,className:a.root}))},Me=/\[([^\[]+)\](\(tag\))/gim,Le=function(e){var t,a=[];do{(t=Me.exec(e))&&a.push(t[1])}while(t);return y.a.uniq(a.map((function(e){return e.toLocaleLowerCase()})))},Ke=function(e){return e.tags.map((function(e){switch(console.log(e),e){case"bug hunt":return r.a.createElement(Ne.a,{size:"small",color:"primary",label:"Bug Hunt",style:{backgroundColor:"red"}});case"dao":return r.a.createElement(Ne.a,{size:"small",color:"primary",label:"DAO"});case"frontend":return r.a.createElement(Ne.a,{variant:"outlined",size:"small",color:"primary",label:"Frontend"});case"cold coffee":return r.a.createElement(Ne.a,{size:"small",color:"default",label:"Cold Coffee"});default:return null}}))},We=/\[(.*[^\[]+)\](\(tag\))/gim,Ge=function(e){return e.match(We).map((function(e){return e[1]}))},ze=(Object(G.a)((function(e){return{root:{display:"flex",flexWrap:"wrap","& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"25ch"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),function(e){return e.split("-").map((function(e){return e.replace(new RegExp("^.","gm"),(function(e){return e.toUpperCase()}))})).join(" ")}),Ue=function(e){return!e||"object"!==typeof e||("timep"in e||"int"in e||"decimal"in e||"time"in e)},Ve=function(e){return e&&"object"===typeof e?"time"in e?e.time:"timep"in e?e.timep:"int"in e?"string"===typeof e.int?e.int:e.int.toLocaleString():"decimal"in e?"string"===typeof e.decimal?e.decimal:e.decimal.toLocaleString():JSON.stringify(e):"boolean"===typeof e?e.toString():"string"===typeof e?e:"number"===typeof e?e.toLocaleString():JSON.stringify(e)},Je=function(e){var t=Object.assign({},e);return r.a.createElement(be.a,Object.assign({elevation:0},t))},qe=Object(G.a)({table:{minWidth:650}}),Be=Object(G.a)({table:{minWidth:650},root:{"& > *":{borderBottom:"unset"}}}),He=function e(t){var a=t.json||{},n=t.isNested||!1,o=n?Be:qe,c=t.header||[],s=t.keyFormatter?t.keyFormatter:function(e){return e},l=t.valFormatter?t.valFormatter:function(e){return r.a.createElement("code",null,Ve(e))},i=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(he.a,null,r.a.createElement(Se.a,null,c.map((function(e){return r.a.createElement(ye.a,null,e)})))),r.a.createElement(Ee.a,null,Object.entries(a).map((function(t){var n=Object(x.a)(t,2),o=n[0],c=n[1];return r.a.createElement(Se.a,{key:o},!1===Array.isArray(a)?r.a.createElement(ye.a,null,s(o)):r.a.createElement(r.a.Fragment,null),Ue(c)?r.a.createElement(ye.a,null,l(c)):"object"===typeof c?r.a.createElement(e,{json:c,keyFormatter:s,valFormatter:l,isNested:!0}):"function"===typeof c?r.a.createElement(ye.a,null,l(c.toString())):r.a.createElement(ye.a,null,l(c)))}))))};return n?r.a.createElement(ve.a,{className:o.table,size:"small","aria-label":"simple table"},i()):r.a.createElement(Oe.a,{component:Je},r.a.createElement(ve.a,{className:o.table,size:"small","aria-label":"simple table"},i()))},_e=function e(t){var a=y.a.isArray(t.json)?t.json:[],n=t.isNested||!1,o=n?Be:qe,c=t.header||[],s=[];t.keyOrder?s=t.keyOrder:Array.isArray(t.json)&&a.length>0&&(s=Object.keys(a[0]));var l=t.keyFormatter?t.keyFormatter:function(e){return e},i=t.valFormatter?t.valFormatter:function(e){return r.a.createElement("code",null,Ve(e))},u=t.kvFunc||{},m=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(he.a,null,r.a.createElement(Se.a,null,c.map((function(e){return r.a.createElement(ye.a,{key:e},e)})))),r.a.createElement(Ee.a,null,a.map((function(t){return r.a.createElement(Se.a,{key:t[s[0]]},s.map((function(a){var n=t[a];return r.a.createElement(ye.a,{key:a},y.a.has(u,a)?u[a](t):Ue(n)?i(n):Array.isArray(n)?r.a.createElement(e,{json:n,keyFormatter:l,valFormatter:i,isNested:!0}):"object"===typeof n?r.a.createElement(He,{json:n,keyFormatter:l,valFormatter:i,isNested:!0}):i("function"===typeof n?n.toString():n))})))}))))};return n?r.a.createElement(ve.a,{className:o.table,size:"small","aria-label":"simple table"},m()):r.a.createElement(Oe.a,{component:Je},r.a.createElement(ve.a,{className:o.table,size:"small","aria-label":"simple table"},m()))},Qe=function(e){var t=e.inputField,a=t.type,n=t.label,o=t.options,c=t.placeholder,s=t.className,l=t.onChange,i=t.value;return"select"===a?r.a.createElement(ee.a,{id:"outlined-multiline-static",select:!0,required:!0,fullWidth:!0,className:s,variant:"outlined",label:n,value:i,onChange:function(e){l(e.target.value)}},o.map((function(e){return r.a.createElement(N.a,{key:e,value:e},e)}))):"textFieldSingle"===a?r.a.createElement(ee.a,{required:!0,fullWidth:!0,value:i,className:s,placeholder:c,variant:"outlined",label:n,onChange:function(e){return l(e.target.value)}}):"textFieldMulti"===a?r.a.createElement(ee.a,{required:!0,fullWidth:!0,label:n,className:s,multiline:!0,rows:4,variant:"outlined",placeholder:c,onChange:function(e){return l(e.target.value)}}):"checkbox"===a?r.a.createElement(je.a,{checked:i,onChange:function(e){return l(e.target.value)},color:"primary",label:n}):"markdown"===a?r.a.createElement(Fe,{value:i,onChange:l}):null},$e=function(e){var t=e.inputFields,a=e.onSubmit,o=e.tx,c=e.txRes,s=e.txStatus,l=e.setTxStatus,i=rt().current,u=i.walletName,m=i.signingKey,d=Object(n.useState)(!1),p=Object(x.a)(d,2),f=p[0],b=p[1];return Object(n.useEffect)((function(){return b(!1)}),[t]),Object(n.useEffect)((function(){return b(""!==s||f)}),[s]),r.a.createElement("div",null,r.a.createElement("form",{autoComplete:"off",onSubmit:function(e){return a(e)}},t.map((function(e){return r.a.createElement(Qe,{inputField:e})})),r.a.createElement(ae.a,null,"pending"===s?null:r.a.createElement(M.a,{variant:"outlined",color:"default",type:"submit",disabled:f},u?f?"Complete Signing in Wallet":"Sign with ".concat(u," using key ").concat(m.substring(0,4),"...").concat(m.substring(m.length-4)):"Configure and select a wallet before proceeding"))),"pending"===s?r.a.createElement(ne.a,null):null,r.a.createElement(Ze,{tx:o,txRes:c,txStatus:s,setTxStatus:l}))},Ye=Object(G.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),Ze=function(e){var t=e.tx,a=e.txRes,o=e.txStatus,c=Object(n.useState)(!0),s=Object(x.a)(c,2),l=s[0],i=s[1],u=Object(n.useState)(!1),m=Object(x.a)(u,2),d=m[0],p=m[1],f=Ye(),b="pending"===o?"info":"success"===o?"success":"timeout"===o?"warning":"error";return Object(n.useEffect)((function(){return i(!0)}),[o]),o?r.a.createElement("div",{className:f.root},r.a.createElement(I.a,{in:l},r.a.createElement(ie.a,{severity:b,action:r.a.createElement(D.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){return i(!1)}},r.a.createElement(de.a,{fontSize:"inherit"}))},r.a.createElement(ue.a,null,r.a.createElement(pe.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(pe.a,{item:!0},ze(o)),"validation-error"===o||"failure"===o?r.a.createElement(pe.a,{item:!0},r.a.createElement(P.a,{orientation:"vertical",flexItem:!0}),r.a.createElement(M.a,{size:"small",onClick:function(){return p(!0)}},"View Error")):r.a.createElement(r.a.Fragment,null))),"pending"===o?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Awaiting Confirmation"),r.a.createElement("a",{href:"".concat(xe.daoAPI.explorerURL,"/tx/").concat(t.hash)},"Eventual Block Explorer Link")):"success"===o?r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"".concat(xe.daoAPI.explorerURL,"/tx/").concat(t.hash)},"View transaction in Block Explorer")):"failure"===o?r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"".concat(xe.daoAPI.explorerURL,"/tx/").concat(t.hash)},"View transaction in Block Explorer"),r.a.createElement("div",null,r.a.createElement(ge.a,{open:d,onClose:function(){return p(!1)}},r.a.createElement(E.a,{maxWidth:"lg"},r.a.createElement(He,{json:a}))))):"timeout"===o?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"...but your tx was sent."),r.a.createElement("a",{href:"".concat(xe.daoAPI.explorerURL,"/tx/").concat(t.hash)},"View transaction in Block Explorer")):"validation-error"===o?r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.a,null,"Transaction was not sent to Blockchain. Check your keys or metadata."),r.a.createElement("div",null,r.a.createElement(ge.a,{open:d,onClose:function(){return p(!1)}},r.a.createElement(E.a,{maxWidth:"md"},r.a.createElement(be.a,null,JSON.stringify(a)))))):r.a.createElement(r.a.Fragment,null)))):r.a.createElement(r.a.Fragment,null)},Xe=Object(re.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"},inline:{display:"inline"}}})),et={current:{},otherWallets:{},allKeys:[],globalConfig:{},contractConfigs:{},registeredLocals:{},registeredCmds:{},pastPactTxs:[]},tt=Object(n.createContext)(),at=function(e,t){switch(t.type){case"updateWallet":if(!y.a.has(t,"newWallet"))throw new Error("updateWallet requires newWallet:{walletName,gasPrice,networkId,signingKey} key");var a=y.a.cloneDeep(e.current),n=y.a.cloneDeep(e.otherWallets);if(a.walletName&&(n[a.walletName]=a),!t.newWallet.walletName)throw new Error("updateWallet requires newWallet:{walletName,gasPrice,networkId,signingKey} key");n[t.newWallet.walletName]=t.newWallet;var r=y.a.filter(y.a.uniq(y.a.concat(y.a.cloneDeep(e.allKeys),t.newWallet.signingKey)),(function(e){return!!e}));return Object(X.a)(Object(X.a)({},e),{},{current:t.newWallet,otherWallets:n,allKeys:r});case"addKeys":if(!y.a.has(t,"newKeys"))throw new Error("addKeys requires newKeys:[] key");var o=y.a.filter(y.a.uniq(y.a.concat(y.a.cloneDeep(e.allKeys),t.newKeys)),(function(e){return!!e}));return Object(X.a)(Object(X.a)({},e),{},{allKeys:o});case"setContractConfig":if(!y.a.has(t,"configName"))throw new Error("addConfig requires configName:'' key");if(!y.a.has(t,"config"))throw new Error("addConfig requires config:'' key");var c=y.a.cloneDeep(e.contractConfigs);return c[t.configName]=t.config,Object(X.a)(Object(X.a)({},e),{},{contractConfigs:c});case"setGlobalConfig":if(!y.a.has(t,"globalConfig"))throw new Error("addConfig requires globalConfig:<object> key");return Object(X.a)(Object(X.a)({},e),{},{globalConfig:t.globalConfig});case"registerLocal":if(!y.a.has(t,"localName"))throw new Error("registerLocal requires localName:<string> key");if(!y.a.has(t,"payload"))throw new Error("registerLocal requires payload:<object> key");var s=y.a.cloneDeep(e.registeredLocals);return s[t.localName]={localName:t.localName,payload:t.payload},Object(X.a)(Object(X.a)({},e),{},{registeredLocals:s});case"registerCmd":if(!y.a.has(t,"cmdName"))throw new Error("registerLocal requires localName:<string> key");if(!y.a.has(t,"payload"))throw new Error("registerLocal requires payload:<object> key");var l=y.a.cloneDeep(e.registeredCmds);return l[t.localName]={cmdName:t.cmdName,payload:t.payload},Object(X.a)(Object(X.a)({},e),{},{registeredCmds:l});case"tractPactTx":if(!y.a.has(t,"newTx"))throw new Error("trackPactTx requires newTx:'' key");var i=y.a.concat(y.a.cloneDeep(e.pastPactTxs),t.newTx);return Object(X.a)(Object(X.a)({},e),{},{pastPactTxs:i});default:throw new Error(JSON.stringify(t))}},nt=function(e){var t=e.globalConfig,a=e.contractConfigs,o=e.children,c=Object(h.a)("pactWallet5")({}),s=Object(x.a)(c,2),l=s[0],i=s[1],u=Object(n.useReducer)(at,y.a.size(l)?y.a.cloneDeep(l):et),m=Object(x.a)(u,2),d=m[0],p=m[1];return Object(n.useEffect)((function(){y.a.size(d)&&!y.a.isEqual(et,d)&&(console.debug("PactWallet.useEffect[persistedPactWallet,walletProvider,setPersistedPactWallet]",l," =to=> ",d),i(d))}),[l,d,i]),Object(n.useEffect)((function(){console.debug("PactWallet.useEffect[] fired, contratConfigs added: ",y.a.keys(a)),y.a.mapKeys(a,(function(e){return p({type:"setContractConfig",configName:e,config:a[e]})})),p({type:"setGlobalConfig",globalConfig:t})}),[]),r.a.createElement(tt.Provider,{value:{wallet:d,walletDispatch:p}},o)},rt=function(){return Object(n.useContext)(tt).wallet},ot={primary:"Wallet",subList:[{primary:"Config",to:{app:"wallet",ui:"config"}}]},ct=function(e){var t=e.appRoute,a=e.setAppRoute;return"config"===t.ui?r.a.createElement(v.a,null,r.a.createElement(O.a,{title:"Wallet Configuration"}),r.a.createElement(j.a,null,r.a.createElement(pt,null),r.a.createElement(mt,null),r.a.createElement(dt,null))):r.a.createElement(r.a.Fragment,null,a({app:"wallet",ui:"config"}))},st=function(e){return y.a.concat([le.a.lang.mkCap("Gas Cap","Gas Cap","coin.GAS",[])],e)},lt=function(){var e=Object(g.a)(b.a.mark((function e(t,a,n,r,o,c,s,l){var i,u,m,d,p;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={pactCode:"(+ 1 1)",caps:[le.a.lang.mkCap("Gas Cap","Gas Cap","coin.GAS",[])],gasLimit:1e3,gasPrice:s,chainId:"0",signingPubKey:o,networkId:c,ttl:28800,sender:r,envData:{foo:"bar"}},console.log("toSign",i),e.next=5,le.a.wallet.sign(i);case 5:if(u=e.sent,console.log("signed",u),"object"!==typeof u||!("hash"in u)){e.next=11;break}t(u),e.next=12;break;case 11:throw new Error("Signing API Failed");case 12:return e.next=14,le.a.wallet.sendSigned(u,l);case 14:m=e.sent,console.log("txReqKeys",m),a("pending"),e.prev=17,d=8,p={};case 20:if(!(d>0)){e.next=29;break}return e.next=23,new Promise((function(e){return setTimeout(e,15e3)}));case 23:return e.next=25,le.a.fetch.poll(m,l);case 25:p=e.sent;try{p[u.hash].result.status?d=-1:d-=1}catch(f){d-=1}e.next=20;break;case 29:n(p),"success"===p[u.hash].result.status?(console.log("tx status set to success"),a("success")):0===d?(console.log("tx status set to timeout"),a("timeout")):(console.log("tx status set to failure"),a("failure")),e.next=39;break;case 34:e.prev=34,e.t0=e.catch(17),console.log("tx api failure",e.t0),n(e.t0),a("failure");case 39:e.next=46;break;case 41:e.prev=41,e.t1=e.catch(0),n(e.t1.toString()),console.log("tx status set to validation error",e.t1),a("validation-error");case 46:case"end":return e.stop()}}),e,null,[[0,41],[17,34]])})));return function(t,a,n,r,o,c,s,l){return e.apply(this,arguments)}}(),it=Object(oe.a)(),ut=function(e){var t=e.label,a=e.getVal,n=e.setVal,o=e.allOpts,c=Xe(),s=o?y.a.cloneDeep(o):[""];return r.a.createElement(ce.a,{className:c.formControl,value:a,onChange:function(e,t){"string"===typeof t?n(t):t&&t.inputValue?n(t.inputValue):n(t)},filterOptions:function(e,t){var a=it(e,t);return""!==t.inputValue&&a.push({inputValue:t.inputValue,title:'Add "'.concat(t.inputValue,'"')}),a},selectOnFocus:!0,fullWidth:!0,clearOnBlur:!0,handleHomeEndKeys:!0,defaultValue:a||null,options:s,getOptionLabel:function(e){return e.inputValue?e.inputValue:e},renderOption:function(e){return e.title?e.title:e},freeSolo:!0,renderInput:function(e){return r.a.createElement(ee.a,Object.assign({},e,{label:t,variant:"outlined",fullWidth:!0,className:c.formControl}))}})},mt=function(){var e=rt().current;return r.a.createElement(E.a,{style:{paddingTop:"2em"}},r.a.createElement(te.a,{component:"h2"},"Active Wallet"),r.a.createElement(He,{json:e,keyFormatter:xe.keyFormatter}))},dt=function(){var e=rt().otherWallets;return r.a.createElement(E.a,{style:{paddingTop:"2em"}},r.a.createElement(te.a,{component:"h2"},"All Saved PactWallets"),r.a.createElement(He,{json:e,keyFormatter:xe.keyFormatter}))},pt=function(){var e=Object(n.useContext)(tt),t=e.wallet,a=e.walletDispatch,o=Object(n.useState)(!1),c=Object(x.a)(o,2),s=c[0],l=c[1],i=Object(n.useState)(""),u=Object(x.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)(""),f=Object(x.a)(p,2),b=f[0],g=f[1],h=Object(n.useState)("testnet04"),S=Object(x.a)(h,2),v=S[0],O=S[1],j=Object(n.useState)(""),T=Object(x.a)(j,2),k=T[0],C=T[1],A=Xe(),I=Object(n.useState)(""),w=Object(x.a)(I,2),N=w[0],P=w[1],R=Object(n.useState)({}),F=Object(x.a)(R,2),D=F[0],L=F[1],K=Object(n.useState)({}),W=Object(x.a)(K,2),G=W[0],z=W[1];Object(n.useEffect)((function(){console.debug("WalletConfig useEffect on load fired with",t),y.a.size(t.current)&&(t.current.walletName&&d(t.current.walletName),t.current.signingKey&&g(t.current.signingKey),t.current.gasPrice&&C(t.current.gasPrice),t.current.networkId&&O(t.current.networkId))}),[]),Object(n.useEffect)((function(){if(y.a.size(t.otherWallets[m])){var e=t.otherWallets[m];console.debug("PactWalletConfig updating entries",e),e.walletName&&e.signingKey&&e.gasPrice&&e.networkId&&(C(e.gasPrice),g(e.signingKey),O(e.networkId),d(e.walletName))}}),[m]),Object(n.useEffect)((function(){return l(!1)}),[m,b,k,v]);var U=[{type:"textFieldSingle",label:"Gas Price",className:A.formControl,value:k,onChange:C}];return r.a.createElement(E.a,{style:{paddingTop:"1em"}},r.a.createElement(te.a,{component:"h2"},"Add or Update Wallet"),r.a.createElement("form",{autoComplete:"off",onSubmit:function(e){return function(e){if(e.preventDefault(),s){var n="testnet04"===v?"https://api.testnet.chainweb.com/chainweb/0.0/".concat(v,"/chain/0/pact"):"https://api.chainweb.com/chainweb/0.0/".concat(v,"/chain/0/pact");lt(L,P,z,b,b,v,Number.parseFloat(k),n)}else{var r={walletName:m,signingKey:b,gasPrice:k,networkId:v};a({type:"updateWallet",newWallet:r}),l(!0),console.debug("WalletConfig set. locale: ",r," while context is: ",t.current)}}(e)}},r.a.createElement(ut,{label:"Wallet Name",getVal:m,setVal:d,allOpts:y.a.keys(t.otherWallets)}),r.a.createElement(ut,{label:"Network ID",getVal:v,setVal:O,allOpts:y.a.uniq(y.a.concat(y.a.map(t.otherWallets,"networkId"),"mainnet01","testnet04"))}),U.map((function(e){return r.a.createElement(Qe,{inputField:e})})),r.a.createElement(ut,{label:"Select Signing Key",getVal:b,setVal:g,allOpts:t.allKeys}),r.a.createElement(ae.a,null,r.a.createElement(M.a,{variant:"outlined",color:"default",type:"submit"},s?"Test Current Settings":"Save New Settings"))),"pending"===N?r.a.createElement(ne.a,null):null,r.a.createElement(Ze,{tx:D,txRes:G,txStatus:N,setTxStatus:P}))},ft=Object(G.a)((function(e){return{root:{display:"flex"},drawer:Object(T.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(T.a)({},e.breakpoints.up("sm"),{zIndex:e.zIndex.drawer+1}),menuButton:Object(T.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)},nested:{paddingLeft:e.spacing(4)},logo:{height:"60px"},logoDiv:{flexGrow:1}}})),bt=function e(t){var a=t.icon,n=t.primary,o=t.to,c=t.subList,s=c&&Array.isArray(c),l=r.a.useState(!0),u=Object(x.a)(l,2),m=u[0],d=u[1],p=ft(),f=Object(i.e)({app:Object(i.f)(i.c,"init"),ui:Object(i.f)(i.c,"guardians")}),b=Object(x.a)(f,2)[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(k.a,{button:!0,onClick:function(){return o?b(o):d(!m)}},a?r.a.createElement(C.a,null,a):null,r.a.createElement(A.a,{primary:n}),s?m?r.a.createElement(B.a,{onClick:function(){return d(!m)}}):r.a.createElement(_.a,{onClick:function(){return d(!m)}}):null)),s?r.a.createElement(I.a,{in:m,timeout:"auto",unmountOnExit:!0},r.a.createElement(w.a,{component:"div",disablePadding:!0,className:p.nested,dense:!0},c.map((function(t){return r.a.createElement(e,{icon:t.icon,primary:t.primary,to:t.to,subList:t.subList})})))):null)},gt=(Object(z.a)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.warning.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(N.a),function(e){var t=e.window,a=e.entriesList,o=Object(n.useContext)(tt),c=o.wallet,s=c.current,l=c.otherWallets,i=o.walletDispatch,u=ft(),m=Object(U.a)(),d=r.a.useState(!1),p=Object(x.a)(d,2),f=p[0],b=p[1],g=r.a.useState(null),h=Object(x.a)(g,2),S=h[0],E=h[1],v=Boolean(S),O=function(e){E(null),"string"===typeof e&&i({type:"updateWallet",newWallet:l[e]})},j=function(){b(!f)},T=r.a.createElement("div",null,r.a.createElement("div",{className:u.toolbar}),a.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,null),null!==e&&r.a.createElement(w.a,null,e.map((function(e){return r.a.createElement(r.a.Fragment,null,e&&r.a.createElement(bt,{icon:e.icon,primary:e.primary,to:e.to,subList:e.subList}))}))))}))),k=void 0!==t?function(){return t().document.body}:void 0;return r.a.createElement("div",{className:u.root},r.a.createElement(R.a,{position:"fixed",className:u.appBar},r.a.createElement(F.a,null,r.a.createElement(D.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:j,className:u.menuButton},r.a.createElement($.a,null)),r.a.createElement("div",{className:u.logoDiv},r.a.createElement("img",{src:Z.a,alt:"logo",className:u.logo})),s.walletName&&r.a.createElement("div",null,r.a.createElement(M.a,{variant:"outlined",color:"secondary",onClick:function(e){E(e.currentTarget)},startIcon:r.a.createElement(J.a,{edge:"end"})},s.walletName),r.a.createElement(L.a,{id:"menu-appbar",anchorEl:S,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:v,onClose:O},y.a.keys(l).map((function(e){return r.a.createElement(N.a,{onClick:function(){return O(e)}},e)})))))),r.a.createElement("nav",{className:u.drawer,"aria-label":"mailbox folders"},r.a.createElement(K.a,{smUp:!0,implementation:"css"},r.a.createElement(W.a,{container:k,variant:"temporary",anchor:"rtl"===m.direction?"right":"left",open:f,onClose:j,classes:{paper:u.drawerPaper},ModalProps:{keepMounted:!0}},T)),r.a.createElement(K.a,{xsDown:!0,implementation:"css"},r.a.createElement(W.a,{classes:{paper:u.drawerPaper},variant:"permanent",open:!0},T))),r.a.createElement("main",{className:u.content},r.a.createElement("div",{className:u.toolbar}),e.children))}),xt=a(197),ht=a(474),St=a(466),yt=["children","value","index"],Et=function(e){var t=e.children,a=e.value,n=e.index,o=Object(xt.a)(e,yt);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},o),a===n&&r.a.createElement(fe.a,{p:3},r.a.createElement(te.a,null,t)))};var vt=Object(G.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper,marginTop:e.spacing(4)}}})),Ot=function(e){var t=e.tabEntries,a=e.tabIdx,n=vt(),o=Object(i.d)(a,Object(i.f)(i.a,0)),c=Object(x.a)(o,2),s=c[0],l=c[1];s>=y.a.size(t)&&l(0);return r.a.createElement("div",{className:n.root},r.a.createElement(R.a,{position:"static",color:"default"},r.a.createElement(ht.a,{value:s,onChange:function(e,t){l(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example"},t.map((function(e,t){return r.a.createElement(St.a,Object.assign({label:e.label},{id:"scrollable-auto-tab-".concat(a=t),"aria-controls":"scrollable-auto-tabpanel-".concat(a)}));var a})))),t.map((function(e,t){return r.a.createElement(Et,{value:s,index:t},e.component)})))},jt=Object(re.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"}}})),Tt=function(){var e=Object(g.a)(b.a.mark((function e(t,a,n,r,o,c,s,l,i){var u,m,d,p,f,g,x,h=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=h.length>9&&void 0!==h[9]?h[9]:{},m=h.length>10&&void 0!==h[10]?h[10]:[],e.prev=2,d={pactCode:i,caps:st(Array.isArray(m)&&m.length?m:le.a.lang.mkCap("Guadian Cap","Authenticates that you're a guardian","".concat(xe.daoAPI.contractAddress,".GUARDIAN"),[l])),gasLimit:xe.daoAPI.meta.gasLimit,chainId:xe.daoAPI.meta.chainId,signingPubKey:o,networkId:c,gasPrice:s,ttl:xe.daoAPI.meta.ttl,sender:o,envData:u},console.log("toSign",d),e.next=7,le.a.wallet.sign(d);case 7:if(p=e.sent,console.log("signed",p),"object"!==typeof p||!("hash"in p)){e.next=13;break}t(p),e.next=14;break;case 13:throw new Error("Signing API Failed");case 14:return e.next=16,le.a.wallet.sendSigned(p,xe.daoAPI.meta.host);case 16:f=e.sent,console.log("txReqKeys",f),a("pending"),e.prev=19,g=8,x={};case 22:if(!(g>0)){e.next=31;break}return e.next=25,new Promise((function(e){return setTimeout(e,15e3)}));case 25:return e.next=27,le.a.fetch.poll(f,xe.daoAPI.meta.host);case 27:x=e.sent;try{x[p.hash].result.status?g=-1:g-=1}catch(b){g-=1}e.next=22;break;case 31:n(x),"success"===x[p.hash].result.status?(console.log("tx status set to success"),a("success"),r()):0===g?(console.log("tx status set to timeout"),a("timeout"),r()):(console.log("tx status set to failure"),a("failure")),e.next=41;break;case 36:e.prev=36,e.t0=e.catch(19),console.log("tx api failure",e.t0),n(e.t0),a("failure");case 41:e.next=48;break;case 43:e.prev=43,e.t1=e.catch(2),n(e.t1),console.log("tx status set to validation error",e.t1),a("validation-error");case 48:case"end":return e.stop()}}),e,null,[[2,43],[19,36]])})));return function(t,a,n,r,o,c,s,l,i){return e.apply(this,arguments)}}(),kt=function(e){return r.a.createElement(_e,{header:["Guardian","Committed KDA","Approved Hash","Approval Date","Voting Guard","Forum Moderation Guard"],keyOrder:["k","committed-kda","approved-hash","approved-date","guard","moderate-guard"],json:e.guardians})},Ct=function(e){var t=e.refresh,a=e.guardians,o=rt().current,c=o.signingKey,s=o.networkId,l=o.gasPrice,i=Object(n.useState)(""),u=Object(x.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)(""),f=Object(x.a)(p,2),b=f[0],g=f[1],h=Object(n.useState)(""),S=Object(x.a)(h,2),y=S[0],E=S[1],v=e.pactTxStatus,O=v.txStatus,j=v.setTxStatus,T=v.tx,k=v.setTx,C=v.txRes,A=v.setTxRes,I=jt(),w=[{type:"select",label:"Select Guardian",className:I.formControl,onChange:d,options:a.map((function(e){return e.k}))},{type:"textFieldSingle",label:"Ambassador Account Name",className:I.formControl,value:b,onChange:g},{type:"textFieldMulti",label:"Ambassador Account Guard",className:I.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:y,onChange:E}];return r.a.createElement($e,{inputFields:w,onSubmit:function(e){e.preventDefault();try{Tt(k,j,A,t,c,s,Number.parseFloat(l),m,"(".concat(xe.daoAPI.contractAddress,'.register-ambassador "').concat(m,'" "').concat(b,"\" (read-keyset 'ks))"),{ks:JSON.parse(y)})}catch(a){console.log("Ambassador Registration Submit Error",typeof a,a,m,b,y),A(a),j("validation-error")}},tx:T,txStatus:O,txRes:C,setTxStatus:j})},At=function(e){var t=rt().current,a=t.signingKey,o=t.networkId,c=t.gasPrice,s=e.refresh,l=Object(n.useState)(""),i=Object(x.a)(l,2),u=i[0],m=i[1],d=Object(n.useState)(""),p=Object(x.a)(d,2),f=p[0],b=p[1],g=e.pactTxStatus,h=g.txStatus,S=g.setTxStatus,y=g.tx,E=g.setTx,v=g.txRes,O=g.setTxRes,j=jt(),T=[{type:"select",label:"Select Guardian",className:j.formControl,onChange:m,options:e.guardians.map((function(e){return e.k}))},{type:"select",label:"Select Ambassador",className:j.formControl,onChange:b,options:e.ambassadors.map((function(e){return e.k}))}];return r.a.createElement($e,{inputFields:T,onSubmit:function(e){e.preventDefault();try{Tt(E,S,O,s,a,o,Number.parseFloat(c),u,"(".concat(xe.daoAPI.contractAddress,'.deactivate-ambassador "').concat(u,'" "').concat(f,'")'))}catch(t){console.log("deactivate-ambassador Submit Error",typeof t,t,u),O(t),S("validation-error")}},tx:y,txStatus:h,txRes:v,setTxStatus:S})},It=function(e){var t=e.refresh,a=rt().current,o=a.signingKey,c=a.networkId,s=a.gasPrice,l=Object(n.useState)(""),i=Object(x.a)(l,2),u=i[0],m=i[1],d=Object(n.useState)(""),p=Object(x.a)(d,2),f=p[0],b=p[1],g=e.pactTxStatus,h=g.txStatus,S=g.setTxStatus,y=g.tx,E=g.setTx,v=g.txRes,O=g.setTxRes,j=jt(),T=[{type:"select",label:"Select Guardian",className:j.formControl,onChange:m,options:e.guardians.map((function(e){return e.k}))},{type:"select",label:"Select Ambassador",className:j.formControl,onChange:b,options:e.ambassadors.map((function(e){return e.k}))}];return r.a.createElement($e,{inputFields:T,onSubmit:function(e){e.preventDefault();try{Tt(E,S,O,t,o,c,Number.parseFloat(s),u,"(".concat(xe.daoAPI.contractAddress,'.reactivate-ambassador "').concat(u,'" "').concat(f,'")'))}catch(a){console.log("reactivate-ambassador Submit Error",typeof a,a,u),O(a),S("validation-error")}},tx:y,txStatus:h,txRes:v,setTxStatus:S})},wt=function(e){var t=e.refresh,a=e.guardians,o=rt().current,c=o.signingKey,s=o.networkId,l=o.gasPrice,i=Object(n.useState)(""),u=Object(x.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)(""),f=Object(x.a)(p,2),b=f[0],g=f[1],h=e.pactTxStatus,S=h.txStatus,y=h.setTxStatus,E=h.tx,v=h.setTx,O=h.txRes,j=h.setTxRes,T=jt(),k=[{type:"select",label:"Select Guardian",className:T.formControl,onChange:d,options:a.map((function(e){return e.k}))},{type:"textFieldMulti",label:"Guardian Voting Guard",className:T.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:b,onChange:g}];return r.a.createElement($e,{inputFields:k,onSubmit:function(e){e.preventDefault();try{Tt(v,y,j,t,c,s,Number.parseFloat(l),m,"(".concat(xe.daoAPI.contractAddress,'.rotate-guardian "').concat(m,"\" (read-keyset 'voteKs))"),{voteKs:JSON.parse(b)})}catch(a){console.log("rotate-guardian Submit Error",typeof a,a,m,b),j(a),y("validation-error")}},tx:E,txStatus:S,txRes:O,setTxStatus:y})},Nt=function(e){var t=e.refresh,a=e.guardians,o=rt().current,c=o.signingKey,s=o.networkId,l=o.gasPrice,i=Object(n.useState)(""),u=Object(x.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)(""),f=Object(x.a)(p,2),b=f[0],g=f[1],h=e.pactTxStatus,S=h.txStatus,y=h.setTxStatus,E=h.tx,v=h.setTx,O=h.txRes,j=h.setTxRes,T=jt(),k=[{type:"select",label:"Select Guardian",className:T.formControl,onChange:d,options:a.map((function(e){return e.k}))},{type:"textFieldSingle",label:"Proposed Upgrade Hash",className:T.formControl,value:b,onChange:g}];return r.a.createElement($e,{inputFields:k,onSubmit:function(e){e.preventDefault();try{Tt(v,y,j,t,c,s,Number.parseFloat(l),m,"(".concat(xe.daoAPI.contractAddress,'.propose-dao-upgrade "').concat(m,'" "').concat(b,'")'))}catch(a){console.log("propose-dao-upgrade Submit Error",typeof a,a,m,b),j(a),y("validation-error")}},tx:E,txStatus:S,txRes:O,setTxStatus:y})},Pt=function(e){var t=e.refresh,a=e.guardians,o=rt().current,c=o.signingKey,s=o.networkId,l=o.gasPrice,i=Object(n.useState)(""),u=Object(x.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)(""),f=Object(x.a)(p,2),b=f[0],g=f[1],h=e.pactTxStatus,S=h.txStatus,y=h.setTxStatus,E=h.tx,v=h.setTx,O=h.txRes,j=h.setTxRes,T=jt(),k=[{type:"select",label:"Select Guardian",className:T.formControl,onChange:d,options:a.map((function(e){return e.k}))},{type:"select",label:"Proposed Upgrade Hash",className:T.formControl,value:g,options:a.map((function(e){return e["approved-hash"]}))}];return r.a.createElement($e,{inputFields:k,onSubmit:function(e){e.preventDefault();try{Tt(v,y,j,t,c,s,Number.parseFloat(l),m,"(".concat(xe.daoAPI.contractAddress,'.guardian-approve-hash "').concat(m,'" "').concat(b,'")'))}catch(a){console.log("guardian-approve-hash Submit Error",typeof a,a,m,b),j(a),y("validation-error")}},tx:E,txStatus:S,txRes:O,setTxStatus:y})},Rt=function(e){var t=e.refresh,a=rt().current,o=a.signingKey,c=a.networkId,s=a.gasPrice,l=Object(n.useState)(""),i=Object(x.a)(l,2),u=i[0],m=i[1],d=Object(n.useState)(""),p=Object(x.a)(d,2),f=p[0],b=p[1],g=e.pactTxStatus,h=g.txStatus,S=g.setTxStatus,y=g.tx,E=g.setTx,v=g.txRes,O=g.setTxRes,j=jt(),T=[{type:"textFieldSingle",label:"Guardian Account Name",className:j.formControl,value:u,onChange:m},{type:"textFieldMulti",label:"Guardian Voting Guard",className:j.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:f,onChange:b}];return r.a.createElement($e,{inputFields:T,onSubmit:function(e){e.preventDefault();try{Tt(E,S,O,t,o,c,Number.parseFloat(s),u,"(".concat(xe.daoAPI.contractAddress,'.register-guardian "').concat(u,"\" (read-keyset 'voteKs))"),{voteKs:JSON.parse(f)},[le.a.lang.mkCap("TRANSFER Cap","Stake the needed amount","coin.TRANSFER",[u,xe.daoAPI.constants.DAO_ACCT_NAME,xe.daoAPI.constants.GUARDIAN_KDA_REQUIRED])])}catch(a){console.log("Guardian Registration Submit Error",typeof a,a,u,f),O(a),S("validation-error")}},tx:y,txStatus:h,txRes:v,setTxStatus:S})},Ft=Object(re.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"}}})),Dt=function(e){return r.a.createElement(_e,{header:["Ambassador","Active","Voted to Freeze","Guard"],keyOrder:["k","active","voted-to-freeze","guard"],json:e.ambassadors})},Mt=function(){var e=Object(g.a)(b.a.mark((function e(t,a,n,r,o,c,s,l,i){var u,m,d,p,f,g,x,h=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=h.length>9&&void 0!==h[9]?h[9]:{},m=h.length>10&&void 0!==h[10]?h[10]:[],e.prev=2,d={pactCode:i,caps:st(Array.isArray(m)&&m.length?m:le.a.lang.mkCap("Ambassador Cap","Authenticates that you're an ambassador","".concat(xe.daoAPI.contractAddress,".AMBASSADOR"),[l])),signingPubKey:o,networkId:c,gasPrice:s,gasLimit:xe.daoAPI.meta.gasLimit,chainId:xe.daoAPI.meta.chainId,ttl:xe.daoAPI.meta.ttl,sender:o,envData:u},console.log("toSign",d),e.next=7,le.a.wallet.sign(d);case 7:return p=e.sent,console.log("signed",p),t(p),e.prev=10,e.next=13,le.a.wallet.sendSigned(p,xe.daoAPI.meta.host);case 13:f=e.sent,console.log("txReqKeys",f),a("pending"),g=8,x={};case 18:if(!(g>0)){e.next=27;break}return e.next=21,new Promise((function(e){return setTimeout(e,15e3)}));case 21:return e.next=23,le.a.fetch.poll(f,xe.daoAPI.meta.host);case 23:x=e.sent;try{x[p.hash].result.status?g=-1:g-=1}catch(b){g-=1}e.next=18;break;case 27:n(x),"success"===x[p.hash].result.status?(console.log("tx status set to success"),a("success"),r()):0===g?(console.log("tx status set to timeout"),a("timeout"),r()):(console.log("tx status set to failure"),a("failure")),e.next=37;break;case 32:e.prev=32,e.t0=e.catch(10),console.log("tx api failure",e.t0,JSON.stringify(e.t0,["message","arguments","type","name"])),n(e.t0),a("failure");case 37:e.next=43;break;case 39:e.prev=39,e.t1=e.catch(2),console.log("tx status set to validation error",e.t1),a("validation-error");case 43:case"end":return e.stop()}}),e,null,[[2,39],[10,32]])})));return function(t,a,n,r,o,c,s,l,i){return e.apply(this,arguments)}}(),Lt=function(e){var t=e.refresh,a=e.ambassadors,o=rt().current,c=o.signingKey,s=o.networkId,l=o.gasPrice,i=Object(n.useState)(""),u=Object(x.a)(i,2),m=u[0],d=u[1],p=e.pactTxStatus,f=p.txStatus,b=p.setTxStatus,g=p.tx,h=p.setTx,S=p.txRes,y=p.setTxRes,E=[{type:"select",label:"Select Ambassador",className:Ft().formControl,onChange:d,options:a.map((function(e){return e.k}))}];return r.a.createElement($e,{inputFields:E,onSubmit:function(e){e.preventDefault();try{Mt(h,b,y,t,c,s,Number.parseFloat(l),m,"(".concat(xe.daoAPI.contractAddress,'.vote-to-freeze "').concat(m,'")'))}catch(a){console.log("vote to freeze Submit Error",typeof a,a,m),y(a),b("validation-error")}},tx:g,txStatus:f,txRes:S,setTxStatus:b})},Kt=function(e){var t=e.refresh,a=e.ambassadors,o=rt().current,c=o.signingKey,s=o.networkId,l=o.gasPrice,i=Object(n.useState)(""),u=Object(x.a)(i,2),m=u[0],d=u[1],p=e.pactTxStatus,f=p.txStatus,b=p.setTxStatus,g=p.tx,h=p.setTx,S=p.txRes,y=p.setTxRes,E=[{type:"select",label:"Select Ambassador",className:Ft().formControl,onChange:d,options:a.map((function(e){return e.k}))}];return r.a.createElement($e,{inputFields:E,onSubmit:function(e){e.preventDefault();try{Mt(h,b,y,t,c,s,Number.parseFloat(l),m,"(".concat(xe.daoAPI.contractAddress,'.freeze "').concat(m,'")'))}catch(a){console.log("freeze Submit Error",typeof a,a,m),y(a),b("validation-error")}},tx:g,txStatus:f,txRes:S,setTxStatus:b})},Wt=function(e){var t=e.refresh,a=e.ambassadors,o=rt().current,c=o.signingKey,s=o.networkId,l=o.gasPrice,i=Object(n.useState)(""),u=Object(x.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)(""),f=Object(x.a)(p,2),b=f[0],g=f[1],h=e.pactTxStatus,S=h.txStatus,y=h.setTxStatus,E=h.tx,v=h.setTx,O=h.txRes,j=h.setTxRes,T=Ft(),k=[{type:"select",label:"Select Ambassador",className:T.formControl,onChange:d,options:a.map((function(e){return e.k}))},{type:"textFieldMulti",label:"Guardian Account Guard",className:T.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:b,onChange:g}];return r.a.createElement($e,{inputFields:k,onSubmit:function(e){e.preventDefault();try{Mt(v,y,j,t,c,s,Number.parseFloat(l),m,"(".concat(xe.daoAPI.contractAddress,'.rotate-ambassador "').concat(m,"\" (read-keyset 'ks))"),{ks:JSON.parse(b)})}catch(a){console.log("rotate-ambassador Submit Error",typeof a,a,m,b),j(a),y("validation-error")}},tx:E,txStatus:S,txRes:O,setTxStatus:y})},Gt=function(){return r.a.createElement(He,{json:xe.daoAPI,keyFormatter:xe.keyFormatter})},zt=function(){var e=Object(g.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.a.fetch.local({pactCode:"(".concat(xe.daoAPI.contractAddress,".").concat(t,")"),meta:le.a.lang.mkMeta(xe.daoAPI.meta.sender,xe.daoAPI.meta.chainId,xe.daoAPI.meta.gasPrice,xe.daoAPI.meta.gasLimit,xe.daoAPI.meta.creationTime(),xe.daoAPI.meta.ttl)},xe.daoAPI.meta.host);case 2:return a=e.sent,n=a.result.data,console.debug("local query data",n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ut=function(e){return r.a.createElement(He,{json:e.initState,header:["","Status"],keyFormatter:ze})},Vt={primary:"dao.init",subList:[{primary:"Config & State",subList:[{primary:"Config",to:{app:"init",ui:"config"}},{primary:"Init State",to:{app:"init",ui:"state"}}]},{primary:"Ambassadors",to:{app:"init",ui:"ambassadors"}},{primary:"Guardians",to:{app:"init",ui:"guardians"}}]},Jt=function(e){var t=e.appRoute,a=e.setAppRoute,n=e.initState,o=e.guardians,c=e.ambassadors,s=e.pactTxStatus,l=e.refresh,i=l.getAmbassadors,u=l.getGuardians;return"config"===t.ui?r.a.createElement(v.a,null,r.a.createElement(O.a,{title:"Contract and UI Configuration"}),r.a.createElement(j.a,null,r.a.createElement(Gt,null))):"state"===t.ui?r.a.createElement(v.a,null,r.a.createElement(O.a,{title:"Contract State"}),r.a.createElement(j.a,null,r.a.createElement(Ut,{initState:n}))):"guardians"===t.ui?r.a.createElement(v.a,null,r.a.createElement(O.a,{title:"Guardians"}),r.a.createElement(j.a,null,r.a.createElement(kt,{guardians:o}),r.a.createElement(Ot,{tabIdx:"grdTab",tabEntries:[{label:"Register Guardian",component:r.a.createElement(Rt,{pactTxStatus:s,refresh:function(){return u()}})},{label:"Rotate Guardian",component:r.a.createElement(wt,{guardians:o,ambassadors:c,pactTxStatus:s,refresh:function(){return i()}})},{label:"Propose DAO Upgrade",component:r.a.createElement(Nt,{guardians:o,pactTxStatus:s,refresh:function(){return i()}})},{label:"Approve DAO Upgrade",component:r.a.createElement(Pt,{guardians:o,pactTxStatus:s,refresh:function(){return i()}})}]}))):"ambassadors"===t.ui?r.a.createElement(v.a,null,r.a.createElement(O.a,{title:"Ambassadors"}),r.a.createElement(j.a,null,r.a.createElement(Dt,{ambassadors:c}),r.a.createElement(Ot,{tabIdx:"ambTab",tabEntries:[{label:"Register Ambassador",component:r.a.createElement(Ct,{guardians:o,pactTxStatus:s,refresh:function(){return i()}})},{label:"Deactivate Ambassador",component:r.a.createElement(At,{guardians:o,ambassadors:c,pactTxStatus:s,refresh:function(){return i()}})},{label:"Reactivate Ambassador",component:r.a.createElement(It,{guardians:o,ambassadors:c,pactTxStatus:s,refresh:function(){return i()}})},{label:"Rotate Ambassador",component:r.a.createElement(Wt,{ambassadors:c,pactTxStatus:s,refresh:function(){return i()}})},{label:"Vote to Freeze",component:r.a.createElement(Lt,{ambassadors:c,pactTxStatus:s,refresh:function(){return i()}})},{label:"Freeze",component:r.a.createElement(Kt,{ambassadors:c,pactTxStatus:s,refresh:function(){return i()}})}]}))):r.a.createElement(r.a.Fragment,null,a({app:"wallet",ui:"config"}))},qt=function(){var e=Object(g.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.a.fetch.local({pactCode:"(".concat(xe.forumAPI.contractAddress,".").concat(t,")"),meta:le.a.lang.mkMeta(xe.forumAPI.meta.sender,xe.forumAPI.meta.chainId,xe.forumAPI.meta.gasPrice,xe.forumAPI.meta.gasLimit,xe.forumAPI.meta.creationTime(),xe.forumAPI.meta.ttl)},xe.forumAPI.meta.host);case 2:return a=e.sent,n=a.result.data,console.debug("local query data: (".concat(xe.forumAPI.contractAddress,".").concat(t,")"),a),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bt=function(e){return r.a.createElement(He,{json:e.forumState,header:["","Status"],keyFormatter:ze})},Ht=function(){return r.a.createElement(He,{json:xe.forumAPI,keyFormatter:xe.keyFormatter})},_t=Object(re.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"}}})),Qt=function(){var e=Object(g.a)(b.a.mark((function e(t,a,n,r,o,c,s,l){var i,u,m,d,p,f,g,x=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=x.length>8&&void 0!==x[8]?x[8]:{},u=x.length>9&&void 0!==x[9]?x[9]:[],e.prev=2,m={pactCode:l,caps:st(Array.isArray(u)&&u.length?u:le.a.lang.mkCap("Mjonlir Cap","Authenticates that you're Mjonir","".concat(xe.forumAPI.contractAddress,".MJOLNIR"))),signingPubKey:o,networkId:c,gasPrice:s,gasLimit:xe.forumAPI.meta.gasLimit,chainId:xe.forumAPI.meta.chainId,sender:o,ttl:xe.forumAPI.meta.ttl,envData:i},console.log("toSign",m),e.next=7,le.a.wallet.sign(m);case 7:if(d=e.sent,console.log("signed",d),"object"!==typeof d||!("hash"in d)){e.next=13;break}t(d),e.next=14;break;case 13:throw new Error("Signing API Failed");case 14:return e.prev=14,e.next=17,le.a.wallet.sendSigned(d,xe.forumAPI.meta.host);case 17:p=e.sent,console.log("txReqKeys",p),a("pending"),f=8,g={};case 22:if(!(f>0)){e.next=31;break}return e.next=25,new Promise((function(e){return setTimeout(e,15e3)}));case 25:return e.next=27,le.a.fetch.poll(p,xe.forumAPI.meta.host);case 27:g=e.sent;try{g[d.hash].result.status?f=-1:f-=1}catch(b){f-=1}e.next=22;break;case 31:n(g),"success"===g[d.hash].result.status?(console.log("tx status set to success"),a("success"),r()):0===f?(console.log("tx status set to timeout"),a("timeout"),r()):(console.log("tx status set to failure"),a("failure")),e.next=41;break;case 36:e.prev=36,e.t0=e.catch(14),console.log("tx api failure",e.t0),n(e.t0),a("failure");case 41:e.next=47;break;case 43:e.prev=43,e.t1=e.catch(2),console.log("tx status set to validation error",e.t1),a("validation-error");case 47:case"end":return e.stop()}}),e,null,[[2,43],[14,36]])})));return function(t,a,n,r,o,c,s,l){return e.apply(this,arguments)}}(),$t=function(e){var t=e.refresh,a=rt().current,o=a.signingKey,c=a.networkId,s=a.gasPrice,l=Object(n.useState)(""),i=Object(x.a)(l,2),u=i[0],m=i[1],d=e.pactTxStatus,p=d.txStatus,f=d.setTxStatus,b=d.tx,g=d.setTx,h=d.txRes,S=d.setTxRes,y=[{type:"textFieldMulti",label:"New Mjolnir Guard",className:_t().formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:u,onChange:m}];return r.a.createElement($e,{inputFields:y,onSubmit:function(e){e.preventDefault(),console.log(xe.forumAPI);try{Qt(g,f,S,t,o,c,Number.parseFloat(s),"(".concat(xe.forumAPI.contractAddress,".rotate-mjolnir (read-keyset 'ks))"),{ks:JSON.parse(u)})}catch(a){console.log("Mjonir Registration Submit Error",typeof a,a,u),S(a),f("validation-error")}},tx:b,txStatus:p,txRes:h,setTxStatus:f})},Yt=function(e){var t=e.refresh,a=e.moderators,o=rt().current,c=o.signingKey,s=o.networkId,l=o.gasPrice,i=Object(n.useState)(""),u=Object(x.a)(i,2),m=u[0],d=u[1],p=e.pactTxStatus,f=p.txStatus,b=p.setTxStatus,g=p.tx,h=p.setTx,S=p.txRes,y=p.setTxRes,E=[{type:"select",label:"Select Moderator",className:_t().formControl,onChange:d,options:a.map((function(e){return e.name}))}];return r.a.createElement($e,{inputFields:E,onSubmit:function(e){e.preventDefault();try{Qt(h,b,y,t,c,s,Number.parseFloat(l),"(".concat(xe.forumAPI.contractAddress,'.disable-moderator "').concat(m,'")'))}catch(a){console.log("disable-moderator Submit Error",typeof a,a,m),y(a),b("validation-error")}},tx:g,txStatus:f,txRes:S,setTxStatus:b})},Zt=function(e){var t=e.refresh,a=e.moderators,o=rt().current,c=o.signingKey,s=o.networkId,l=o.gasPrice,i=Object(n.useState)(""),u=Object(x.a)(i,2),m=u[0],d=u[1],p=e.pactTxStatus,f=p.txStatus,b=p.setTxStatus,g=p.tx,h=p.setTx,S=p.txRes,y=p.setTxRes,E=[{type:"select",label:"Select Moderator",className:_t().formControl,onChange:d,options:a.map((function(e){return e.name}))}];return r.a.createElement($e,{inputFields:E,onSubmit:function(e){e.preventDefault();try{Qt(h,b,y,t,c,s,Number.parseFloat(l),"(".concat(xe.forumAPI.contractAddress,'.enable-moderator "').concat(m,'")'))}catch(a){console.log("disable-moderator Submit Error",typeof a,a,m),y(a),b("validation-error")}},tx:g,txStatus:f,txRes:S,setTxStatus:b})},Xt=function(e){var t=e.refresh,a=e.moderators,o=e.members,c=rt().current,s=c.signingKey,l=c.networkId,i=c.gasPrice,u=Object(n.useState)(""),m=Object(x.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)({}),b=Object(x.a)(f,2),g=b[0],h=b[1],S=Object(n.useState)(!1),y=Object(x.a)(S,2),E=y[0],v=y[1],O=e.pactTxStatus,j=O.txStatus,T=O.setTxStatus,k=O.tx,C=O.setTx,A=O.txRes,I=O.setTxRes,w=_t(),N=[{type:"select",label:"Select User",className:w.formControl,onChange:p,options:a.map((function(e){return e.name})).concat(o.map((function(e){return e.name})))},{type:"textFieldMulti",label:"New Guard",className:w.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:g,onChange:h},{type:"checkbox",label:"Moderator",className:w.formControl,value:E,onChange:v}];return r.a.createElement($e,{inputFields:N,onSubmit:function(e){e.preventDefault();try{Qt(C,T,I,t,s,l,Number.parseFloat(i),"(".concat(xe.forumAPI.contractAddress,'.mjolnir-write-member "').concat(d,"\" (read-keyset 'ks) ").concat(E,")"),{ks:JSON.parse(g)})}catch(a){console.log("mjolnir-write-member Submit Error",typeof a,a,d,g,E),I(a),T("validation-error")}},tx:k,txStatus:j,txRes:A,setTxStatus:T})},ea=function(e){var t=e.members,a=e.moderators,n=e.tabIdx,o=e.pactTxStatus,c=e.refresh,s=c.getForumState,l=c.getMembers;return r.a.createElement(Ot,{tabIdx:n,tabEntries:[{label:"Rotate Mjolnir Guard",component:r.a.createElement($t,{pactTxStatus:o,refresh:function(){return s()}})},{label:"Enable Moderator",component:r.a.createElement(Zt,{pactTxStatus:o,moderators:a,refresh:function(){return l()}})},{label:"Disable Moderator",component:r.a.createElement(Yt,{pactTxStatus:o,moderators:a,refresh:function(){return l()}})},{label:"Mjolnir Write Member",component:r.a.createElement(Xt,{pactTxStatus:o,moderators:a,members:t,refresh:function(){return l()}})}]})},ta=Object(re.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"}}})),aa=function(e){return r.a.createElement(_e,{header:["Name","Disabled","Guard"],keyOrder:["name","disabled","guard"],json:e.members})},na=function(e){return r.a.createElement(_e,{header:["Name","Disabled","Guard"],keyOrder:["name","disabled","guard"],json:e.moderators})},ra=function(){var e=Object(g.a)(b.a.mark((function e(t,a,n,r,o,c,s,l,i){var u,m,d,p,f,g,x,h,S=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=S.length>9&&void 0!==S[9]?S[9]:{},m=S.length>10&&void 0!==S[10]?S[10]:"member",d=S.length>11&&void 0!==S[11]?S[11]:[],e.prev=3,p={pactCode:i,caps:st(Array.isArray(d)&&d.length?d:"moderator"===m?le.a.lang.mkCap("MODERATOR Cap","Authenticates that you're a MODERATOR","".concat(xe.forumAPI.contractAddress,".MODERATOR"),[l]):"member"===m?le.a.lang.mkCap("MEMBER Cap","Authenticates that you're a MEMBER","".concat(xe.forumAPI.contractAddress,".MEMBER"),[l]):Error('sendForumCmd(role=["member"|"moderator"]), got role='.concat(m))),signingPubKey:o,networkId:c,gasPrice:s,gasLimit:xe.forumAPI.meta.gasLimit,chainId:xe.forumAPI.meta.chainId,ttl:xe.forumAPI.meta.ttl,sender:o,envData:u},console.log("toSign",p),e.next=8,le.a.wallet.sign(p);case 8:if(f=e.sent,console.log("signed",f),"object"!==typeof f||!("hash"in f)){e.next=14;break}t(f),e.next=15;break;case 14:throw new Error("Signing API Failed");case 15:return e.prev=15,e.next=18,le.a.wallet.sendSigned(f,xe.forumAPI.meta.host);case 18:g=e.sent,console.log("txReqKeys",g),a("pending"),x=8,h={};case 23:if(!(x>0)){e.next=32;break}return e.next=26,new Promise((function(e){return setTimeout(e,15e3)}));case 26:return e.next=28,le.a.fetch.poll(g,xe.forumAPI.meta.host);case 28:h=e.sent;try{h[f.hash].result.status?x=-1:x-=1}catch(b){x-=1}e.next=23;break;case 32:n(h),"success"===h[f.hash].result.status?(console.log("tx status set to success"),a("success"),r()):0===x?(console.log("tx status set to timeout"),a("timeout"),r()):(console.log("tx status set to failure"),a("failure")),e.next=42;break;case 37:e.prev=37,e.t0=e.catch(15),console.log("tx api failure",e.t0),n(e.t0),a("failure");case 42:e.next=48;break;case 44:e.prev=44,e.t1=e.catch(3),console.log("tx status set to validation error",e.t1),a("validation-error");case 48:case"end":return e.stop()}}),e,null,[[3,44],[15,37]])})));return function(t,a,n,r,o,c,s,l,i){return e.apply(this,arguments)}}(),oa=function(e){var t=e.refresh,a=e.guardians,o=rt().current,c=o.signingKey,s=o.networkId,l=o.gasPrice,i=Object(n.useState)(""),u=Object(x.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)({}),f=Object(x.a)(p,2),b=f[0],g=f[1],h=e.pactTxStatus,S=h.txStatus,y=h.setTxStatus,E=h.tx,v=h.setTx,O=h.txRes,j=h.setTxRes,T=ta(),k=[{type:"select",label:"Select your Guardian Account",className:T.formControl,onChange:d,options:a.map((function(e){return e.k}))},{type:"textFieldMulti",label:"Moderator Keyset",className:T.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:b,onChange:g}];return r.a.createElement($e,{inputFields:k,onSubmit:function(e){e.preventDefault();try{ra(v,y,j,t,c,s,Number.parseFloat(l),m,"(".concat(xe.forumAPI.contractAddress,'.become-moderator "').concat(m,"\" (read-keyset 'ks))"),{ks:JSON.parse(b)},"moderator",[le.a.lang.mkCap("GUARDIAN Cap","Authenticates that you're a GUARDIAN","".concat(xe.daoAPI.contractAddress,".GUARDIAN"),[m])])}catch(a){console.log("mjolnir-write-member Submit Error",typeof a,a,m,b),j(a),y("validation-error")}},tx:E,txStatus:S,txRes:O,setTxStatus:y})},ca=function(e){var t=e.refresh,a=e.ambassadors,o=rt().current,c=o.signingKey,s=o.networkId,l=o.gasPrice,i=Object(n.useState)(""),u=Object(x.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)({}),f=Object(x.a)(p,2),b=f[0],g=f[1],h=e.pactTxStatus,S=h.txStatus,y=h.setTxStatus,E=h.tx,v=h.setTx,O=h.txRes,j=h.setTxRes,T=ta(),k=[{type:"select",label:"Select your Ambassador Account",className:T.formControl,onChange:d,options:a.map((function(e){return e.k}))},{type:"textFieldMulti",label:"Member Keyset",className:T.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:b,onChange:g}];return r.a.createElement($e,{inputFields:k,onSubmit:function(e){e.preventDefault();try{ra(v,y,j,t,c,s,Number.parseFloat(l),m,"(".concat(xe.forumAPI.contractAddress,'.become-member "').concat(m,"\" (read-keyset 'ks))"),{ks:JSON.parse(b)},"member",[le.a.lang.mkCap("AMBASSADOR Cap","Authenticates that you're a AMBASSADOR","".concat(xe.daoAPI.contractAddress,".AMBASSADOR"),[m])])}catch(a){console.log("mjolnir-write-member Submit Error",typeof a,a,m,b),j(a),y("validation-error")}},tx:E,txStatus:S,txRes:O,setTxStatus:y})},sa=function(e){var t=e.refresh,a=e.moderators,o=e.members,c=rt().current,s=c.signingKey,l=c.networkId,i=c.gasPrice,u=Object(n.useState)(""),m=Object(x.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(""),b=Object(x.a)(f,2),g=b[0],h=b[1],S=e.pactTxStatus,y=S.txStatus,E=S.setTxStatus,v=S.tx,O=S.setTx,j=S.txRes,T=S.setTxRes,k=ta(),C=[{type:"select",label:"Select your Moderator Account",className:k.formControl,onChange:p,options:a.map((function(e){return e.name}))},{type:"select",label:"Select Member Account",className:k.formControl,onChange:h,options:o.map((function(e){return e.name}))}];return r.a.createElement($e,{inputFields:C,onSubmit:function(e){e.preventDefault();try{ra(O,E,T,t,s,l,Number.parseFloat(i),d,"(".concat(xe.forumAPI.contractAddress,'.disable-member "').concat(d,'" "').concat(g,'")'),{},"moderator")}catch(a){console.log("disable-member Submit Error",typeof a,a,d,g),T(a),E("validation-error")}},tx:v,txStatus:y,txRes:j,setTxStatus:E})},la=function(e){var t=e.refresh,a=e.moderators,o=e.members,c=rt().current,s=c.signingKey,l=c.networkId,i=c.gasPrice,u=Object(n.useState)(""),m=Object(x.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(""),b=Object(x.a)(f,2),g=b[0],h=b[1],S=e.pactTxStatus,y=S.txStatus,E=S.setTxStatus,v=S.tx,O=S.setTx,j=S.txRes,T=S.setTxRes,k=ta(),C=[{type:"select",label:"Select your Moderator Account",className:k.formControl,onChange:p,options:a.map((function(e){return e.name}))},{type:"select",label:"Select Member Account",className:k.formControl,onChange:h,options:o.map((function(e){return e.name}))}];return r.a.createElement($e,{inputFields:C,onSubmit:function(e){e.preventDefault();try{ra(O,E,T,t,s,l,Number.parseFloat(i),d,"(".concat(xe.forumAPI.contractAddress,'.enable-member "').concat(d,'" "').concat(g,'")'),{},"moderator")}catch(a){console.log("enable-member Submit Error",typeof a,a,d,g),T(a),E("validation-error")}},tx:v,txStatus:y,txRes:j,setTxStatus:E})},ia=function(e){var t=e.refresh,a=e.moderators,o=rt().current,c=o.signingKey,s=o.networkId,l=o.gasPrice,i=Object(n.useState)(""),u=Object(x.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)({}),f=Object(x.a)(p,2),b=f[0],g=f[1],h=e.pactTxStatus,S=h.txStatus,y=h.setTxStatus,E=h.tx,v=h.setTx,O=h.txRes,j=h.setTxRes,T=ta(),k=[{type:"select",label:"Select your Moderator Account",className:T.formControl,onChange:d,options:a.map((function(e){return e.name}))},{type:"textFieldMulti",label:"New Keyset",className:T.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:b,onChange:g}];return r.a.createElement($e,{inputFields:k,onSubmit:function(e){e.preventDefault();try{ra(v,y,j,t,c,s,Number.parseFloat(l),m,"(".concat(xe.forumAPI.contractAddress,'.rotate-moderator "').concat(m,"\" (read-keyset 'ks))"),{ks:JSON.parse(b)},"moderator")}catch(a){console.log("rotate-moderator Submit Error",typeof a,a,m,b),j(a),y("validation-error")}},tx:E,txStatus:S,txRes:O,setTxStatus:y})},ua=function(e){var t=e.refresh,a=e.members,o=rt().current,c=o.signingKey,s=o.networkId,l=o.gasPrice,i=Object(n.useState)(""),u=Object(x.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)({}),f=Object(x.a)(p,2),b=f[0],g=f[1],h=e.pactTxStatus,S=h.txStatus,y=h.setTxStatus,E=h.tx,v=h.setTx,O=h.txRes,j=h.setTxRes,T=ta(),k=[{type:"select",label:"Select your Member Account",className:T.formControl,onChange:d,options:a.map((function(e){return e.name}))},{type:"textFieldMulti",label:"New Keyset",className:T.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:b,onChange:g}];return r.a.createElement($e,{inputFields:k,onSubmit:function(e){e.preventDefault();try{ra(v,y,j,t,c,s,Number.parseFloat(l),m,"(".concat(xe.forumAPI.contractAddress,'.rotate-member "').concat(m,"\" (read-keyset 'ks))"),{ks:JSON.parse(b)},"member")}catch(a){console.log("rotate-member Submit Error",typeof a,a,m,b),j(a),y("validation-error")}},tx:E,txStatus:S,txRes:O,setTxStatus:y})},ma=function(e){var t=e.refresh,a=e.moderators,o=e.topics,c=rt().current,s=c.signingKey,l=c.networkId,u=c.gasPrice,m=Object(n.useState)(""),d=Object(x.a)(m,2),p=d[0],f=d[1],b=Object(n.useState)(""),g=Object(x.a)(b,2),h=g[0],S=g[1],E=e.pactTxStatus,v=E.txStatus,O=E.setTxStatus,j=E.tx,T=E.setTx,k=E.txRes,C=E.setTxRes,A=ta(),I=Object(i.e)({topicId:i.c}),w=Object(x.a)(I,1)[0],N=Object(n.useState)(!1),P=Object(x.a)(N,2),R=P[0],F=P[1];Object(n.useEffect)((function(){try{if(!R&&y.a.has(w,["topicId"])){var e=y.a.find(o,(function(e){return e.index===w.topicId}));S(e.index),F(!0)}}catch(t){}}),[o,w,h,R]);var D=[{type:"select",label:"Select your Moderator Account",className:A.formControl,onChange:f,value:p,options:a.map((function(e){return e.name}))},{type:"select",label:"Select Topic Index",className:A.formControl,onChange:S,value:h,options:o.map((function(e){return e.index}))}];return r.a.createElement($e,{inputFields:D,onSubmit:function(e){e.preventDefault();try{ra(T,O,C,t,s,l,Number.parseFloat(u),p,"(".concat(xe.forumAPI.contractAddress,'.delete-topic "').concat(p,'" "').concat(h,'")'),{},"moderator")}catch(a){console.log("delete-topic Submit Error",typeof a,a,p,h),C(a),O("validation-error")}},tx:j,txStatus:v,txRes:k,setTxStatus:O})},da=function(e){var t=e.refresh,a=e.moderators,o=e.topics,c=rt().current,s=c.signingKey,l=c.networkId,u=c.gasPrice,m=Object(n.useState)(""),d=Object(x.a)(m,2),p=d[0],f=d[1],b=Object(n.useState)(""),g=Object(x.a)(b,2),h=g[0],S=g[1],E=e.pactTxStatus,v=E.txStatus,O=E.setTxStatus,j=E.tx,T=E.setTx,k=E.txRes,C=E.setTxRes,A=ta(),I=Object(i.e)({topicId:i.c}),w=Object(x.a)(I,1)[0],N=Object(n.useState)(!1),P=Object(x.a)(N,2),R=P[0],F=P[1];Object(n.useEffect)((function(){try{if(!R&&y.a.has(w,["topicId"])){var e=y.a.find(o,(function(e){return e.index===w.topicId}));S(e.index),F(!0)}}catch(t){}}),[o,w,h,R]);var D=[{type:"select",label:"Select your Moderator Account",className:A.formControl,onChange:f,value:p,options:a.map((function(e){return e.name}))},{type:"select",label:"Select Topic Index",className:A.formControl,onChange:S,value:h,options:o.map((function(e){return e.index}))}];return r.a.createElement($e,{inputFields:D,onSubmit:function(e){e.preventDefault();try{ra(T,O,C,t,s,l,Number.parseFloat(u),p,"(".concat(xe.forumAPI.contractAddress,'.undelete-topic "').concat(p,'" "').concat(h,'")'),{},"moderator")}catch(a){console.log("undelete-topic Submit Error",typeof a,a,p,h),C(a),O("validation-error")}},tx:j,txStatus:v,txRes:k,setTxStatus:O})},pa=function(e){var t=e.refresh,a=e.moderators,o=e.topics,c=rt().current,s=c.signingKey,l=c.networkId,u=c.gasPrice,m=Object(n.useState)(""),d=Object(x.a)(m,2),p=d[0],f=d[1],b=Object(n.useState)(""),g=Object(x.a)(b,2),h=g[0],S=g[1],E=e.pactTxStatus,v=E.txStatus,O=E.setTxStatus,j=E.tx,T=E.setTx,k=E.txRes,C=E.setTxRes,A=ta(),I=Object(i.e)({topicId:i.c}),w=Object(x.a)(I,1)[0],N=Object(n.useState)(!1),P=Object(x.a)(N,2),R=P[0],F=P[1];Object(n.useEffect)((function(){try{if(!R&&y.a.has(w,["topicId"])){var e=y.a.find(o,(function(e){return e.index===w.topicId}));S(e.index),F(!0)}}catch(t){}}),[o,w,h,R]);var D=[{type:"select",label:"Select your Moderator Account",className:A.formControl,onChange:f,value:p,options:a.map((function(e){return e.name}))},{type:"select",label:"Select Topic Index",className:A.formControl,onChange:S,value:h,options:o.map((function(e){return e.index}))}];return r.a.createElement($e,{inputFields:D,onSubmit:function(e){e.preventDefault();try{ra(T,O,C,t,s,l,Number.parseFloat(u),p,"(".concat(xe.forumAPI.contractAddress,'.lock-topic "').concat(p,'" "').concat(h,'")'),{},"moderator")}catch(a){console.log("lock-topic Submit Error",typeof a,a,p,h),C(a),O("validation-error")}},tx:j,txStatus:v,txRes:k,setTxStatus:O})},fa=function(e){var t=e.moderators,a=e.comments,o=e.refresh,c=e.pactTxStatus,s=c.txStatus,l=c.setTxStatus,u=c.tx,m=c.setTx,d=c.txRes,p=c.setTxRes,f=rt().current,b=f.signingKey,g=f.networkId,h=f.gasPrice,S=Object(n.useState)(""),E=Object(x.a)(S,2),v=E[0],O=E[1],j=Object(n.useState)(""),T=Object(x.a)(j,2),k=T[0],C=T[1],A=ta(),I=Object(i.e)({commentId:i.c}),w=Object(x.a)(I,1)[0],N=Object(n.useState)(!1),P=Object(x.a)(N,2),R=P[0],F=P[1];Object(n.useEffect)((function(){try{if(!R&&y.a.has(w,["commentId"])){var e=y.a.find(a,(function(e){return e.index===w.commentId}));C(e.index),F(!0)}}catch(t){}}),[a,w,k,R]);var D=[{type:"select",label:"Select your Moderator Account",className:A.formControl,onChange:O,value:v,options:t.map((function(e){return e.name}))},{type:"select",label:"Select Comment Index",className:A.formControl,onChange:C,value:k,options:a.map((function(e){return e.index}))}];return r.a.createElement($e,{inputFields:D,onSubmit:function(e){e.preventDefault();try{ra(m,l,p,o,b,g,Number.parseFloat(h),v,"(".concat(xe.forumAPI.contractAddress,'.delete-topic-comment "').concat(v,'" "').concat(k,'")'),{},"moderator")}catch(t){console.log("delete-topic-comment Submit Error",typeof t,t,v,k),p(t),l("validation-error")}},tx:u,txStatus:s,txRes:d,setTxStatus:l})},ba=function(e){var t=e.members,a=e.moderators,o=e.topics,c=e.refresh,s=e.pactTxStatus,l=s.txStatus,u=s.setTxStatus,m=s.tx,d=s.setTx,p=s.txRes,f=s.setTxRes,b=rt().current,g=b.signingKey,h=b.networkId,S=b.gasPrice,E=Object(n.useState)(""),v=Object(x.a)(E,2),O=v[0],j=v[1],T=Object(n.useState)(""),k=Object(x.a)(T,2),C=k[0],A=k[1],I=Object(n.useState)(""),w=Object(x.a)(I,2),N=w[0],P=w[1],R=ta(),F=Object(i.e)({topicId:i.c,vote:i.c}),D=Object(x.a)(F,1)[0],M=Object(n.useState)(!1),L=Object(x.a)(M,2),K=L[0],W=L[1];Object(n.useEffect)((function(){try{if(!K&&y.a.has(D,["topicId"])){var e=y.a.find(o,(function(e){return e.index===D.topicId}));P(e.index),A(D.vote||""),W(!0)}}catch(t){}}),[o,D,N,K,C]);var G=[{type:"select",label:"Member Account",className:R.formControl,onChange:j,value:O,options:a.map((function(e){return e.name})).concat(t.map((function(e){return e.name})))},{type:"select",label:"Select Topic Index",className:R.formControl,onChange:P,value:N,options:o.map((function(e){return e.index}))},{type:"select",label:"Select Vote",className:R.formControl,onChange:A,value:C,options:["upvote","remove","downvote"]}];return r.a.createElement($e,{inputFields:G,onSubmit:function(e){e.preventDefault();try{ra(d,u,f,c,g,h,Number.parseFloat(S),O,"(".concat(xe.forumAPI.contractAddress,'.vote-on-topic "').concat(O,'" "').concat(N,'" "').concat(C,'")'),{})}catch(t){console.log("vote-on-topic Submit Error",typeof t,t,O,N,C),f(t),u("validation-error")}},tx:m,txStatus:l,txRes:p,setTxStatus:u})},ga=function(e){var t=e.moderators,a=e.members,o=e.comments,c=e.refresh,s=e.pactTxStatus,l=s.txStatus,u=s.setTxStatus,m=s.tx,d=s.setTx,p=s.txRes,f=s.setTxRes,b=rt().current,g=b.signingKey,h=b.networkId,S=b.gasPrice,E=Object(n.useState)(""),v=Object(x.a)(E,2),O=v[0],j=v[1],T=Object(n.useState)(""),k=Object(x.a)(T,2),C=k[0],A=k[1],I=Object(n.useState)(""),w=Object(x.a)(I,2),N=w[0],P=w[1],R=ta(),F=Object(i.e)({commentId:i.c,vote:i.c}),D=Object(x.a)(F,1)[0],M=Object(n.useState)(!1),L=Object(x.a)(M,2),K=L[0],W=L[1];Object(n.useEffect)((function(){try{if(!K&&y.a.has(D,["commentId"])){var e=y.a.find(o,(function(e){return e.index===D.commentId}));P(e.index),A(D.vote),W(!0)}}catch(t){}}),[o,D,N,C,K]);var G=[{type:"select",label:"Member Account",className:R.formControl,onChange:j,value:O,options:t.map((function(e){return e.name})).concat(a.map((function(e){return e.name})))},{type:"select",label:"Select Comment Index",className:R.formControl,onChange:P,value:N,options:o.map((function(e){return e.index}))},{type:"select",label:"Select Vote",className:R.formControl,onChange:A,value:C,options:["upvote","remove","downvote"]}];return r.a.createElement($e,{inputFields:G,onSubmit:function(e){e.preventDefault();try{ra(d,u,f,c,g,h,Number.parseFloat(S),O,"(".concat(xe.forumAPI.contractAddress,'.vote-on-comment "').concat(O,'" "').concat(N,'" "').concat(C,'")'),{})}catch(t){console.log("vote-on-comment Submit Error",typeof t,t,O,N,C),f(t),u("validation-error")}},tx:m,txStatus:l,txRes:p,setTxStatus:u})},xa=function(e){var t=e.moderators,a=e.comments,o=e.refresh,c=e.pactTxStatus,s=c.txStatus,l=c.setTxStatus,u=c.tx,m=c.setTx,d=c.txRes,p=c.setTxRes,f=rt().current,b=f.signingKey,g=f.networkId,h=f.gasPrice,S=Object(n.useState)(""),E=Object(x.a)(S,2),v=E[0],O=E[1],j=Object(n.useState)(""),T=Object(x.a)(j,2),k=T[0],C=T[1],A=ta(),I=Object(i.e)({commentId:i.c}),w=Object(x.a)(I,1)[0],N=Object(n.useState)(!1),P=Object(x.a)(N,2),R=P[0],F=P[1];Object(n.useEffect)((function(){try{if(!R&&y.a.has(w,["commentId"])){var e=y.a.find(a,(function(e){return e.index===w.commentId}));C(e.index),F(!0)}}catch(t){}}),[a,w,k,R]);var D=[{type:"select",label:"Select your Moderator Account",className:A.formControl,onChange:O,value:v,options:t.map((function(e){return e.name}))},{type:"select",label:"Select Comment Index",className:A.formControl,onChange:C,value:k,options:a.map((function(e){return e.index}))}];return r.a.createElement($e,{inputFields:D,onSubmit:function(e){e.preventDefault();try{ra(m,l,p,o,b,g,Number.parseFloat(h),v,"(".concat(xe.forumAPI.contractAddress,'.delete-comment-comment "').concat(v,'" "').concat(k,'")'),{},"moderator")}catch(t){console.log("delete-comment-comment Submit Error",typeof t,t,v,k),p(t),l("validation-error")}},tx:u,txStatus:s,txRes:d,setTxStatus:l})},ha=function(e){var t=e.members,a=e.moderators,n=e.guardians,o=e.topics,c=e.comments,s=e.tabIdx,l=e.pactTxStatus,i=e.refresh,u=(i.getForumState,i.getMembers),m=i.getTopics,d=i.getComments;return r.a.createElement(Ot,{tabIdx:s,tabEntries:[{label:"Become Moderator",component:r.a.createElement(oa,{guardians:n,pactTxStatus:l,refresh:function(){return u()}})},{label:"Rotate Moderator",component:r.a.createElement(ia,{moderators:a,pactTxStatus:l,refresh:function(){return u()}})},{label:"Enable Member",component:r.a.createElement(la,{members:t,moderators:a,pactTxStatus:l,refresh:function(){return u()}})},{label:"Disable Member",component:r.a.createElement(sa,{members:t,moderators:a,pactTxStatus:l,refresh:function(){return u()}})},{label:"Delete Topic",component:r.a.createElement(ma,{moderators:a,topics:o,pactTxStatus:l,refresh:function(){return m()}})},{label:"UnDelete Topic",component:r.a.createElement(da,{moderators:a,topics:o,pactTxStatus:l,refresh:function(){return m()}})},{label:"Lock Topic",component:r.a.createElement(pa,{moderators:a,topics:o,pactTxStatus:l,refresh:function(){return m()}})},{label:"Unlock Topic",component:r.a.createElement(pa,{moderators:a,topics:o,pactTxStatus:l,refresh:function(){return m()}})},{label:"Delete Topic Comment",component:r.a.createElement(fa,{moderators:a,comments:c,pactTxStatus:l,refresh:function(){return d(),m(),null}})},{label:"Delete Comment Reply",component:r.a.createElement(xa,{moderators:a,comments:c,pactTxStatus:l,refresh:function(){return d(),m(),null}})}]})},Sa=function(e){var t=e.moderators,a=e.topics,n=e.tabIdx,o=e.pactTxStatus,c=e.refresh,s=c.getTopics;c.getComments;return r.a.createElement(Ot,{tabIdx:n,tabEntries:[{label:"Delete Topic",component:r.a.createElement(ma,{moderators:t,topics:a,pactTxStatus:o,refresh:function(){return s()}})},{label:"UnDelete Topic",component:r.a.createElement(da,{moderators:t,topics:a,pactTxStatus:o,refresh:function(){return s()}})},{label:"Lock Topic",component:r.a.createElement(pa,{moderators:t,topics:a,pactTxStatus:o,refresh:function(){return s()}})},{label:"Unlock Topic",component:r.a.createElement(pa,{moderators:t,topics:a,pactTxStatus:o,refresh:function(){return s()}})}]})},ya=function(e){var t=e.members,a=e.moderators,n=(e.guardians,e.ambassadors),o=(e.topics,e.comments),c=e.tabIdx,s=e.pactTxStatus,l=e.refresh,i=(l.getForumState,l.getMembers),u=(l.getTopics,l.getComments);return r.a.createElement(Ot,{tabIdx:c,tabEntries:[{label:"Become Member",component:r.a.createElement(ca,{ambassadors:n,pactTxStatus:s,refresh:function(){return i()}})},{label:"Rotate Member",component:r.a.createElement(ua,{members:t,pactTxStatus:s,refresh:function(){return i()}})},{label:"Vote on Comment",component:r.a.createElement(ga,{members:t,moderators:a,comments:o,pactTxStatus:s,refresh:function(){return u()}})}]})},Ea=function(e){return r.a.createElement(_e,{header:["Author","Timestamp","Action"],keyOrder:["author","timestamp","action"],json:e.modLog})},va=a(120),Oa=a.n(va),ja=Object(re.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"}}})),Ta=function(e){var t=e.comments;return r.a.createElement(_e,{header:["","Body","Author","Timestamp","Modified","Locked"],keyOrder:["index","body","author","timestamp","modified","locked"],json:t})},ka=function(e){var t=e.members,a=e.moderators,o=e.topics,c=e.refresh,s=e.pactTxStatus,l=s.txStatus,u=s.setTxStatus,m=s.tx,d=s.setTx,p=s.txRes,f=s.setTxRes,b=rt().current,g=b.signingKey,h=b.networkId,S=b.gasPrice,E=Object(n.useState)(""),v=Object(x.a)(E,2),O=v[0],j=v[1],T=Object(n.useState)(""),k=Object(x.a)(T,2),C=k[0],A=k[1],I=Object(n.useState)(""),w=Object(x.a)(I,2),N=w[0],P=w[1],R=ja(),F=Object(i.e)({topicId:i.c}),D=Object(x.a)(F,1)[0],M=Object(n.useState)(!1),L=Object(x.a)(M,2),K=L[0],W=L[1];Object(n.useEffect)((function(){try{if(!K&&y.a.has(D,["topicId"])){var e=y.a.find(o,(function(e){return e.index===D.topicId}));A(e.index),W(!0)}}catch(t){}}),[o,D,C,K]);var G=[{type:"select",label:"Author",className:R.formControl,onChange:j,value:O,options:a.map((function(e){return e.name})).concat(t.map((function(e){return e.name})))},{type:"select",label:"Topic Index",className:R.formControl,onChange:A,value:C,options:o.map((function(e){return e.index}))},{type:"markdown",label:"Comment Contents",value:N,onChange:P}];return r.a.createElement($e,{inputFields:G,onSubmit:function(e){e.preventDefault();try{ra(d,u,f,c,g,h,Number.parseFloat(S),O,"(".concat(xe.forumAPI.contractAddress,'.post-topic-comment "').concat(O,'" (read-msg \'body) "').concat(C,'")'),{body:N})}catch(t){console.log("post-topic-comment Submit Error",typeof t,t,O,N,C),f(t),u("validation-error")}},tx:m,txStatus:l,txRes:p,setTxStatus:u})},Ca=function(e){e.members,e.moderators;var t=e.comments,a=e.refresh,o=e.pactTxStatus,c=o.txStatus,s=o.setTxStatus,l=o.tx,u=o.setTx,m=o.txRes,d=o.setTxRes,p=rt().current,f=p.signingKey,b=p.networkId,g=p.gasPrice,h=Object(n.useState)(""),S=Object(x.a)(h,2),E=S[0],v=S[1],O=Object(n.useState)(""),j=Object(x.a)(O,2),T=j[0],k=j[1],C=Object(n.useState)(""),A=Object(x.a)(C,2),I=A[0],w=A[1],N=ja(),P=Object(i.e)({commentId:i.c}),R=Object(x.a)(P,1)[0],F=Object(n.useState)(!1),D=Object(x.a)(F,2),M=D[0],L=D[1];Object(n.useEffect)((function(){try{if(!M&&y.a.has(R,["commentId"])){var e=y.a.find(t,(function(e){return e.index===R.commentId}));k(e.index),v(e.author),w(e.body),L(!0)}}catch(a){}}),[t,R,T,M]);var K=[{type:"select",label:"Comment Index",className:N.formControl,onChange:k,value:T,options:t.map((function(e){return e.index}))},{type:"markdown",label:"Comment Contents",value:I,onChange:w}];return r.a.createElement($e,{inputFields:K,onSubmit:function(e){e.preventDefault();try{ra(u,s,d,a,f,b,Number.parseFloat(g),E,"(".concat(xe.forumAPI.contractAddress,'.modify-comment "').concat(T,"\" (read-msg 'body) )"),{body:I})}catch(t){console.log("modiy-comment Submit Error",typeof t,t,E,I,T),d(t),s("validation-error")}},tx:l,txStatus:c,txRes:m,setTxStatus:s})},Aa=function(e){var t=e.members,a=e.moderators,o=e.comments,c=e.refresh,s=e.pactTxStatus,l=s.txStatus,u=s.setTxStatus,m=s.tx,d=s.setTx,p=s.txRes,f=s.setTxRes,b=rt().current,g=b.signingKey,h=b.networkId,S=b.gasPrice,E=Object(n.useState)(""),v=Object(x.a)(E,2),O=v[0],j=v[1],T=Object(n.useState)(""),k=Object(x.a)(T,2),C=k[0],A=k[1],I=Object(n.useState)(""),w=Object(x.a)(I,2),N=w[0],P=w[1],R=ja(),F=Object(i.e)({commentId:i.c}),D=Object(x.a)(F,1)[0],M=Object(n.useState)(!1),L=Object(x.a)(M,2),K=L[0],W=L[1];Object(n.useEffect)((function(){try{if(!K&&y.a.has(D,["commentId"])){var e=y.a.find(o,(function(e){return e.index===D.commentId}));A(e.index),W(!0)}}catch(t){}}),[o,D,C,K]);var G=[{type:"select",label:"Author",className:R.formControl,onChange:j,value:O,options:a.map((function(e){return e.name})).concat(t.map((function(e){return e.name})))},{type:"select",label:"Comment Index",className:R.formControl,onChange:function(e){return A(e)},value:C,options:o.map((function(e){return e.index}))},{type:"markdown",label:"Comment Contents",value:N,onChange:P}];return r.a.createElement($e,{inputFields:G,onSubmit:function(e){e.preventDefault();try{ra(d,u,f,c,g,h,Number.parseFloat(S),O,"(".concat(xe.forumAPI.contractAddress,'.post-comment-comment "').concat(O,'" (read-msg \'body) "').concat(C,'")'),{body:N})}catch(t){console.log("post-comment-comment Submit Error",typeof t,t,O,N,C),f(t),u("validation-error")}},tx:m,txStatus:l,txRes:p,setTxStatus:u})},Ia=function(e){var t=e.members,a=e.moderators,n=(e.topics,e.comments),o=e.tabIdx,c=e.pactTxStatus,s=e.refresh,l=(s.getTopics,s.getComments);return r.a.createElement(Ot,{tabIdx:o,tabEntries:[{label:"Reply to Comment",component:r.a.createElement(Aa,{members:t,moderators:a,comments:n,pactTxStatus:c,refresh:function(){return l()}})},{label:"Modify Comment",component:r.a.createElement(Ca,{members:t,moderators:a,comments:n,pactTxStatus:c,refresh:function(){return l()}})},{label:"Vote on Comment",component:r.a.createElement(ga,{members:t,moderators:a,comments:n,pactTxStatus:c,refresh:function(){return l()}})}]})},wa=Object(re.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"},inline:{display:"inline"}}})),Na=function(e){var t=e.topics,a=e.moderators,n=e.pactTxStatus,o=e.refresh,c=Object(i.e)({ui:i.c,topicsTab:i.c,topicId:i.c}),s=Object(x.a)(c,2)[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{component:"div",disablePadding:!0},t.map((function(e){return r.a.createElement(Pa,{moderators:a,topic:e,topics:t,pactTxStatus:n,refresh:o,setAppRoute:s})}))))},Pa=function(e){var t=e.moderators,a=e.topic,o=e.topics,c=e.pactTxStatus,s=e.refresh,l=e.setAppRoute,i=Object(n.useState)(!1),u=Object(x.a)(i,2),m=u[0],d=u[1],p=(wa(),"Comment by ".concat(a.author," on ").concat(Ve(a.timestamp)).concat(a.modified?" [edited]":"")),f=r.a.createElement(Ke,{tags:Le(a.body)});return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{button:!0,disableRipple:!0},r.a.createElement(A.a,{onClick:function(){return l({app:"forum",ui:"topic",topicId:a.index})},primary:r.a.createElement(fe.a,{textOverflow:"ellipsis",overflow:"hidden"},a.headline),secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.a,{textOverflow:"ellipsis",overflow:"hidden"},p),r.a.createElement(fe.a,{textOverflow:"ellipsis",overflow:"hidden"},f))}),r.a.createElement(Oa.a,{onClick:function(){l({topicId:a.index}),d(!m)}})),r.a.createElement(I.a,{in:m,timeout:"auto",unmountOnExit:!0},r.a.createElement(Sa,{tabIdx:"topicsTab",moderators:t,topics:o,pactTxStatus:c,refresh:s})),r.a.createElement(P.a,{component:"li"}))},Ra=function(e){var t=e.refresh,a=e.members,o=e.moderators,c=rt().current,s=c.signingKey,l=c.networkId,i=c.gasPrice,u=Object(n.useState)(""),m=Object(x.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(""),b=Object(x.a)(f,2),g=b[0],h=b[1],S=Object(n.useState)(""),y=Object(x.a)(S,2),E=y[0],v=y[1],O=e.pactTxStatus,j=O.txStatus,T=O.setTxStatus,k=O.tx,C=O.setTx,A=O.txRes,I=O.setTxRes,w=wa(),N=[{type:"select",label:"Author",className:w.formControl,onChange:p,value:d,options:o.map((function(e){return e.name})).concat(a.map((function(e){return e.name})))},{type:"textFieldSingle",label:"Headline",className:w.formControl,value:g,onChange:h},{type:"markdown",label:"Contents",value:E,onChange:v}];return r.a.createElement($e,{inputFields:N,onSubmit:function(e){e.preventDefault();try{ra(C,T,I,t,s,l,Number.parseFloat(i),d,"(".concat(xe.forumAPI.contractAddress,".post-topic (read-msg 'headline) \"").concat(d,"\" (read-msg 'body))"),{headline:g,body:E})}catch(a){console.log("post-topic Submit Error",typeof a,a,d,g,E),I(a),T("validation-error")}},tx:k,txStatus:j,txRes:A,setTxStatus:T})},Fa=function(e){var t=e.refresh,a=e.topics,o=rt().current,c=o.signingKey,s=o.networkId,l=o.gasPrice,u=Object(n.useState)(""),m=Object(x.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(""),b=Object(x.a)(f,2),g=b[0],h=b[1],S=Object(n.useState)(""),E=Object(x.a)(S,2),v=E[0],O=E[1],j=Object(n.useState)(""),T=Object(x.a)(j,2),k=T[0],C=T[1],A=e.pactTxStatus,I=A.txStatus,w=A.setTxStatus,N=A.tx,P=A.setTx,R=A.txRes,F=A.setTxRes,D=wa(),M=Object(i.e)({topicId:i.c}),L=Object(x.a)(M,1)[0],K=Object(n.useState)(!1),W=Object(x.a)(K,2),G=W[0],z=W[1];Object(n.useEffect)((function(){try{if(!G&&y.a.has(L,["topicId"])){var e=y.a.find(a,(function(e){return e.index===L.topicId}));h(e.index),p(e.author),C(e.body),O(e.headline),z(!0)}}catch(t){}}),[a,L,g,G]);var U=[{type:"textFieldSingle",label:"Headline",className:D.formControl,value:v,onChange:O},{type:"markdown",label:"Contents",value:k,onChange:C}];return r.a.createElement($e,{inputFields:U,onSubmit:function(e){e.preventDefault();try{ra(P,w,F,t,c,s,Number.parseFloat(l),d,"(".concat(xe.forumAPI.contractAddress,'.modify-topic "').concat(g,"\" (read-msg 'headline) (read-msg 'body))"),{headline:v,body:k})}catch(a){console.log("modify-topic Submit Error",typeof a,a,d,v,k),F(a),w("validation-error")}},tx:N,txStatus:I,txRes:R,setTxStatus:w})},Da=function(e){var t=e.members,a=e.moderators,n=e.topics,o=(e.comments,e.tabIdx),c=e.pactTxStatus,s=e.refresh,l=s.getTopics,i=s.getComments;return r.a.createElement(Ot,{tabIdx:o,tabEntries:[{label:"Post Topic",component:r.a.createElement(Ra,{members:t,moderators:a,pactTxStatus:c,refresh:function(){return l()}})},{label:"Edit Topic",component:r.a.createElement(Fa,{topics:n,pactTxStatus:c,refresh:function(){return l()}})},{label:"Vote on Topic",component:r.a.createElement(ba,{members:t,moderators:a,topics:n,pactTxStatus:c,refresh:function(){return l()}})},{label:"Comment on Topic",component:r.a.createElement(ka,{members:t,moderators:a,topics:n,pactTxStatus:c,refresh:function(){return l(),i(),null}})}]})},Ma=a(467),La=a(468),Ka=a(187),Wa=a.n(Ka),Ga=a(186),za=a.n(Ga),Ua=a(188),Va=a.n(Ua),Ja=a(190),qa=a.n(Ja),Ba=a(189),Ha=a.n(Ba),_a=a(192),Qa=a.n(_a),$a=a(191),Ya=a.n($a),Za=a(193),Xa=a.n(Za),en=a(194),tn=a.n(en),an=(Object(re.a)((function(e){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"},nested:{paddingLeft:e.spacing(8)}}})),function(e){var t=e.topics,a=e.comments,n=e.members,o=e.moderators,c=e.pactTxStatus,s=e.refresh,l=Object(i.e)({ui:i.c,forumTab:i.c,modTab:i.c,memTab:i.c,topicsTab:i.c,author:i.c,topicId:i.c,commentId:i.c}),u=Object(x.a)(l,2),m=u[0],d=u[1],p=y.a.find(t,(function(e){return e.index===m.topicId}));return y.a.has(p,"body")?r.a.createElement(v.a,null,r.a.createElement(O.a,{title:r.a.createElement(fe.a,{textOverflow:"ellipsis",overflow:"hidden"},p.headline)}),r.a.createElement(j.a,null,r.a.createElement(w.a,null,r.a.createElement(k.a,null,r.a.createElement(fe.a,{textOverflow:"ellipsis",overflow:"hidden"},r.a.createElement(De,{mdText:p.body}))),r.a.createElement(k.a,null,r.a.createElement(on,{topic:p})),r.a.createElement(k.a,null,r.a.createElement(cn,{tabIdx:"inTopicDirect",members:n,moderators:o,topics:t,topic:p,comments:a,pactTxStatus:c,refresh:s}))),r.a.createElement(P.a,null),r.a.createElement(nn,{topicId:p.index,topics:t,comments:a,members:n,moderators:o,pactTxStatus:c,refresh:s,setAppRoute:d}))):r.a.createElement(r.a.Fragment,null)}),nn=function(e){var t=e.topicId,a=e.topics,n=e.comments,o=e.members,c=e.moderators,s=e.pactTxStatus,l=e.refresh,i=e.setAppRoute,u=y.a.find(a,{index:t})["comment-indexs"];return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{component:"div",disablePadding:!0},u.map((function(e){return r.a.createElement(rn,{topicId:t,commentId:e,comments:n,isNested:0,members:o,moderators:c,topics:a,pactTxStatus:s,refresh:l,setAppRoute:i})}))))},rn=function e(t){var a=t.topicId,o=t.commentId,c=t.comments,s=t.isNested,l=t.members,i=t.moderators,u=t.topics,m=t.pactTxStatus,d=t.refresh,p=t.setAppRoute,f=y.a.find(c,{index:o}),b=Object(n.useState)(!1),g=Object(x.a)(b,2),h=g[0],S=g[1],E={paddingLeft:"".concat(.25*s,"em")},v=s?"Reply by ".concat(f.author," on ").concat(Ve(f.timestamp)).concat(f.modified?" [edited]":""):"Comment by ".concat(f.author," on ").concat(Ve(f.timestamp)).concat(f.modified?" [edited]":""),O=function(){p({commentId:f.index}),S(!h)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{key:f.index,style:E},r.a.createElement(De,{mdText:"*".concat(v,"* \n\n")+f.body}),h?r.a.createElement(B.a,{onClick:O}):r.a.createElement(_.a,{onClick:O})),r.a.createElement(I.a,{in:h,timeout:"auto",unmountOnExit:!0,style:{marginLeft:"".concat(.25*s,"em")}},r.a.createElement(Ia,{tabIdx:"inTopicTab",members:l,moderators:i,topics:u,comments:c,pactTxStatus:m,refresh:d})),r.a.createElement("div",{style:s?E:null},r.a.createElement(P.a,{component:"li"}),r.a.createElement(w.a,{component:"div",disablePadding:!0},f["child-indexs"].map((function(t){return r.a.createElement(e,{topicId:a,commentId:t,comments:c,isNested:s+1,members:l,moderators:i,topics:u,pactTxStatus:m,refresh:d,setAppRoute:p})})))))},on=function(e){var t=e.topic,a=Object(i.e)({ui:i.c,forumTab:i.c,modTab:i.c,memTab:i.c,topicsTab:i.c,author:i.c,topicId:i.c,inTopicDirect:i.c,vote:i.c}),n=Object(x.a)(a,2)[1];return r.a.createElement(Ma.a,{disableElevation:!0,orientation:"horizontal",color:"primary",variant:"contained",lable:"Member Actions"},r.a.createElement(La.a,{title:"Vote For Topic"},r.a.createElement(D.a,{size:"small",onClick:function(){return n({ui:"topic",inTopicDirect:"1",vote:"upvote"})}},r.a.createElement(za.a,null))),r.a.createElement(La.a,{title:"Remove Your Vote"},r.a.createElement(D.a,{size:"small",onClick:function(){return n({ui:"topic",inTopicDirect:"1",vote:"remove"})}},r.a.createElement(Wa.a,null))),r.a.createElement(La.a,{title:"Vote Against Topic"},r.a.createElement(D.a,{size:"small",onClick:function(){return n({ui:"topic",inTopicDirect:"1",vote:"downvote"})}},r.a.createElement(Va.a,null))),t.locked?r.a.createElement(La.a,{title:"Unlock Topic"},r.a.createElement(D.a,{size:"small",onClick:function(){return n({ui:"moderators",modTab:"7"})}},r.a.createElement(Ha.a,null))):r.a.createElement(La.a,{title:"Lock Topic"},r.a.createElement(D.a,{size:"small",onClick:function(){return n({ui:"moderators",modTab:"6"})}},r.a.createElement(qa.a,null))),r.a.createElement(La.a,{title:t.deleted?"Restore Deleted Topic":"Delete Topic"},r.a.createElement(D.a,{size:"small",onClick:function(){return n({ui:"moderators",modTab:t.delete?"5":"4"})}},t.delete?r.a.createElement(Ya.a,null):r.a.createElement(Qa.a,null))),r.a.createElement(La.a,{title:"Edit Topic"},r.a.createElement(D.a,{size:"small",onClick:function(){return n({ui:"topic",inTopicDirect:"3"})}},r.a.createElement(Xa.a,null))),r.a.createElement(La.a,{title:"Comment on Topic"},r.a.createElement(D.a,{size:"small",onClick:function(){return n({ui:"topic",inTopicDirect:"1"})}},r.a.createElement(tn.a,null))))},cn=function(e){var t=e.members,a=e.moderators,n=e.topics,o=e.topic,c=e.tabIdx,s=e.pactTxStatus,l=e.refresh,i=l.getTopics,u=l.getComments;return r.a.createElement(Ot,{tabIdx:c,tabEntries:[{label:"Post Details",component:r.a.createElement(He,{keyFormatter:ze,json:[y.a.pick(o,["author","deleted","locked","modified","timestamp","upvotes","downvotes"])]})},{label:"Vote on Topic",component:r.a.createElement(ba,{members:t,moderators:a,topics:n,pactTxStatus:s,refresh:function(){return i()}})},{label:"Comment on Topic",component:r.a.createElement(ka,{members:t,moderators:a,topics:n,pactTxStatus:s,refresh:function(){return i(),u(),null}})},{label:"Edit Topic (author only)",component:r.a.createElement(Fa,{topics:n,pactTxStatus:s,refresh:function(){return i()}})}]})},sn=function(){return r.a.createElement(He,{json:xe.hftAPI,keyFormatter:xe.keyFormatter})},ln=function(){var e=Object(g.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.a.fetch.local({pactCode:"(".concat(xe.hftAPI.contractAddress,".").concat(t,")"),meta:le.a.lang.mkMeta(xe.hftAPI.meta.sender,xe.hftAPI.meta.chainId,xe.hftAPI.meta.gasPrice,xe.hftAPI.meta.gasLimit,xe.hftAPI.meta.creationTime(),xe.hftAPI.meta.ttl)},xe.hftAPI.meta.host);case 2:return a=e.sent,n=a.result.data,console.debug("local query data: (".concat(xe.hftAPI.contractAddress,".").concat(t,")"),n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),un=function(e){var t=e.hftLedger;return console.debug("renderHFTLedger",t),r.a.createElement(_e,{json:t,header:["Account","Token","Balance","Guard"],keyOrder:["account","token","balance","guard"],keyFormatter:ze})},mn=function(e){var t=e.hftTokens;return r.a.createElement(_e,{json:t,header:["Token","URI","Precision","Guard"],keyOrder:["token","uri","minimum-precision","guard"],keyFormatter:ze})},dn=Object(re.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"}}})),pn=function(){var e=Object(g.a)(b.a.mark((function e(t,a,n,r,o,c,s,l){var i,u,m,d,p,f,g,x=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=x.length>8&&void 0!==x[8]?x[8]:{},u=x.length>9&&void 0!==x[9]?x[9]:[],e.prev=2,m={pactCode:l,caps:st(u),signingPubKey:o,networkId:c,gasPrice:s,gasLimit:xe.hftAPI.meta.gasLimit,chainId:xe.hftAPI.meta.chainId,ttl:xe.hftAPI.meta.ttl,sender:o,envData:i},console.log("toSign",m),e.next=7,le.a.wallet.sign(m);case 7:if(d=e.sent,console.log("signed",d),"object"!==typeof d||!("hash"in d)){e.next=13;break}t(d),e.next=14;break;case 13:throw new Error("Signing API Failed");case 14:return e.prev=14,e.next=17,le.a.wallet.sendSigned(d,xe.hftAPI.meta.host);case 17:p=e.sent,console.log("txReqKeys",p),a("pending"),f=8,g={};case 22:if(!(f>0)){e.next=31;break}return e.next=25,new Promise((function(e){return setTimeout(e,15e3)}));case 25:return e.next=27,le.a.fetch.poll(p,xe.hftAPI.meta.host);case 27:g=e.sent;try{g[d.hash].result.status?f=-1:f-=1}catch(b){f-=1}e.next=22;break;case 31:n(g),"success"===g[d.hash].result.status?(console.log("tx status set to success"),a("success"),r()):0===f?(console.log("tx status set to timeout"),a("timeout"),r()):(console.log("tx status set to failure"),a("failure")),e.next=41;break;case 36:e.prev=36,e.t0=e.catch(14),console.log("tx api failure",e.t0),n(e.t0),a("failure");case 41:e.next=47;break;case 43:e.prev=43,e.t1=e.catch(2),console.log("tx status set to validation error",e.t1),a("validation-error");case 47:case"end":return e.stop()}}),e,null,[[2,43],[14,36]])})));return function(t,a,n,r,o,c,s,l){return e.apply(this,arguments)}}(),fn=function(e){var t=e.refresh,a=e.pactTxStatus,o=a.txStatus,c=a.setTxStatus,s=a.tx,l=a.setTx,i=a.txRes,u=a.setTxRes,m=rt().current,d=m.signingKey,p=m.networkId,f=m.gasPrice,b=Object(n.useState)(""),g=Object(x.a)(b,2),h=g[0],S=g[1],y=Object(n.useState)({}),E=Object(x.a)(y,2),v=E[0],O=E[1],j=Object(n.useState)(12),T=Object(x.a)(j,2),k=T[0],C=T[1],A=Object(n.useState)(""),I=Object(x.a)(A,2),w=I[0],N=I[1],P=dn(),R=[{type:"textFieldSingle",label:"Token Name",className:P.formControl,value:h,onChange:S},{type:"textFieldMulti",label:"Keyset",className:P.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:v,onChange:O},{type:"textFieldSingle",label:"Precision",className:P.formControl,value:k,onChange:C},{type:"textFieldMulti",label:"URI",className:P.formControl,placeholder:"some string",value:w,onChange:N}];return r.a.createElement($e,{inputFields:R,onSubmit:function(e){e.preventDefault();try{pn(l,c,u,t,d,p,Number.parseFloat(f),"(".concat(xe.hftAPI.contractAddress,'.create-token "').concat(h,"\" (read-keyset 'ks) ").concat(k,' "').concat(w,'")'),{ks:JSON.parse(v)})}catch(a){console.log("create-token Submit Error",typeof a,a,h,v,k,w),u(a),c("validation-error")}},tx:s,txStatus:o,txRes:i,setTxStatus:c})},bn=function(e){var t=e.hftTokens,a=e.refresh,o=e.pactTxStatus,c=o.txStatus,s=o.setTxStatus,l=o.tx,i=o.setTx,u=o.txRes,m=o.setTxRes,d=rt().current,p=d.signingKey,f=d.networkId,b=d.gasPrice,g=Object(n.useState)(""),h=Object(x.a)(g,2),S=h[0],y=h[1],E=Object(n.useState)(""),v=Object(x.a)(E,2),O=v[0],j=v[1],T=Object(n.useState)({}),k=Object(x.a)(T,2),C=k[0],A=k[1],I=Object(n.useState)(100),w=Object(x.a)(I,2),N=w[0],P=w[1],R=dn(),F=[{type:"select",label:"Select Token",className:R.formControl,onChange:y,options:t.map((function(e){return e.token}))},{type:"textFieldSingle",label:"Account Name",className:R.formControl,value:O,onChange:j},{type:"textFieldMulti",label:"Keyset",className:R.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:C,onChange:A},{type:"textFieldSingle",label:"Amount",className:R.formControl,value:N,onChange:P}];return r.a.createElement($e,{inputFields:F,onSubmit:function(e){e.preventDefault(),console.log(le.a.lang.mkCap("MINT Cap","Authenticates that you can mint","".concat(xe.hftAPI.contractAddress,".MINT"),[S,O,Number.parseInt(N)]));try{pn(i,s,m,a,p,f,Number.parseFloat(b),"(".concat(xe.hftAPI.contractAddress,'.mint "').concat(S,'" "').concat(O,"\" (read-keyset 'ks) ").concat(N,")"),{ks:JSON.parse(C)},[le.a.lang.mkCap("MINT Cap","Authenticates that you can mint","".concat(xe.hftAPI.contractAddress,".MINT"),[S,O,Number.parseFloat(N)])])}catch(t){console.log("mint Submit Error",typeof t,t,S,O,C,N),m(t),s("validation-error")}},tx:l,txStatus:c,txRes:u,setTxStatus:s})},gn=function(e){var t=e.hftTokens,a=e.hftLedger,o=e.refresh,c=e.pactTxStatus,s=c.txStatus,l=c.setTxStatus,i=c.tx,u=c.setTx,m=c.txRes,d=c.setTxRes,p=rt().current,f=p.signingKey,b=p.networkId,g=p.gasPrice,h=Object(n.useState)(""),S=Object(x.a)(h,2),E=S[0],v=S[1],O=Object(n.useState)(""),j=Object(x.a)(O,2),T=j[0],k=j[1],C=Object(n.useState)(""),A=Object(x.a)(C,2),I=A[0],w=A[1],N=Object(n.useState)({}),P=Object(x.a)(N,2),R=P[0],F=P[1],D=Object(n.useState)(0),M=Object(x.a)(D,2),L=M[0],K=M[1],W=dn(),G=[{type:"select",label:"Select Token",className:W.formControl,onChange:v,options:t.map((function(e){return e.token}))},{type:"select",label:"Sender Account",className:W.formControl,onChange:k,options:y.a.sortedUniq(a.map((function(e){return e.account})))},{type:"textFieldSingle",label:"Receiver Account",className:W.formControl,value:I,onChange:w},{type:"textFieldMulti",label:"Receiver Account Keyset",className:W.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:R,onChange:F},{type:"textFieldSingle",label:"Transfer Amount",className:W.formControl,value:L,onChange:K}];return r.a.createElement($e,{inputFields:G,onSubmit:function(e){e.preventDefault(),console.log(le.a.lang.mkCap("MINT Cap","Authenticates that you can mint","".concat(xe.hftAPI.contractAddress,".MINT"),[E,T,Number.parseInt(L)]));try{console.debug("transfercreate",L,Number.isInteger(L),Number.parseFloat(L).toFixed(1),Number.parseFloat(L)),pn(u,l,d,o,f,b,Number.parseFloat(g),"(".concat(xe.hftAPI.contractAddress,'.transfer-create "').concat(E,'" "').concat(T,'" "').concat(I,"\" (read-keyset 'ks) ").concat(Number.parseFloat(L),")"),{ks:JSON.parse(R)},[le.a.lang.mkCap("Transfer Cap","Authenticates that you can transfer","".concat(xe.hftAPI.contractAddress,".TRANSFER"),[E,T,I,Number.parseFloat(L)])])}catch(t){console.log("mint Submit Error",typeof t,t,E,T,I,R,L),d(t),l("validation-error")}},tx:i,txStatus:s,txRes:m,setTxStatus:l})},xn=function(e){var t=e.hftLedger,a=e.hftTokens,n=e.tabIdx,o=e.pactTxStatus,c=e.refresh,s=c.getHftLedger;c.getHftTokens;return r.a.createElement(Ot,{tabIdx:n,tabEntries:[{label:"Transfer Create",component:r.a.createElement(gn,{pactTxStatus:o,hftTokens:a,hftLedger:t,refresh:function(){return s()}})}]})},hn=function(e){var t=e.hftTokens,a=e.tabIdx,n=e.pactTxStatus,o=e.refresh,c=o.getHftLedger,s=o.getHftTokens;return r.a.createElement(Ot,{tabIdx:a,tabEntries:[{label:"Create HFT Token",component:r.a.createElement(fn,{pactTxStatus:n,refresh:function(){return s()}})},{label:"Mint HFT Token",component:r.a.createElement(bn,{pactTxStatus:n,hftTokens:t,refresh:function(){return c()}})}]})},Sn={primary:"".concat(xe.hftAPI.namespace,".").concat(xe.hftAPI.contractName),subList:[{primary:"Config & State",subList:[{primary:"Config",to:{app:"hft",ui:"config"}},{primary:"HFT Tokens",to:{app:"hft",ui:"tokens"}},{primary:"HFT Ledger",to:{app:"hft",ui:"ledger"}}]}]},yn=function(e){var t=e.appRoute,a=e.setAppRoute,n=e.hftLedger,o=e.hftTokens,c=e.pactTxStatus,s=e.refresh;s.getHftLedger,s.getHftTokens;return"config"===t.ui?r.a.createElement(v.a,null,r.a.createElement(O.a,{title:"Contract and UI Configuration"}),r.a.createElement(j.a,null,r.a.createElement(sn,null))):"tokens"===t.ui?r.a.createElement(v.a,null,r.a.createElement(O.a,{title:"Tokens State"}),r.a.createElement(j.a,null,r.a.createElement(mn,{hftTokens:o}),r.a.createElement(hn,{pactTxStatus:c,tabIdx:"hftTabT",hftTokens:o,refresh:s}))):"ledger"===t.ui?r.a.createElement(v.a,null,r.a.createElement(O.a,{title:"Ledger State"}),r.a.createElement(j.a,null,r.a.createElement(un,{hftLedger:n}),r.a.createElement(xn,{pactTxStatus:c,tabIdx:"hftTabL",hftTokens:o,hftLedger:n,refresh:s}))):r.a.createElement(r.a.Fragment,null,a({app:"wallet",ui:"config"}))},En=function(){var e=Object(i.e)({app:Object(i.f)(i.c,"wallet"),ui:Object(i.f)(i.c,"config")}),t=Object(x.a)(e,2),a=t[0],o=t[1],c=Object(h.a)("initState")({}),s=Object(x.a)(c,2),u=s[0],m=s[1],d=Object(h.a)("guardians")([]),p=Object(x.a)(d,2),f=p[0],S=p[1],y=Object(h.a)("ambassadors")([]),T=Object(x.a)(y,2),k=T[0],C=T[1],A=function(){var e=Object(g.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zt("view-state");case 2:t=e.sent,m(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(g.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zt("view-ambassadors");case 2:t=e.sent,C(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(g.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zt("view-guardians");case 2:t=e.sent,S(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=Object(n.useState)(""),P=Object(x.a)(N,2),R=P[0],F=P[1],D=Object(n.useState)({}),M=Object(x.a)(D,2),L=M[0],K=M[1],W=Object(n.useState)({}),G=Object(x.a)(W,2),z={tx:L,setTx:K,txStatus:R,setTxStatus:F,txRes:G[0],setTxRes:G[1]},U=Object(h.a)("forumState")({}),V=Object(x.a)(U,2),J=V[0],q=V[1],B=Object(h.a)("members")([]),H=Object(x.a)(B,2),_=H[0],Q=H[1],$=Object(h.a)("moderators")([]),Y=Object(x.a)($,2),Z=Y[0],X=Y[1],ee=Object(h.a)("modLog")([]),te=Object(x.a)(ee,2),ae=te[0],ne=te[1],re=Object(h.a)("topics")([]),oe=Object(x.a)(re,2),ce=oe[0],se=oe[1],le=Object(h.a)("comments")([]),ie=Object(x.a)(le,2),ue=ie[0],me=ie[1],de=function(){var e=Object(g.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt("view-state");case 2:t=e.sent,q(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(g.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt("view-members");case 2:t=e.sent,Q(t.filter((function(e){return!1===e.moderator}))),X(t.filter((function(e){return!0===e.moderator})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=Object(g.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt("view-modlogs");case 2:t=e.sent,ne(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(g.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt("view-topics");case 2:t=e.sent,se(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Object(g.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt("view-comments");case 2:t=e.sent,me(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=Object(h.a)("hftLedger3")({}),he=Object(x.a)(xe,2),Se=he[0],ye=he[1],Ee=Object(h.a)("hftTokens3")({}),ve=Object(x.a)(Ee,2),Oe=ve[0],je=ve[1],Te=function(){var e=Object(g.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ln("view-ledger");case 2:t=e.sent,ye(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Object(g.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ln("view-tokens");case 2:t=e.sent,je(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce={getInitState:A,getGuardians:w,getAmbassadors:I,getForumState:de,getMembers:pe,getTopics:be,getComments:ge,getModLog:fe,getHftLedger:Te,getHftTokens:ke};return Object(n.useEffect)((function(){w(),A(),I(),de(),pe(),fe(),be(),ge(),Te(),ke(),console.debug("App.useEffect[] fired")}),[]),r.a.createElement(gt,{entriesList:[[ot,Vt,Sn,{primary:"dao.forum",subList:[{primary:"Admin",subList:[{primary:"Config",to:{app:"forum",ui:"config"}},{primary:"Forum State",to:{app:"forum",ui:"state"}},{primary:"Mod Log",to:{app:"forum",ui:"modlog"}},{primary:"Mjolnir",to:{app:"forum",ui:"mjolnir"}},{primary:"Moderators",to:{app:"forum",ui:"moderators"}}]},{primary:"Members",to:{app:"forum",ui:"members"}},{primary:"Topics",to:{app:"forum",ui:"topics"}},{primary:"Comments",to:{app:"forum",ui:"comments"}}]}]]},r.a.createElement(E.a,null,r.a.createElement(l.c,null,"wallet"===a.app?r.a.createElement(ct,{appRoute:a,setAppRoute:o}):"init"===a.app?r.a.createElement(Jt,{appRoute:a,setAppRoute:o,initState:u,guardians:f,ambassadors:k,pactTxStatus:z,refresh:Ce}):"hft"===a.app?r.a.createElement(yn,{appRoute:a,setAppRoute:o,hftLedger:Se,hftTokens:Oe,pactTxStatus:z,refresh:Ce}):"forum"===a.app?"config"===a.ui?r.a.createElement(v.a,null,r.a.createElement(O.a,{title:"Contract and UI Configuration"}),r.a.createElement(j.a,null,r.a.createElement(Ht,null))):"state"===a.ui?r.a.createElement(v.a,null,r.a.createElement(O.a,{title:"Contract State"}),r.a.createElement(j.a,null,r.a.createElement(Bt,{forumState:J}))):"mjolnir"===a.ui?r.a.createElement(v.a,null,r.a.createElement(O.a,{title:"Mjolnir Powers"}),r.a.createElement(j.a,null,r.a.createElement(ea,{tabIdx:"mjolnirTab",members:_,moderators:Z,pactTxStatus:z,refresh:Ce}))):"moderators"===a.ui?r.a.createElement(v.a,null,r.a.createElement(O.a,{title:"Moderators"}),r.a.createElement(j.a,null,r.a.createElement(na,{moderators:Z}),r.a.createElement(ha,{tabIdx:"modTab",members:_,moderators:Z,topics:ce,comments:ue,guardians:f,ambassadors:k,pactTxStatus:z,refresh:Ce}))):"members"===a.ui?r.a.createElement(v.a,null,r.a.createElement(O.a,{title:"Members"}),r.a.createElement(j.a,null,r.a.createElement(aa,{members:_}),r.a.createElement(ya,{tabIdx:"memTab",members:_,moderators:Z,topics:ce,comments:ue,guardians:f,ambassadors:k,pactTxStatus:z,refresh:Ce}))):"modlog"===a.ui?r.a.createElement(v.a,null,r.a.createElement(O.a,{title:"Moderation Log"}),r.a.createElement(j.a,null,r.a.createElement(Ea,{modLog:ae}))):"topics"===a.ui?r.a.createElement(v.a,null,r.a.createElement(O.a,{title:"Topics"}),r.a.createElement(j.a,null,r.a.createElement(Na,{topics:ce,moderators:Z,pactTxStatus:z,refresh:Ce}),r.a.createElement(Da,{tabIdx:"topicsTab",members:_,moderators:Z,topics:ce,pactTxStatus:z,refresh:Ce}))):"comments"===a.ui?r.a.createElement(v.a,null,r.a.createElement(O.a,{title:"Comments"}),r.a.createElement(j.a,null,r.a.createElement(Ta,{comments:ue}),r.a.createElement(Ia,{topics:ce,comments:ue,tabIdx:"commentsTab",members:_,moderators:Z,pactTxStatus:z,refresh:Ce}))):"topic"===a.ui?r.a.createElement(an,{topics:ce,comments:ue,members:_,moderators:Z,pactTxStatus:z,refresh:Ce}):r.a.createElement(r.a.Fragment,null,(function(){console.log("Redirecting, this didn't match:",a),o({app:"wallet",ui:"config"})})):r.a.createElement(r.a.Fragment,null,(function(){console.log("Redirecting, this didn't match:",a),o({app:"wallet",ui:"config"})})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var vn=function(){var e=r.a.useMemo((function(){return Object(u.a)({palette:{primary:{light:"#cb4584",main:"#960057",dark:"#cb4584",contrastText:"#fff"},secondary:{light:"#ffffff",main:"#e3e8ed",dark:"#b1b6bb",contrastText:"#000"}}})}),[]);return r.a.createElement(r.a.StrictMode,null,r.a.createElement(m.a,{theme:e},r.a.createElement(d.a,null,r.a.createElement(p.a,null),r.a.createElement(nt,{contractConfigs:{daoAPI:xe.daoAPI,forumAPI:xe.forumAPI,hftAPI:xe.hftAPI},globalConfig:xe.globalConfig},r.a.createElement(s.a,{basename:"/dao.init-frontend"},r.a.createElement(i.b,{ReactRouterRoute:l.a},r.a.createElement(En,null)))))))};c.a.render(r.a.createElement(vn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},5:function(e,t){var a="memory-wall-gas-station",n="https://".concat("api.testnet.chainweb.com","/chainweb/0.0/").concat("testnet04","/chain/").concat("0","/pact"),r=function(){return Math.round((new Date).getTime()/1e3)-15},o={explorerURL:"https://explorer.chainweb.com/".concat("testnet04".slice(0,-2)),networkId:"testnet04",host:n,creationTime:r,gasPrice:1e-11,gasLimit:1e4,ttl:28800},c={contractName:"init",gasStationName:a,namespace:"dao",contractAddress:"".concat("dao",".").concat("init"),gasStationAddress:"".concat("dao",".").concat(a),explorerURL:"https://explorer.chainweb.com/".concat("testnet04".slice(0,-2)),constants:{DAO_ACCT_NAME:"dao.init",GUARDIAN_KDA_REQUIRED:5e5},meta:{networkId:"testnet04",chainId:"0",host:n,creationTime:r,gasPrice:1e-11,gasLimit:1e4,ttl:28800,sender:"mw-free-gas",nonce:"some nonce that doesnt matter"}},s={contractName:"forum",gasStationName:a,namespace:"dao",contractAddress:"".concat("dao",".").concat("forum"),gasStationAddress:"".concat("dao",".").concat(a),explorerURL:"https://explorer.chainweb.com/".concat("testnet04".slice(0,-2)),constants:{},meta:{networkId:"testnet04",chainId:"0",host:n,creationTime:r,gasPrice:1e-11,gasLimit:1e4,ttl:28800,sender:"mw-free-gas",nonce:"some nonce that doesnt matter"}},l={contractName:"hft-2",gasStationName:a,namespace:"user",contractAddress:"".concat("user",".").concat("hft-2"),gasStationAddress:"".concat("user",".").concat(a),explorerURL:"https://explorer.chainweb.com/".concat("testnet04".slice(0,-2)),constants:{},meta:{networkId:"testnet04",chainId:"0",host:n,creationTime:r,gasPrice:1e-11,gasLimit:1e4,ttl:28800,sender:"mw-free-gas",nonce:"some nonce that doesnt matter"}};e.exports={daoAPI:c,forumAPI:s,hftAPI:l,globalConfig:o,keyFormatter:function(e){return e.replace(new RegExp("[A-Z]+","gm")," $&").replace(new RegExp("^[a-z]","gm"),(function(e){return e.toUpperCase()}))}}}},[[212,1,2]]]);
//# sourceMappingURL=main.390c0ceb.chunk.js.map