{"version":3,"sources":["util.js","PactTxStatus.js","Guardians.js","Ambassadors.js","KadenaConfig.js","InitState.js","App.js","serviceWorker.js","index.js","kadena-config.js"],"names":["dashStyleNames2Text","str","split","map","k","replace","RegExp","a","toUpperCase","join","isRootPactValue","val","renderPactValue","toLocaleString","JSON","stringify","toString","PactSingleJsonAsTable","props","json","removeMargin","header","keyFormatter","valFormatter","Table","simple","collapsing","celled","style","Header","Row","HeaderCell","Body","Object","entries","v","Cell","PactJsonListAsTable","keyOrder","Array","isArray","length","keys","obj","PactTxStatus","tx","txRes","txStatus","txPending","txSuccess","txFailure","txTimeout","txValidationError","Message","icon","attached","info","Icon","name","loading","Content","href","kadenaAPI","explorerURL","hash","error","undefined","warning","sendGuardianCmd","setTx","setTxStatus","setTxRes","refresh","user","cmd","envData","toSign","pactCode","caps","Pact","lang","mkCap","contractAddress","gasLimit","meta","chainId","ttl","sender","console","log","wallet","sign","signed","sendSigned","host","txReqKeys","retries","res","Promise","r","setTimeout","fetch","poll","result","status","e","RenderGuardians","guardians","RegisterAmbassador","useState","grd","setGrd","newAmb","setNewAmb","ambGrd","setAmbGrd","Form","onSubmit","evt","preventDefault","ks","parse","handleSubmit","className","Select","label","required","options","g","key","value","text","onChange","d","Field","Input","target","TextArea","placeholder","Button","color","type","DeactivateAmbassador","ambassadors","ReactivateAmbassador","amb","setAmb","RotateGuardian","setKs","RenderAmbassadors","KadenaConfig","getContractState","local","mkMeta","gasPrice","creationTime","all","data","RenderInitState","initState","App","setInitState","setGuardians","setAmbassadors","getInitState","getAmbassadors","getGuardians","useEffect","Segment","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","basename","process","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message","contractName","gasStationName","namespace","gasStationAddress","slice","networkId","Math","round","Date","getTime","nonce","module","exports"],"mappings":"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","file":"static/js/main.b0524ec0.chunk.js","sourcesContent":["// For util functions\nimport React from \"react\";\nimport {\n  Table\n} from \"semantic-ui-react\";\n//config file for blockchain calls\n\nexport const dashStyleNames2Text = str => str.split(\"-\").map(k=>k.replace(new RegExp(\"^.\",\"gm\"),a=>a.toUpperCase())).join(' ');\n\nconst isRootPactValue = (val) => {\n  if (typeof val === 'object' ) {\n    if ('timep' in val || 'int' in val || 'decimal' in val || 'time' in val || ('pred' in val && 'keys' in val)) {\n      return true;\n    } else {\n      return false;\n    }\n  } else {\n    return true;\n  }\n};\n\n\nexport const renderPactValue = (val) => {\n  if (typeof val === 'object' ) {\n    if ('time' in val) {\n      return val['time'];\n    } else if ('timep' in val) {\n      return val['timep'];\n    } else if ('int' in val) {\n      return typeof val['int'] === 'string' ? val['int'] : val['int'].toLocaleString();\n    } else if ('decimal' in val) {\n      return typeof val['decimal'] === 'string' ? val['decimal'] : val['decimal'].toLocaleString();\n    } else if ('pred' in val && 'keys' in val) {\n      return JSON.stringify(val);\n    } else {\n      return JSON.stringify(val);\n    }\n  } else if (typeof val === 'boolean') {\n    return val.toString();\n  } else if (typeof val === 'string') {\n    return val;\n  } else if (typeof val === 'number'){\n    return val.toLocaleString()\n  } else {\n    return JSON.stringify(val);\n  }\n};\n\nexport const PactSingleJsonAsTable = (props) => {\n  const json = props.json || {};\n  const removeMargin = props.removeMargin || false;\n  const header = props.header || [];\n  const keyFormatter = props.keyFormatter ? props.keyFormatter : (k) => {return (k)};\n  const valFormatter = props.valFormatter ? props.valFormatter : (str) => <code>{renderPactValue(str)}</code>\n    return (\n      <Table simple collapsing celled style={removeMargin ? ({'margin': '0 auto', 'border-radius': '0', 'border-bottom':'0','border-right':'0'}) : {}}>\n        <Table.Header>\n          <Table.Row>\n          {header.map((val) => {\n            return <Table.HeaderCell>{val}</Table.HeaderCell>;\n          })}\n          </Table.Row>\n        </Table.Header>\n\n        <Table.Body>\n          {Object.entries(json).map(([k,v]) => {\n            return (\n            <Table.Row>\n              <Table.Cell><h4>{keyFormatter(k)}</h4></Table.Cell>\n              { isRootPactValue(v) ? (\n                <Table.Cell>{valFormatter(v)}</Table.Cell>\n              ) : typeof v === \"object\" ? (\n                <PactSingleJsonAsTable\n                  json={v}\n                  keyFormatter={keyFormatter}\n                  valFormatter={valFormatter}\n                  removeMargin={true}/>\n              ) : typeof v === \"function\" ? (\n                <Table.Cell>{valFormatter(v.toString())}</Table.Cell>\n              ) : (\n                <Table.Cell>{valFormatter(v)}</Table.Cell>\n              )}\n            </Table.Row>\n            )\n          })}\n        </Table.Body>\n      </Table>\n    )\n};\n\nexport const PactJsonListAsTable = (props) => {\n  const json = props.json || {};\n  const removeMargin = props.removeMargin || false;\n  const header = props.header || [];\n  let keyOrder = [];\n  if (props.keyOrder) {\n    keyOrder = props.keyOrder;\n  } else if (Array.isArray(props.json)) {\n    if ( json.length > 0 ) {\n      keyOrder = Object.keys(json[0]);\n    }\n  }\n  const keyFormatter = props.keyFormatter ? props.keyFormatter : (k) => {return (k)};\n  const valFormatter = props.valFormatter ? props.valFormatter : (str) => <code>{renderPactValue(str)}</code>\n    return (\n      <Table simple collapsing celled style={removeMargin ? ({'margin': '0 auto', 'borderRadius': '0', 'borderBottom':'0','borderRight':'0'}) : {}}>\n        <Table.Header>\n          <Table.Row>\n          {header.map((val) => {\n            return <Table.HeaderCell>{val}</Table.HeaderCell>;\n          })}\n          </Table.Row>\n        </Table.Header>\n\n        <Table.Body>\n          {json.map(obj => {\n            return (\n              <Table.Row>\n              { keyOrder.map(k => {\n                  const v = obj[k];\n                  return (\n                    isRootPactValue(v) ? (\n                      <Table.Cell>{valFormatter(v)}</Table.Cell>\n                    ) : Array.isArray(v) ? (\n                      <Table.Cell style={{'margin': '0 auto', 'borderRadius': '0', 'borderBottom':'0','borderRight':'0', 'padding':'0'}}>\n                      <PactJsonListAsTable\n                        json={v}\n                        keyFormatter={keyFormatter}\n                        valFormatter={valFormatter}\n                        removeMargin={true}/>\n                      </Table.Cell>\n                    ) : typeof v === \"object\" ? (\n                      <Table.Cell style={{'margin': '0 auto', 'borderRadius': '0', 'borderBottom':'0','borderRight':'0', 'padding':'0'}}>\n                      <PactSingleJsonAsTable\n                        json={v}\n                        keyFormatter={keyFormatter}\n                        valFormatter={valFormatter}\n                        removeMargin={true}/>\n                      </Table.Cell>\n                    ) : typeof v === \"function\" ? (\n                      <Table.Cell>{valFormatter(v.toString())}</Table.Cell>\n                    ) : (\n                      <Table.Cell>{valFormatter(v)}</Table.Cell>\n                    )\n                  )\n                }\n            )}\n            </Table.Row>\n          )\n        })}\n      </Table.Body>\n    </Table>\n)}\n//           })}\n//             return (\n//             <Table.Row>\n//               <Table.Cell><h4>{keyFormatter(k,v)}</h4></Table.Cell>\n//               { isRootPactValue(v) ? (\n//                 <Table.Cell>{valFormatter(v)}</Table.Cell>\n//               ) : typeof v === \"object\" ? (\n//                 <PactSingleJsonAsTable\n//                   json={v}\n//                   keyFormatter={keyFormatter}\n//                   valFormatter={valFormatter}\n//                   removeMargin={true}/>\n//               ) : typeof v === \"function\" ? (\n//                 <Table.Cell>{valFormatter(v.toString())}</Table.Cell>\n//               ) : (\n//                 <Table.Cell>{valFormatter(v)}</Table.Cell>\n//               )}\n//             </Table.Row>\n//             )\n//           })}\n//         </Table.Body>\n//       </Table>\n//     )\n// };\n","//basic React api imports\nimport React from \"react\";\nimport {\n  Icon,\n  Message,\n} from \"semantic-ui-react\";\n\nimport { kadenaAPI } from \"./kadena-config.js\";\n\nexport const PactTxStatus = (props) => {\n  // TODO: make these msgs hideable\n  const tx = props.tx;\n  const txRes = props.txRes;\n  const txStatus = props.txStatus;\n\n  return (\n    <div>\n    { txStatus === \"pending\" ? (\n      txPending(tx)\n    ) : txStatus === \"success\" ? (\n      txSuccess(tx)\n    ) : txStatus === \"failure\" ? (\n      txFailure(tx,txRes)\n    ) : txStatus === \"timeout\" ? (\n      txTimeout(tx)\n    ) : txStatus === \"validation-error\" ? (\n      txValidationError(tx,txRes)\n    ) : (\n      <div />\n    )}\n    </div>\n  )\n\n}\n\nconst txPending = (tx) => {\n  return (\n    <Message icon attached=\"bottom\" info>\n      <Icon name='circle notched' loading />\n      <Message.Content>\n        <Message.Header>\n          Transaction Sent\n        </Message.Header>\n        <p>Awaiting Confirmation</p>\n        <a href={`${kadenaAPI.explorerURL}/tx/${tx.hash}`}>\n          View transaction in Block Explorer\n        </a>\n      </Message.Content>\n    </Message>\n  );\n};\nconst txSuccess = (tx) => {\n  return (\n    <Message icon attached=\"bottom\" info>\n      <Icon name='check square outline' />\n      <Message.Content>\n        <Message.Header>\n          Transaction Confirmed\n        </Message.Header>\n        <a href={`${kadenaAPI.explorerURL}/tx/${tx.hash}`}>\n          View transaction in Block Explorer\n        </a>\n      </Message.Content>\n    </Message>\n  );\n};\n\nconst txFailure = (tx,txRes) => {\n  return (\n    <Message icon attached=\"bottom\" error>\n      <Icon name='exclamation' />\n      <Message.Content>\n        <Message.Header>\n          Transaction Failure\n        </Message.Header>\n        <p>{JSON.stringify(txRes,undefined,2)}</p>\n        <a href={`${kadenaAPI.explorerURL}/tx/${tx.hash}`}>\n          View transaction in Block Explorer\n        </a>\n      </Message.Content>\n    </Message>\n  );\n};\n\nconst txValidationError = (tx, txRes) => {\n  return (\n    <Message icon attached=\"bottom\" error>\n      <Icon name='exclamation' />\n      <Message.Content>\n        <Message.Header>\n          Transaction Validation Failure\n        </Message.Header>\n        Transaction was not sent to Blockchain. Check your keys or metadata\n      </Message.Content>\n    </Message>\n  );\n};\n\nconst txTimeout = (tx) => {\n  return (\n    <Message icon attached=\"bottom\" warning>\n      <Icon name='hourglass outline' />\n      <Message.Content>\n        <Message.Header>\n          Transaction Timeout\n        </Message.Header>\n        ...but your tx was sent.\n        <a href={`${kadenaAPI.explorerURL}/tx/${tx.hash}`}>\n          View transaction in Block Explorer\n        </a>\n      </Message.Content>\n    </Message>\n  );\n};\n","//basic React api imports\nimport React, { useState, } from \"react\";\n//semantic ui for styling\nimport {\n  Form,\n  Input,\n  Message,\n  Button,\n} from \"semantic-ui-react\";\n//pact-lang-api for blockchain calls\nimport Pact from \"pact-lang-api\";\n//config file for blockchain calls\nimport { kadenaAPI } from \"./kadena-config.js\";\nimport {\n  PactJsonListAsTable,\n } from \"./util.js\";\nimport { PactTxStatus } from \"./PactTxStatus.js\"\n\nconst sendGuardianCmd = async (\n  setTx,\n  setTxStatus,\n  setTxRes,\n  refresh,\n  user, cmd, envData={}\n) => {\n    try {\n      //creates transaction to send to wallet\n      const toSign = {\n          pactCode: cmd,\n          caps: Pact.lang.mkCap(\"Guadian Cap\"\n                           , \"Authenticates that your a guardian\"\n                           , `${kadenaAPI.contractAddress}.GUARDIAN`\n                           , [user]),\n          gasLimit: kadenaAPI.meta.gasLimit,\n          chainId: kadenaAPI.meta.chainId,\n          ttl: kadenaAPI.meta.ttl,\n          sender: user,\n          envData: envData\n      }\n      console.log(\"toSign\", toSign)\n      //sends transaction to wallet to sign and awaits signed transaction\n      const signed = await Pact.wallet.sign(toSign)\n      console.log(\"signed\", signed)\n      setTx(signed)\n      //sends signed transaction to blockchain\n      const txReqKeys = await Pact.wallet.sendSigned(signed, kadenaAPI.meta.host)\n      console.log(\"txReqKeys\", txReqKeys)\n      //set html to wait for transaction response\n      //set state to wait for transaction response\n      setTxStatus('pending')\n      try {\n        //listens to response to transaction sent\n        //  note method will timeout in two minutes\n        //    for lower level implementations checkout out Pact.fetch.poll() in pact-lang-api\n        let retries = 8;\n        let res = {};\n        while (retries > 0) {\n          //sleep the polling\n          await new Promise(r => setTimeout(r, 15000));\n          res = await Pact.fetch.poll(txReqKeys, kadenaAPI.meta.host);\n          try {\n            if (res[signed.hash].result.status) {\n              retries = -1;\n            } else {\n              retries = retries - 1;\n            }\n          } catch(e) {\n              retries = retries - 1;\n          }\n        };\n        //keep transaction response in local state\n        setTxRes(res)\n        if (res[signed.hash].result.status === \"success\"){\n          console.log(\"tx status set to success\");\n          //set state for transaction success\n          setTxStatus('success');\n          refresh();\n        } else if (retries === 0) {\n          console.log(\"tx status set to timeout\");\n          setTxStatus('timeout');\n          refresh();\n        } else {\n          console.log(\"tx status set to failure\");\n          //set state for transaction failure\n          setTxStatus('failure');\n        }\n      } catch(e) {\n        // TODO: use break in the while loop to capture if timeout occured\n        console.log(\"tx api failure\",e);\n        setTxRes(e);\n        setTxStatus('failure');\n      }\n    } catch(e) {\n      console.log(e);\n      console.log(\"tx status set to validation error\");\n      //set state for transaction construction error\n      setTxStatus('validation-error');\n    }\n};\n\nexport const RenderGuardians = (props) => {\n  return (\n    <PactJsonListAsTable\n      header={[\"Guardian\",\"Committed KDA\",\"Approved Hash\",\"Approval Date\",\"Guard\"]}\n      keyOrder={[\"k\",\"committed-kda\",\"approved-hash\",\"approved-date\",\"guard\"]}\n      json={props.guardians}\n    />\n)};\n\nexport const RegisterAmbassador = (props) => {\n  const [grd, setGrd] = useState( \"\" );\n  const [newAmb, setNewAmb] = useState( \"\" );\n  const [ambGrd, setAmbGrd] = useState( \"\" );\n  const [txStatus, setTxStatus] = useState(\"\");\n  const [tx, setTx] = useState( {} );\n  const [txRes, setTxRes] = useState( {} );\n\n  const handleSubmit = (evt) => {\n      evt.preventDefault();\n      console.log(grd,newAmb,ambGrd);\n      sendGuardianCmd(setTx,setTxStatus,setTxRes,props.refresh\n        ,grd\n        ,`(${kadenaAPI.contractAddress}.register-ambassador \"${grd}\" \"${newAmb}\" (read-keyset 'ks))`\n        ,{ks: JSON.parse(ambGrd)}\n        )\n      };\n\n  return (\n    <div>\n      <Message attached header=\"Add Ambassador\"/>\n      <Form onSubmit={evt => handleSubmit(evt)} className=\"attached fluid segment\">\n        <Form.Select\n          label=\"Select Guardian\"\n          required\n          options={props.guardians.map((g) => {return {key: g['k'], value:g['k'], text:g['k']};})}\n          onChange={(e,d) => {setGrd(d.value)}}\n          />\n        <Form.Field required>\n          <label>Ambassador Account Name</label>\n          <Input required\n            value={newAmb}\n            onChange={e => setNewAmb(e.target.value)}/>\n        </Form.Field>\n        <Form.TextArea required\n          label=\"Ambassador Account Guard\"\n          placeholder={JSON.stringify({\"pred\":\"keys-all\",\"keys\":[\"8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543\"]},undefined,2)}\n          value={ambGrd}\n          onChange={e => setAmbGrd(e.target.value)}\n          />\n        <Button color='blue' type='submit'>Submit</Button>\n      </Form>\n      <PactTxStatus tx={tx} txRes={txRes} txStatus={txStatus}/>\n    </div>\n\n  );\n};\n\nexport const DeactivateAmbassador = (props) => {\n  const [grd, setGrd] = useState( \"\" );\n  const [newAmb, setNewAmb] = useState( \"\" );\n  const [txStatus, setTxStatus] = useState(\"\");\n  const [tx, setTx] = useState( {} );\n  const [txRes, setTxRes] = useState( {} );\n\n  const handleSubmit = (evt) => {\n      evt.preventDefault();\n      // console.log(grd,newAmb);\n      sendGuardianCmd(setTx,setTxStatus,setTxRes,props.refresh\n        ,grd\n        ,`(${kadenaAPI.contractAddress}.deactivate-ambassador \"${grd}\" \"${newAmb}\")`\n        )\n      };\n\n  return (\n    <div>\n      <Message attached header=\"Deactivate Ambassador\"/>\n      <Form onSubmit={(evt)=>handleSubmit(evt)} className=\"attached fluid segment\">\n        <Form.Select\n          label=\"Select Guardian\"\n          required\n          options={props.guardians.map((g) => {return {key: g['k'], value:g['k'], text:g['k']};})}\n          onChange={(e,d) => {setGrd(d.value)}}\n          />\n        <Form.Select\n          label=\"Select Ambassador\"\n          required\n          options={props.ambassadors.map((g) => {return {key: g['k'], value:g['k'], text:g['k']};})}\n          onChange={e => setNewAmb(e.target.value)}/>\n        <Button color='blue' type='submit'>Submit</Button>\n      </Form>\n      <PactTxStatus tx={tx} txRes={txRes} txStatus={txStatus}/>\n    </div>\n\n  );\n};\n\nexport const ReactivateAmbassador = (props) => {\n  const [grd, setGrd] = useState( \"\" );\n  const [amb, setAmb] = useState( \"\" );\n  const [txStatus, setTxStatus] = useState(\"\");\n  const [tx, setTx] = useState( {} );\n  const [txRes, setTxRes] = useState( {} );\n\n  const handleSubmit = (evt) => {\n      evt.preventDefault();\n      // console.log(grd,newAmb);\n      sendGuardianCmd(setTx,setTxStatus,setTxRes,props.refresh\n        ,grd\n        ,`(${kadenaAPI.contractAddress}.reactivate-ambassador \"${grd}\" \"${amb}\")`\n        )\n      };\n\n  return (\n    <div>\n      <Message attached header=\"Reactivate Ambassador\"/>\n      <Form onSubmit={evt => handleSubmit(evt)} className=\"attached fluid segment\">\n        <Form.Select\n          label=\"Select Guardian\"\n          required\n          options={props.guardians.map((g) => {return {key: g['k'], value:g['k'], text:g['k']};})}\n          onChange={(e,d) => {setGrd(d.value)}}\n          />\n        <Form.Select\n          label=\"Select Ambassador\"\n          required\n          options={props.ambassadors.map((g) => {return {key: g['k'], value:g['k'], text:g['k']};})}\n          onChange={(e,d) => setAmb(d.value)}/>\n        <Button color='blue' type='submit'>Submit</Button>\n      </Form>\n      <PactTxStatus tx={tx} txRes={txRes} txStatus={txStatus}/>\n    </div>\n\n  );\n}\n\nexport const RotateGuardian = (props) => {\n  const [grd, setGrd] = useState( \"\" );\n  const [ks, setKs] = useState( \"\" );\n  const [txStatus, setTxStatus] = useState( \"\" );\n  const [tx, setTx] = useState( {} );\n  const [txRes, setTxRes] = useState( {} );\n\n  const handleSubmit = (evt) => {\n      evt.preventDefault();\n      // console.log(grd,newAmb);\n      sendGuardianCmd(setTx,setTxStatus,setTxRes,props.refresh\n        ,grd\n        ,`(${kadenaAPI.contractAddress}.reactivate-ambassador \"${grd}\" (read-keyset 'ks))`\n        ,{ks: JSON.parse(ks)})\n      };\n\n  return (\n    <div>\n      <Message attached header=\"Rotate Guardian\"/>\n      <Form onSubmit={evt => handleSubmit(evt)} className=\"attached fluid segment\">\n        <Form.Select\n          label=\"Select Guardian\"\n          required\n          options={props.guardians.map((g) => {return {key: g['k'], value:g['k'], text:g['k']};})}\n          onChange={(e,d) => {setGrd(d.value)}}\n          />\n        <Form.TextArea required\n          label=\"Enter new KeySet\"\n          placeholder={JSON.stringify({\"pred\":\"keys-all\",\"keys\":[\"8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543\"]},undefined,2)}\n          value={ks}\n          onChange={e => setKs(e.target.value)}\n          />\n        <Button color='blue' type='submit'>Submit</Button>\n      </Form>\n      <PactTxStatus tx={tx} txRes={txRes} txStatus={txStatus}/>\n    </div>\n\n  );\n}\n","//basic React api imports\nimport React from \"react\";\n//config file for blockchain calls\nimport { PactJsonListAsTable } from \"./util.js\";\n\n\nexport const RenderAmbassadors = (props) => {\n  return (\n    <PactJsonListAsTable\n      header={[\"Ambassador\",\"Active\",\"Voted to Freeze\",\"Guard\"]}\n      keyOrder={[\"k\",\"active\",\"voted-to-freeze\",\"guard\"]}\n      json={props.ambassadors}\n    />\n)};\n","//basic React api imports\nimport React from \"react\";\nimport { kadenaAPI, keyFormatter } from \"./kadena-config.js\";\nimport { PactSingleJsonAsTable } from \"./util.js\";\n\nexport const KadenaConfig = () => {\n  return (\n    <PactSingleJsonAsTable\n      json={kadenaAPI}\n      keyFormatter={keyFormatter}\n      />\n  )\n};\n","//basic React api imports\nimport React from \"react\";\n//config file for blockchain calls\nimport Pact from \"pact-lang-api\";\nimport { kadenaAPI } from \"./kadena-config.js\";\nimport { PactSingleJsonAsTable, dashStyleNames2Text } from \"./util.js\";\n\nexport const getContractState = async (cmd) => {\n  //calling get-all() function from smart contract\n    const res = await Pact.fetch.local(\n      {\n        pactCode: `(${kadenaAPI.contractAddress}.${cmd})`,\n        //pact-lang-api function to construct transaction meta data\n        meta: Pact.lang.mkMeta(\n          kadenaAPI.meta.sender,\n          kadenaAPI.meta.chainId,\n          kadenaAPI.meta.gasPrice,\n          kadenaAPI.meta.gasLimit,\n          kadenaAPI.meta.creationTime(),\n          kadenaAPI.meta.ttl\n        ),\n      },\n      kadenaAPI.meta.host\n    );\n    const all = res.result.data;\n    //sorts memories by least recent\n    console.log(\"local query data\",all);\n    return(all);\n};\n\nexport const RenderInitState = (props) => {\n  return (\n   <PactSingleJsonAsTable\n    json={props.initState}\n    header={[\"\",\"Status\"]}\n    keyFormatter={dashStyleNames2Text}\n    />\n  )\n};\n","//basic React api imports\nimport React, { useState, useEffect } from \"react\";\n//semantic ui for styling\nimport {\n  Segment,\n} from \"semantic-ui-react\";\n//config file for blockchain calls\nimport  {\n  RenderGuardians,\n  RegisterAmbassador,\n  DeactivateAmbassador,\n  ReactivateAmbassador,\n  RotateGuardian,\n} from \"./Guardians.js\";\nimport { RenderAmbassadors } from \"./Ambassadors.js\";\nimport { KadenaConfig } from \"./KadenaConfig.js\"\nimport { RenderInitState, getContractState } from \"./InitState.js\";\n\nconst App = () => {\n  /*\n\n    REACT COMPONENT SETUP\n\n      we will make use of standard react apis\n\n      useState -> page state management\n      useEffect -> fetch existing memories on page load\n\n  */\n\n  const [initState, setInitState] = useState( {} );\n  const [guardians, setGuardians] = useState( [] );\n  const [ambassadors, setAmbassadors] = useState( [] );\n\n  const getInitState = async () => {\n    const res = await getContractState(\"view-state\");\n    setInitState(res);\n  };\n\n  const getAmbassadors = async () => {\n    const res = await getContractState(\"view-ambassadors\");\n    setAmbassadors(res);\n  };\n\n  const getGuardians = async () => {\n    const res = await getContractState(\"view-guardians\");\n    setGuardians(res);\n  };\n\n  useEffect(() => {\n    getInitState();\n    getAmbassadors();\n    getGuardians();\n  }, []);\n\n  useEffect(() => {\n    getInitState();\n  },[ambassadors,guardians]);\n\n  /*\n\n    BLOCKCHAIN TRANSACTIONS\n\n      use pact-lang-api npm package to interact with Kadena blockchain networks\n        https://github.com/kadena-io/pact-lang-api\n\n      all transaction setup is ./kadena-config.js\n\n  */\n\n\n  return (\n    <Segment>\n      <h1>\n        <a>Welcome to DAO.init</a>\n      </h1>\n      <KadenaConfig/>\n      <h2>\n        Contract State\n      </h2>\n      <RenderInitState initState={initState}/>\n      <h2>\n        Guardians\n      </h2>\n      <RenderGuardians guardians={guardians}/>\n      <h2>\n        Ambassadors\n      </h2>\n      <RenderAmbassadors ambassadors={ambassadors}/>\n      <RegisterAmbassador\n        guardians={guardians}\n        refresh={() => getAmbassadors()}/>\n      <ReactivateAmbassador\n        guardians={guardians}\n        ambassadors={ambassadors}\n        refresh={() => getAmbassadors()}/>\n      <DeactivateAmbassador\n        guardians={guardians}\n        ambassadors={ambassadors}\n        refresh={() => getAmbassadors()}/>\n      <RotateGuardian\n        guardians={guardians}\n        refresh={() => getGuardians()}/>\n    </Segment>\n  );\n};\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, } from 'react-router-dom';\nimport App from './App';\nimport './index.css';\nimport 'semantic-ui-css/semantic.min.css'\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n        <Router basename={process.env.PUBLIC_URL}>\n          <App />\n        </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","/*\n\nBLOCKCHAIN CONFIGURATION FILE\n\n  initalize all data for pact-lang-api kadena blockchain calls\n\n  modify this file to interact with different\n    chains, networks, contracts\n\n  documentation:\n    https://pact-language.readthedocs.io/en/stable/\n\n  pact tutorials:\n    https://pactlang.org/\n\n*/\n\n//chain that contract lives on\nvar chainId = \"0\";\n\n//id of network version\nvar networkId = \"testnet04\";\n\n//network node\nvar node = \"api.testnet.chainweb.com\";\n\n//unique contract name\nvar contractName = \"init\";\n\n//unique gas station contract name\nvar gasStationName = \"memory-wall-gas-station\";\n\n//namespace that precedes contract name\nvar namespace = \"free\";\n\n//api host to send requests\nvar host = `https://${node}/chainweb/0.0/${networkId}/chain/${chainId}/pact`;\n\n//creation time for request\nvar creationTime = () => Math.round(new Date().getTime() / 1000) - 15;\n\n//JSON with all necessary blockchain call data\nvar kadenaAPI = {\n  contractName: contractName,\n  gasStationName: gasStationName,\n  namespace: namespace,\n  contractAddress: `${namespace}.${contractName}`,\n  gasStationAddress: `${namespace}.${gasStationName}`,\n  explorerURL: `https://explorer.chainweb.com/${networkId.slice(0, -2)}`,\n  meta: {\n    networkId: networkId,\n    chainId: chainId,\n    host: host,\n    creationTime: creationTime,\n    //gas price at lowest possible denomination\n    gasPrice: 0.00000000001,\n    //high gas limit for tx\n    gasLimit: 10000,\n    //time a tx lives in mempool since creationTime\n    ttl: 28800,\n    //sender === gas payer of the transaction\n    //  set to our gas station account defined in memory-wall-gas-station.pact\n    sender: \"mw-free-gas\",\n    //nonce here doesnt matter since the tx will never have the same hash\n    nonce: \"some nonce that doesnt matter\",\n  },\n};\n\nconst keyFormatter = (str) =>\n  str.replace(new RegExp(\"[A-Z]+\",\"gm\"),\" $&\").replace(new RegExp(\"^[a-z]\",\"gm\"),k => k.toUpperCase());\n\nmodule.exports = { kadenaAPI: kadenaAPI, keyFormatter: keyFormatter }\n"],"sourceRoot":""}